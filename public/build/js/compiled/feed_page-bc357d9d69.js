function viewPostAttachment(e,t,i,s,n,o){updateFileViews(s),viewAttachment(e,t,i,n,o)}function viewAttachment(e,t,i,s,n){s/1024/1024>10&&"video/mp4"!=t?downloadFile(e,t,i):viewFile(e,t,i,s,n)}function checkDevice(){isAppleDevice()&&(swal({title:"Unable to download",text:"This file type is not supported by your device",confirmButtonText:"close",customClass:"simple-alert"}),e.preventDefault())}function downloadFile(e,t,i){return checkDevice(),signed_url=signedUrl(e,!1,i),""===signed_url.cloud?(alert("This file type is being converted and may take a few seconds to appear."),!1):void(window.location=signed_url.cloud)}function updateFileViews(e){$.ajax({type:"GET",url:baseurl+"/view_file?post_id="+e})}function viewFile(e,t,i,s,n){if("url"===t){var o=window.open(e,"_blank");return o.focus(),!1}return signed_url=signedUrl(e,!1,i),""===signed_url.cloud?(alert("This file type is being converted and may take a few seconds to appear."),!1):(viewer_class=getViewerClass(signed_url,t,s),signed_url.file_info_cloud=documentViewer(signed_url),void openFile(viewer_class,signed_url,i,n))}function documentViewer(e){var t=e.file_url,i=e.file_ext.toLowerCase();return["pptx","ppt","ppsx","pps","potx","ppsm","docx","dotx"].indexOf(i)>=0?t="https://view.officeapps.live.com/op/view.aspx?src="+encodeURIComponent(e.cloud):["pdf"].indexOf(i)>=0&&(t=baseurl+"/pdf_viewer/web/viewer.html?file="+e.document_viewer),t}function getViewerClass(e,t,i){image=["png","gif","jpg","jpeg"],video=["mp4"],pdf_docs=["pdf"],ppt_word_docs=["ppt","pptx","ppsx","pps","potx","ppsm","docx","dotx"],excel_docs=["xlsx","xlsb","xls","xlsm"],viewer=!1;var s=e.file_ext.toLowerCase();return image.indexOf(s)>=0?viewer="image-viewer":video.indexOf(s)>=0||"video/mp4"===t?viewer="video-viewer":ppt_word_docs.indexOf(s)>=0&&i/1024/1024<10||pdf_docs.indexOf(s)>=0&&i/1024/1024<8?viewer="docs-viewer":(checkDevice(),viewer=null,window.location=e.cloud),viewer}function openFile(e,t,i,s){isAppleDevice()&&$("a.file-download").remove(),s&&$("."+e).find(".file-download").attr("media-id",s.id),$("h4.modal-title").html(decodeURIComponent(i)),$("."+e).find(".file-download").attr("href",t.cloud),$("."+e).find(".modal-loader").show(),$("."+e).modal("show"),$("."+e).find(".file-source").attr("src",t.file_info_cloud),$("."+e).find("video").length&&($("."+e).find("video").load(),$("."+e).find("video")[0].play(),$("."+e).find(".modal-loader").hide())}function pullPostId(e){return e=$("div.comment-area:not(.edit-comment-area)").attr("id"),e.replace("comment_input_area","")}function mentionsComment(e,t){$(e).mentionsInput({source:baseurl+"/mention_user?post_id="+t,showAtCaret:!0}),$(e).mentionsInput("editReady",e)}function feedbackPopup(){rating=getQueryVariable("feedback_rating"),rating&&$.ajax({type:"POST",dataType:"html",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{rating:rating},url:baseurl+"/feedback_popup/"+session_space_id,success:function(e){$("#feedback-popup").remove(),$(".post-modal").append(e),$("#feedback-popup").find("input:radio[value="+rating+"]").trigger("click"),$("#feedback-popup").modal("show")}})}function endorseUserWrap(e){return'<a style="text-decoration:none; color:#0D47A1" href="#!" onclick="liked_info(this);" data-id="'+e.id+'">'+e.fullname+"</a>"}function endorseUsersList(e){var t="";return $.each(e,function(i,s){if(t+=s.user.fullname+"<br>",i>=5)return 5===parseInt(i)&&(t+="and "+(e.length-5)+" others"),!1}),'<a href="#!" class="endorse-user" data-toggle="modal" data-target="#endoresedpopup"><span class="visible_tooltip endorse-user'+e[0].post_id+' " data-trigger="hover" type="button" data-toggle="popover" data-placement="top" data-html="true" title="" data-content="'+t+'" data-original-title=""><span id="example_popover" class="other-endorse endorsed_popup" endors-poup-post="'+e[0].post_id+'" space-id="'+current_space_id+'">'+e.length+" others</span></span></a>"}function getFeed(){category=$(".categories-wrap").find(".category-selected").attr("key"),category=category?category:"",offset=$(".post-block").length,post_null||(feed_xhr=$.ajax({type:"GET",dataType:"JSON",url:baseurl+"/posts?space_id="+session_space_id+"&offset="+offset+"&category="+category,beforeSend:function(){$(".show_puff").show()},success:function(e){var t=new DOMParser,i=$("#post_template").html(),s=Handlebars.compile(i),n="";$.each(e.posts,function(i,o){post_category=e.space_category,o.space_category=post_category;var a=t.parseFromString("<!doctype html><body>"+o.post_subject,"text/html");o.post_subject=a.body.textContent,o.logged_user=e.user,o.baseurl=baseurl,o.is_logged_in_user_admin=is_logged_in_user_admin,o.feature_restriction=e.feature_restriction,n+=s(o)}),$("#load_more_post").before(n),$("#load_more_post").show(),$('[data-toggle="popover"]').popover(),$(".show_extra_content").parent().attr("href","javascript:void();"),onYouTubeIframeAPIReady(),videoPlayLog(),0==e.posts.length&&(post_null=!0)},complete:function(){$(".show_puff").hide(),$(".lazy-loading.post").hide(),feed_xhr=null,sticky_sidebar_stop=!1,$(window).width()>767&&$(".feed-col-right .post-wrap").length>3&&$("#left-content, .right-content").theiaStickySidebar({additionalMarginTop:68}),hidePinPostOption()}}))}function getPost(e,t){$.ajax({type:"GET",dataType:"JSON",data:t,url:baseurl+"/post/"+e+"?space_id="+session_space_id,success:function(t){getpostContent(e,t),videoPlayLog()},complete:function(){feed_xhr=null,hidePinPostOption()}})}function hidePinPostOption(){var e=$(".unpin_post").length;4==e&&$(".pin_post").remove()}function getpostContent(e,t){var i=$("#post_template").html(),s=Handlebars.compile(i),n="";$.each(t.posts,function(e,i){i.space_category=post_category,i.logged_user=t.user,i.baseurl=baseurl,i.is_logged_in_user_admin=is_logged_in_user_admin,i.feature_restriction=t.feature_restriction,n+=s(i)}),$(".post-block."+e).replaceWith(n),$('[data-toggle="popover"]').popover()}function getEndorseContent(e,t){var i=$("#post_template").html(),i=$(i).find(".like-detail-section").html(),s=Handlebars.compile(i),n="";$.each(t.posts,function(e,t){t.baseurl=baseurl,n+=s(t)}),$(".post-block."+e+" .like-detail-section").html(n),$('[data-toggle="popover"]').popover()}function refreshPost(e,t){return getPost(e,t)}function refreshFeed(){$(".post-block").remove(),$(".lazy-loading.post").show(),getFeed()}function getExtention(e){return ext=e.split("."),ext.pop()}function feedRequest(){if(category=post_feed_data.category?"&tokencategory="+post_feed_data.category:"",feed_xhr){if(!category)return;feed_xhr.abort(),feed_xhr=null}0===post_feed_data.is_scroll&&$(".feed-col-right .post-wrap").remove(),feed_xhr=$.ajax({type:"GET",dataType:"html",url:baseurl+"/get_ajax_posts/"+post_feed_data.space_id+"?limit="+post_feed_data.offset+category,beforeSend:function(){$(".show_puff").show()},success:function(e){$(window).scrollTop($(window).scrollTop()-2),""===e?($("#load_more_post").hide(),$(".show_puff").hide(),content_found=!1,$("#load_more_post").before('<div class="post-wrap"><div class="post"><div class="no-result-div"><div class="no-result-col"><i class="fa fa-search" aria-hidden="true"></i><p>No result found.</p></div></div></div></div>')):(content_found=!0,$("#load_more_post").show()),$("#load_more_post").before(e),$(".load_ajax_new_posts").val(0),$(".post_show_hidden").val(3),post_feed_data.offset+=3,video_player_log_bind(),onYouTubeIframeAPIReady(),postsLoadedSuccessfully(),$('[data-toggle="popover"]').popover()},error:function(e,t,i){$(".load_ajax_new_posts").val(0),$(".show_puff").hide()},complete:function(){$(".show_puff").hide(),$(".lazy-loading.post").hide(),feed_xhr=null,hidePinPostOption()}})}function getTwitterFeeds(){$.ajax({type:"get",url:baseurl+"/get_twitter_feeds?space_id="+current_space_id,success:function(e){return e&&$(".twitter-feed-section-dashboard").html(e),!1},error:function(e,t,i){logErrorOnPage(e,t,i,"getTwitterFeeds")}})}function getTopPost(){var e=new Date;$.ajax({type:"GET",url:baseurl+"/gettopthreepost?month="+(e.getMonth()+1)+"&year="+e.getFullYear()+"&company=&space_id="+current_space_id,success:function(e){$(".top-post-ajax-div").html(e),$(".top-post-front, .lazy-loading.top-post").toggleClass("hidden")}})}function changeUrl(e,t){if("undefined"!=typeof history.pushState){var i={Page:e,Url:t};single_post_view=null,history.pushState(i,i.Page,i.Url)}else console.log("This browser does not support HTML5.")}function expandPost(e,t){var i=$("#post_"+e+" .post-feed-section").closest(".post-wrap");i.removeClass("minimize"),"single"==t&&$("#post_"+e).removeClass("minimize"),i.find(".m-collapse").addClass("minimize-post"),i.find(".m-collapse").removeClass("m-collapse"),void 0===t&&(i.find(".post-description .full_description").hide(),i.find(".post-description .trim_description").show(),i.find(".post-description .trim_description").removeClass("hidden")),i.find(".expand_view_content").show(),i.find(".minimize-post").html('<span class="dropdown-post-icon"><img src="'+baseurl+'/images/ic_unfold_less.svg"></span>Minimise post')}function getSinglePost(e){$.ajax({type:"GET",url:baseurl+"/post/"+e+"?space_id="+session_space_id,success:function(e){single_post_data=e;var t=$("#post_template").html(),i=Handlebars.compile(t),s="",n=0;$.each(e.posts,function(t,o){n=o.id,post_category=e.space_category,o.space_category=post_category,o.logged_user=e.user,o.baseurl=baseurl,o.is_logged_in_user_admin=is_logged_in_user_admin,o.single_post_view=single_post_view,o.feature_restriction=e.feature_restriction,s+=i(o)}),$(".single_post_content").html(s),$("#single_post_modal").modal(),$(".modal-backdrop").eq(0).addClass("second-overlay"),$(".single-post-popup .post-feed-section > iframe").remove();var o=$(".single_post_content .minimize-collapse,.m-collapse");o.length>0&&expandPost(n,"single"),videoPlayLog()}})}function feedEndorse(e,t){$.ajax({type:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{post_id:e,endorse:t},url:baseurl+"/endorsePost",success:function(t){getEndorseContent(e,t)}})}function linkify(e){var t,i,s,n,o="linkify-anchor";return i=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,t=e.replace(i,'<a href="$1" class='+o+' target="_blank">$1</a>'),s=/(^|[^\/])(www\.[\S]+(\b|$))/gi,t=t.replace(s,"$1<a class="+o+' href="http://$2" target="_blank">$2</a>'),n=/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gi,t=t.replace(n,"<a class="+o+' href="mailto:$1">$1</a>')}function htmlSubstring(e,t){for(var i,s=/<([^>\s]*)[^>]*>/g,n=[],o=0,a="";(i=s.exec(e))&&t;){var r=e.substring(o,i.index).substr(0,t);a+=r,t-=r.length,o=s.lastIndex,t&&(a+=i[0],0===i[1].indexOf("/")?n.pop():i[1].lastIndexOf("/")!==i[1].length-1&&n.push(i[1]))}return a+=e.substr(o,t),a.trim()}function copyTextToClipboard(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,single_post_view?$("#single_post_modal").append(t):document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(i){alert("Could not copy the URL - please update your browser to the latest version.")}single_post_view?$("#single_post_modal").find(t).remove():document.body.removeChild(t)}function iosCopyToClipboard(e){el=document.getElementById("copy_post_link_ios"),el.innerHTML=e;var t=document.createRange();t.selectNodeContents(el);var i=window.getSelection();i.removeAllRanges(),i.addRange(t),el.setSelectionRange(0,999999),document.execCommand("copy")}function pasteAsPlainText(e,t){t.preventDefault();var i="";t.clipboardData||t.originalEvent.clipboardData?i=(t.originalEvent||t).clipboardData.getData("text/plain"):window.clipboardData&&(i=window.clipboardData.getData("Text")),document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,i):document.execCommand("paste",!1,i)}function checkBlockWords(e,t,i){var s=!1;return $.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:baseurl+"/matchwordsubject",data:{subject:e,body:t,_token:i},dataType:"json",async:!1,success:function(i){if(""!=i){if(i.subject){var n=i.subject.toString().replace(/\,/g,'", "');if(""!=n){$(".post_subject:visible").addClass("word-block-error"),$(".post_subject:visible").parent().find(".error-msg").remove();var o='<span class="error-msg error-body text-left" style="text-align: left;">';o+='This post contains the following blocked word(s): "'+n+'"</br>',o+="Please remove any blocked words before adding your post</span>",$(".post_subject:visible").after(o),s=1}}if(i.body1){var a=i.body1.toString().replace(/\,/g,'", "');if(""!=a){$(".main_post_ta:visible").addClass("word-block-error"),$(".main_post_ta:visible").parent().find(".error-msg").remove();var o='<span class="error-msg error-body text-left" style="text-align: left;">';o+='This post contains the following blocked word(s): "'+a+'"</br>',o+="Please remove any blocked words before adding your post</span>",$(".main_post_ta:visible").after(o),s=1}}}else(!e||!e.length>0)&&($(".post_subject:visible").parent().find(".error-msg").remove(),$(".post_subject:visible").after('<span class="error-msg error-body text-left" style="text-align: left;">Subject is mandatory</span>'),s=1),(!t||!t.length>0)&&($(".post-description-textarea:visible").parent().find(".error-msg").remove(),$(".post-description-textarea:visible").after('<span class="error-msg error-body text-left" style="text-align: left;">Body is mandatory</span>'),s=1)},error:function(e){ev.preventDefault()}}),s}function addPost(e){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:baseurl+"/addpost",data:e,dataType:"JSON",success:function(e){"undefined"!=typeof e.message&&"user_deleted"==e.message&&(window.location.href=baseurl+"/logout"),post_null=!1,refreshFeed(),resetAddPostFormElements(),addProgressBarsection("add_post")},error:function(e,t,i){errorOnPage(e,t,i)}})}function triggerAddPost(){addPost($("#save_post_btn_new").closest("form").serialize())}function resetAddPostFormElements(){$("#discard").trigger("click"),$(".add_post_form").find(".form-submit-loader").hide(),$(".alert-checkbox").parent().addClass("active").removeClass("disable_check"),$(".select_all_alert").parent().addClass("active").removeClass("disable_check"),$(".selection_alert").text("Everyone"),$(".visiblity-checkbox").parent().addClass("active"),$(".select_all_visibility").parent().addClass("active"),$(".selection_visibility").text("Everyone"),$("form.add_post_form textarea").height(29),loadEditPostTemplate()}function singlePostEditTemplate(){$.ajax({type:"GET",dataType:"html",url:baseurl+"/single_post_edit_template/"+session_space_id,success:function(e){singlePostEditTemplateInit(e)}})}function singlePostEditTemplateInit(e){$(".container-prime").html(e)}function resetEditedSinglePost(){$(".single-post-edit-view").remove(),$(".single_post_content").show(),$(".edit_post_aws_files_data").val(""),$(".edit_media_div").html()}function submitEditedPost(e){post_data=e.serializeArray(),post_id=e.find('[name="post[id]"]').val(),$.ajax({type:"POST",dataType:"json",data:post_data,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:baseurl+"/updatepost/",success:function(e){getSinglePost(post_id),resetEditedSinglePost()}})}function uploadEditPostFileCompleted(e){html='<div class="upload-content post_categories edit_media_div_container" id="'+e.uid+'">',html+=' <span class="close">',html+=' <img src="'+baseurl+'/images/ic_deleteBlue.svg" id="" class="edit_file_del" fileid="'+e.originalName+"\" onclick=\"removeUploadedFile(this, 'edit_post_files', '"+uid+"')\"></span>",html+=' <a class="findmedia attach-link full-width" href="javascript:void(0)" onclick=""><img class="" src="'+baseurl+'/images/ic_IMAGE.svg" media-id="'+e.uid+'">',html+=' <span class="attachment-text">'+e.originalName+"</span>",html+=" </a></div>",$(".upload-preview-wrap").append(html),$("."+e.uid).remove(),edit_post_files=new Array}function uploadEditPostFileError(e){}function removeUploadedFile(e,t,i){""==$(e).attr("id")&&$(e).attr("id",0),$("#"+i+".edit_media_div_container").remove(),file_object=new Array,$.each(window[t],function(e,t){t.uid!=i&&file_object.push(t)}),window[t]=file_object}function uploadEditPostFile(){direct_upload_s3_data.push({storage:"edit_post_files",progress_element_class:"s3_progress",form_field_class:"edit_post_aws_files_data",done_callback:"uploadEditPostFileCompleted",error_callback:"uploadEditPostFileError",allowed_extension:["pdf","docx","ppt","pptx","mp4","doc","xls","xlsx","csv","mov","MOV","png","jpeg","jpg"],progress_bar_ele:".upload-preview-wrap"}),$("#upload_s3_file").trigger("click")}function update_comment(e,t){var i=$(e).closest(".comment-edit-section").find(".edit-comment-area"),s=i.html(),n=$(e).closest(".post-block").find(".s3_running_process").length;return i.text().trim().length&&placeholderCheck(i)&&!n?void $.ajax({type:"POST",async:!1,dataType:"JSON",url:baseurl+"/comments/"+t,data:{_method:"PATCH",_token:$('meta[name="csrf-token"]').attr("content"),comment:{comment_text:s,comment_attachment:window["attachment_"+t]}},success:function(t){var i=$(e).closest(".post-block").find('input[name="post_id"]').attr("id");refreshPost(i,{comment_limit:0}),edit_comment_triggered=!1},error:function(e,t,i){errorOnPage(e,t,i)},complete:function(){window["attachment_"+t]=new Array}}):(i.focus(),!1)}function getComment(e){var t="Please wait..";return $.ajax({type:"GET",dataType:"json",async:!1,url:baseurl+"/comments/"+e,success:function(e){t=e},error:function(e,t,i){errorOnPage(e,t,i)}}),t}function delete_comment_confirm(e){var t=$(e).attr("id"),i=$(e).attr("commentid"),s="",n=$(e).attr("spaceid"),o="",a="",r=$(".checkclickedviewmore"+t).val(),l="false";$.ajax({type:"GET",url:baseurl+"/add_comments?postid="+t+"&userid="+s+"&comment="+a+"&commentlimit="+o+"&morecheck="+r+"&view_more="+l+"&spaceid="+n+"&commentid="+i+"&action=delete",success:function(e){$(".comments"+t).html(e),$("#comment_input_area"+t).val(""),$("#delete_modal_comment").modal("hide"),refreshPost(t,{comment_limit:0})},error:function(e,t,i){logErrorOnPage(e,t,i,"delete_comment_confirm")}})}function delete_comment(e,t,i){$(".del_comment").attr("id",e),$(".del_comment").attr("commentid",t),$(".del_comment").attr("spaceid",i),$("#delete_modal_comment").modal("show")}function commentPreview(e,t){e.attachments.length||$(".feed-post-attachment-box."+e.id).parent().hide();var i=$("#comment_attachment_preview").html(),s=Handlebars.compile(i);window["attachment_"+e.id]=new Array,$.each(e.attachments,function(t){window["attachment_"+e.id].push(this.metadata)});var n=s({comment_files:window["attachment_"+e.id],uid:e.id});$(".feed-post-attachment-box."+e.id).html(n)}function edit_comment(e,t){var i=$(t).closest(".post-block").find('input[name="post_id"]').attr("id");comment_data=getComment(e),comment=comment_data.comment,div='<div class="comment-edit-section"><div contenteditable="true" class="form-control no-border edit-comment-area comment-area" id="'+e+'" data-placeholder="Write a comment..." areaid="'+e+'" style="border: 2px solid red; min-height:30px;width:200px">'+comment+'</div><div class="comment-attach-col"><input type="submit" value="File Attachment" class="comment_attachment comment_edit_attachment_trigger" data-commentid="'+e+'" data-postid="'+i+'" style="float:right;"></div><button type="button" class="invite-btn right save_comment" onclick="return update_comment(this,\''+e+'\')">Save</button><div class="attachment-box-row full-width"><div class="feed-post-attachment-box '+e+'"></div></div><div class="comment_edit_attachment_progress full-width '+e+'"></div></div>',comment_wrap=$(t).closest(".user-comment-post"),comment_wrap.find(".user-comment-detail").hide(),comment_wrap.append(div),$(t).attr("data-comment-restriction")&&$(".comment_attachment").remove(),mentionsComment(comment_wrap.find(".edit-comment-area"),i),commentPreview(comment_data,t),comment_wrap.find(".edit-comment-area").focusEnd(),edit_comment_triggered=!0}function addComment(e,t){$.ajax({type:"POST",dataType:"html",data:{post_id:e.postid,user_id:e.userid,space_id:e.spaceid,comment:e.comment,commentlimit:e.commentlimit,morecheck:e.morecheck,view_more:0,attachments:e.attachments,_token:$('meta[name="csrf-token"]').attr("content")},beforeSend:function(){$(t).after('<i class="fa fa-circle-o-notch fa-spin"></i>'),$(t).attr("disabled",!0),$(t).val("")},url:baseurl+"/comments",success:function(e){comment_post_id=null},error:function(e,t,i){logErrorOnPage(e,t,i,"addComment")},complete:function(){$(t).parent().find(".fa-circle-o-notch").remove(),$(t).attr("disabled",!1),$(t).val("SEND")}})}function showComments(e,t){$("#post_"+e.post_id).find(".comment-wrap").html(t),$("#comment_input_area"+e.post_id).val(""),$("#delete_modal_comment").modal("hide"),comment_post_id=null}function placeholderCheck(e){if(navigator.userAgent.match(/msie/i)||navigator.userAgent.match(/trident/i)){var t="Add a comment or tag someone using @...";return t!=$(e).text()}return!0}function discardComment(){$(".user-comment-detail").show(),$(".comment-edit-section").hide(),$("#discardModalcomment").modal("hide"),swal.close(),edit_comment_triggered=!1,$(".edit-comment-area").trigger("mouseenter").focusEnd()}function commentEditAttachment(e){direct_upload_s3_data=new Array,direct_upload_s3_data.push({storage:"attachment_"+$(e).attr("data-commentid"),progress_element_class:"s3_progress",form_field_class:"executive_aws_files_data",done_callback:"commentEditAttachmentUploaded",error_callback:"upload_executive_file_error",allowed_extension:constants.POST_EXTENSION,progress_bar_ele:$(e).closest(".post-block").find(".comment_edit_attachment_progress."+$(e).attr("data-commentid")),element:e}),$("#upload_s3_file").trigger("click")}function commentAttachment(e){direct_upload_s3_data=new Array,window["attachment_"+$(e).attr("data-postid")]||(window["attachment_"+$(e).attr("data-postid")]=new Array),direct_upload_s3_data.push({storage:"attachment_"+$(e).attr("data-postid"),progress_element_class:"s3_progress",form_field_class:"executive_aws_files_data",done_callback:"commentAttachmentUploaded",error_callback:"upload_executive_file_error",allowed_extension:constants.POST_EXTENSION,progress_bar_ele:$(e).closest(".post-block").find(".comment_attachment_progress."+$(e).attr("data-postid")),element:e}),$("#upload_s3_file").trigger("click")}function commentEditAttachmentUploaded(e){var t=direct_upload_s3_data[0].element;post_id=$(t).attr("data-postid"),comment_id=$(t).attr("data-commentid");var i=$("#comment_attachment_preview").html(),s=Handlebars.compile(i),n=s({comment_files:window["attachment_"+comment_id],uid:comment_id});$(t).closest(".post-block").find(".comment-edit-section .feed-post-attachment-box."+comment_id).html(n).parent().show(),$(t).closest(".post-block").find(".s3_running_process."+e.uid).remove(),$(t).focus()}function commentAttachmentUploaded(e){var t=direct_upload_s3_data[0].element,i=$(t).attr("data-postid"),s=$("#comment_attachment_preview").html(),n=Handlebars.compile(s),o=n({comment_files:window["attachment_"+i],uid:i});$(t).closest(".post-block").find(".feed-post-attachment-box").html(o).parent().show(),$(t).closest(".post-block").find(".s3_running_process."+e.uid).remove()}function removeCommentAttachment(e){var t=$(e).attr("data-uid"),i=new Array,s=$(e).closest(".comment-attachment"),n=s.closest(".attachment-box-row"),o=s.attr("id");return $.each(window["attachment_"+t],function(e){this.uid!=o&&(i[e]=window["attachment_"+t][e])}),delete window["attachment_"+t],window["attachment_"+t]=i,s.remove(),n.find(".comment-attachment").length||(window["attachment_"+t]=new Array,n.hide()),!1}function getSpaceUsers(){$.ajax({type:"GET",dataType:"JSON",url:baseurl+"/get_space_users/"+session_space_id,success:function(e){e.result&&(space_users=e.space_users,setPostUsers())}})}function setPostUsers(){var e=$(".post-block .post-feed-section .post-header-col");$(e).each(function(){var e=$(this).find(".visible_tooltip"),t=$(e).attr("data-content").trim(),i=$(this).siblings("input.post_visible_user").val();if("Restricted"==t||$(e).find("span.earth").hasClass("lock")){var s=i.split(",");$(e).attr("data-content",getUsersListHtml(s)),i.indexOf("All")==-1&&$(e).find("a.s-everyone").attr("visibletousers",i+",All")}else $(e).find("a.s-everyone").attr("visibletousers",i)})}function getUsersListHtml(e){$html="";var t=e.length;return $.each(e,function(e,i){return e<5?void($html+=space_users[i]+"<br>"):(5===parseInt(e)&&parseInt(t)>5&&($html+="and "+(t-5)+" others"),!1)}),$html}function postFormListReset(e,t){$(e).find("input:checkbox").prop("checked",!1),$(e).find("input:checkbox").parent().removeClass("active"),$(t).find("input:checkbox").prop("checked",!1),$(t).find("input:checkbox").parent().removeClass("active"),$(t).find("input:checkbox").parent().addClass("disable_check")}function postVisiblityUser(e,t){$(e).closest(".dropdown-wrap").addClass("open"),$(e).parent().toggleClass("active",$(e).prop("checked")),!$(e).prop("checked")&&$("input:checkbox:checked.visibility_group").length&&getGroupByUser($(e).val()),label=postDropDownLabel(t.find("input:checkbox.visiblity-checkbox").length,t.find("input:checkbox:checked.visiblity-checkbox").length),t.find(".post-visiblity-label").text(label.text),t.find(".post-visiblity-checkbox").prop("checked",label.master_box_check).parent().toggleClass("active",label.master_box_check),post_alert_selector=t.find(".alert-drop").find('input:checkbox[value="'+$(e).val()+'"]'),post_alert_selector.parent().toggleClass("disable_check",!$(e).prop("checked")),t.find(".post-alert-checkbox").parent().toggleClass("disable_check",!t.find("input:checkbox:checked.visiblity-checkbox").length),postAlertUser(post_alert_selector,$(e).prop("checked"),t)}function postAlertUser(e,t,i){e.prop("checked",t),$(e).parent().toggleClass("active",t),label=postDropDownLabel(i.find(".alert-drop").find("input:checkbox.alert-checkbox").length,i.find(".alert-drop").find("input:checkbox:checked.alert-checkbox").length),i.find(".post-alert-label").text(label.text),label=postDropDownLabel(i.find(".alert-drop").find("input:checkbox.alert-checkbox").parent().not(".disable_check").length,i.find(".alert-drop").find("input:checkbox:checked.alert-checkbox").length),i.find(".post-alert-checkbox").prop("checked",label.master_box_check).parent().toggleClass("active",label.master_box_check)}function video_player_log_bind(){$("video").bind("play",function(e){parent_div=$(this).parent().closest(".post-wrap"),post_id=parent_div.attr("id"),post_id&&(post_id=post_id.replace("post_",""),media_src=parent_div.find('input[name="url_src"]').val(),content_id=parent_div.find(".for_download").attr("href").split("/").pop(),data={description:"View Attachment",action:"view",content_id:content_id,content_type:"AppPostMedia",metadata:{media_src:media_src,post_id:post_id}},custom_logger(data),$.ajax({async:!1,type:"GET",url:baseurl+"/view_file?post_id="+post_id}))})}function get_preview_url(){autosize(document.querySelectorAll("textarea.t2-resize"));$("#thumbcheck").val();if($(this).val()){if(data=$(this).val().replace(/\n/g," "),data=data.replace("#"," "),url=filter_url(data),data=encodeURIComponent(data),url===!1)return console.log("url false"),!0;if(""!=cached_url&&cached_url==url)return console.log("cached url"),!0;cached_url=url,get_url_xhr=$.ajax({type:"GET",url:baseurl+"/get_url_data?q="+data,processData:!1,contentType:!1,beforeSend:function(){null!=get_url_xhr&&(get_url_xhr.abort(),get_url_xhr=null)},success:function(e){if(0!=e){if($("#ytd_iframe").length&&"undefined"!=typeof e.metatags&&$("#ytd_iframe").attr("src")==e.metatags["twitter:player"])return 0;html='<img class="url_embed_trigger" src="'+baseurl+'/images/ic_highlight_removegray.svg"/>',html+='<div class="outer-block">',html+='<div class="inner-block">',e.metatags["twitter:player"]?(html+='<div class="thumbnail-block iframe-content ">',html=html+'<iframe id="ytd_iframe" allowfullscreen="allowfullscreen" width="420" height="345" src='+e.metatags["twitter:player"]+"></iframe>"):(html+='<div class="thumbnail-block">',img_class=e.thumbnail_img?"thumbnail-img":"",html=html+'<img src="'+baseurl+"/file_loading?url="+e.favicon+'" class="url-favicon '+img_class+'" onerror="this.src=\'http://'+e.domain+"/favicon.ico';\">"),html+="</div>",html+='<div class="description-block"><div>';var t=e.title?e.title:e.title[0];e.full_url.search("http")<0?html=html+'<a target="_blank" href=http://'+e.full_url+" title="+t+'> <img src="https://www.google.com/s2/favicons?domain='+e.url+'"/>'+e.title+"</a>":html=html+'<a target="_blank" href='+e.full_url+" title="+e.title+'> <img src="https://www.google.com/s2/favicons?domain='+e.url+'"/>'+e.title+"</a>",e.description&&(html=html+"<p>"+e.description+"</p>"),html+="</div></div>",html+="</div></div>",$(".url_embed_div").empty(),$(".url_embed_div").append(html),$("input[name=url_embed_toggle]").val(1),$("input[name=url_preview_data_json]").val(JSON.stringify(e)),$("#thumbcheck").val(1)}else $(".url_embed_div").empty()},error:function(e,t,i){}})}else $("#thumbcheck").val(0)}function filter_url(e){return regex=/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/gim,response=e.match(regex),!!(response&&response.length>0)&&response[0]}function url_embed_enable(e){$(e).hasClass("fa-toggle-on")?($(e).removeClass("fa-toggle-on"),$(e).addClass("fa-toggle-off"),$("input[name=url_embed_toggle]").val(0),$(".url_embed_div").find(".outer-block").hide()):($(e).addClass("fa-toggle-on"),$(e).removeClass("fa-toggle-off"),$("input[name=url_embed_toggle]").val(1),$(".url_embed_div").find(".outer-block").show())}function onYouTubeIframeAPIReady(){try{$("iframe.youtube_iframe").each(function(){video_id=extractUrlParam($(this).attr("data-video-src"),"v"),new YT.Player($(this).attr("id"),{videoId:video_id,events:{onStateChange:onPlayerStateChange}})})}catch(e){logErrorOnPage("","500",e,"On YouTube Iframe API Ready")}}function onPlayerStateChange(e){1==e.data&&(media_src=e.target.a.src,content_id=e.target.a.id,customLogger({space_id:session_space_id,description:"viewed youtube video "+media_src,action:"view embedded url",content_id:content_id,content_type:"App\\Post",metadata:{media_src:media_src,post_id:content_id}},!0),mixpanelLogger({space_id:session_space_id,event_tag:"View embedded video"},!0))}function autoCapitalize(e){var t=e.selectionStart,i=e.selectionEnd;e.value=sentenceCase(e.value),e.setSelectionRange(t,i)}function sentenceCase(e){var t=/(^|[.!?]\s+)([a-z])/g,i=e.replace(t,function(e,t,i){return t+i.toUpperCase()});return i}function readURL(e,t,i){$(".upload_file_name").html(t);var s=t.substr(t.lastIndexOf(".")+1);if(s=s.toLowerCase(),"png"==s||"gif"==s||"jpg"==s||"jpeg"==s){if(e.files&&e.files[0]){var n=new FileReader;$(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),n.onload=function(e){$("#blah"+i).show(),$("#blah"+i).attr("src",e.target.result).height("auto")},n.readAsDataURL(e.files[0]),$(".upload_file_name").parent().find("img").attr("src","../images/ic_IMAGE.svg"),$(".upload_file_name").html(t)}}else"pdf"==s?($(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$(".upload_file_name").parent().find("img").attr("src","../images/ic_PDF.svg"),$(".upload_file_name").html(t)):"mp4"==s||"mov"==s.toLowerCase()||"mp3"==s||"avi"==s||"mkv"==s?($(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$(".upload_file_name").parent().find("img").attr("src","../images/ic_VIDEO.svg"),$(".upload_file_name").html(t)):"doc"==s||"docs"==s||"docx"==s?($(".post_categories_maincontent"+i).show(),
$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$(".upload_file_name").parent().find("img").attr("src","../images/ic_WORD.svg"),$(".upload_file_name").html(t)):"xlsx"==s?($(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$(".upload_file_name").parent().find("img").attr("src","../images/ic_EXCEL.svg"),$(".upload_file_name").html(t)):"xls"==s?($(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$(".upload_file_name").parent().find("img").attr("src","../images/ic_EXCEL.svg"),$(".upload_file_name").html(t)):"csv"==s?($(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$(".upload_file_name").parent().find("img").attr("src","../images/ic_EXCEL.svg"),$(".upload_file_name").html(t)):"ppt"!=s&&"pptx"!=s||($(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$(".upload_file_name").parent().find("img").attr("src","../images/ic_PWERPOINT.svg"),$(".upload_file_name").html(t))}function titleCase(e){for(var t=e.toLowerCase().split(" "),i=0;i<t.length;i++)t[i]=t[i].charAt(0).toUpperCase()+t[i].substring(1);return t.join(" ")}function preview_before_upload_aws(){data=JSON.parse($('input[name="uploaded_file_aws"]').val()),1==$(".upload-content.post_attachment").length&&1==data.length&&0==$(".edit_media_div #view_file").length?data[0].mimeType.indexOf("image")>-1&&$.ajax({type:"GET",async:!1,url:baseurl+"/url_validate?q="+data[0].url,success:function(e){$(".upload-content.post_attachment").find("#blah").attr("src",e.cloud),$(".upload-content.post_attachment").find("#blah").show()}}):($("img#blah").hide(),$(".edit_media_div .img-responsive").hide())}function preview_before_upload(e){$(".post_categories_file_temp").remove(),$(".post_file").each(function(e){})}function close_preview_general_s3(e){s3_upload_xhr[$(e).attr("id")].abort(),$(".save_executive_btn").prop("disabled",!1),$(".onboarding_save_executive_btn").prop("disabled",!1),$(e).remove()}function close_preview(e){for(data=JSON.parse($('input[name="uploaded_file_aws"]').val()),i=0;i<data.length;i++)filename=data[i].s3_name.split("/"),filename[1].split(".")[0]+"_uid"==$(e).attr("id")&&data.splice(i,1);$('input[name="uploaded_file_aws"]').val(JSON.stringify(data,null,2)),filesUploaded=data,s3_upload_xhr[$(e).attr("id")].abort(),""==$(e).attr("id")&&$(e).attr("id",0),$("#post_file_"+$(e).attr("id")).remove(),$(e).parent().parent().hasClass("post_categories_file")?$(e).parent().parent().remove():$(e).parent().parent().remove(),1==$(".post_file").length&&$(".remove-all").hide(),preview_before_upload_aws(),$(".direct-upload").fileupload("progress").loaded==$(".direct-upload").fileupload("progress").total&&$(".post_btn").attr("disabled",!1),$(".popover").remove()}function close_preview_edit(e){""==$(e).attr("id")&&$(e).attr("id",0),$("#post_file_d_"+$(e).attr("id")).remove(),$(e).parent().parent().hasClass("post_categories_file_edt")?$(e).parent().parent().hide():$(e).parent().parent().remove(),1==$(".edit_remove_all img:visible").length&&$(".remove-all").hide();var t=$(".edit_deleted_files").val(),i=$(e).attr("fileid");"undefined"===jQuery.type(i)||0!=i&&(""==t?$(".edit_deleted_files").val(i):$(".edit_deleted_files").val(t+","+i))}function readFileName(e,t){var i=t.substr(t.lastIndexOf(".")+1);"pdf"==i?$("#upload_video_name").html(t):$("#upload_video_name").html(t)}function readFileName2(e,t){var i=t.substr(t.lastIndexOf(".")+1);"pdf"==i?$("#upload_pdf_name").html(t):$("#upload_pdf_name").html(t)}function iframe_load(e,t){$(e).on("load",function(){$(".modal-loader").hide()}),t&&(url_validate_var=setTimeout(function(){$.ajax({type:"GET",url:baseurl+"/url_validate?viewer_st=false&q="+t})},4e4))}function validate(e){var t=e.split(".");t=t[t.length-1].toLowerCase();var i=["pdf","mp4","ppt","pptx","docx","doc","xls","xlsx","csv","flv","3gp","mkv"];if(i.lastIndexOf(t)==-1){alert("Wrong extension type. Please upload pdf, docx, ppt, pptx, mp4, mov, MOV, doc, xls, xlsx, csv Files");var s=$("#upload_pdf_file").val(),n=s.split(".");n=n[n.length-1].toLowerCase(),i.lastIndexOf(n)==-1&&$("#upload_pdf_file").val("");var o=$("#upload_video_file").val(),a=o.split(".");a=a[a.length-1].toLowerCase(),i.lastIndexOf(a)==-1&&$("#upload_video_file").val("")}}function dimlight(){if($("#tour2").hasClass("highlight")){var e=$(".main_post_ta").val(),t=$(".post_subject").val(),i=$(".post_file").length;""!=e||""!=t||i>1?$("#discardModal").modal("show"):(resetVisibiltyAlers($(".post_subject")),$("#discard").trigger("click"),$(".dp-input").find(".error-msg").remove(),$(".post_subject").attr("placeholder","Click here to add text, files, links etc."))}}function edit_category(e,t){var i=$(t).attr("spaceid");$.ajax({type:"GET",async:!1,url:baseurl+"/editcategory_ajax?spaceid="+i,success:function(e){edit_post_category_previous_state=$(".categories").html(),$(".modal_category .categories").html(e)},error:function(e){console.log(e)}})}function save_edit_cat(e,t){var i=$(t).attr("action"),s=$(t).attr("spaceid");if("cancel"!=i){var n=!0;if(""!=$(".cat_2").val())var o=$(".cat_2").val();else n=!1;if(""!=$(".cat_3").val())var a=$(".cat_3").val();else n=!1;if(""!=$(".cat_4").val())var r=$(".cat_4").val();else n=!1;if(""!=$(".cat_5").val())var l=$(".cat_5").val();else n=!1;if(""!=$(".cat_6").val())var c=$(".cat_6").val();else n=!1;1==n?document.forms.edit_post_form.submit():($(".cat_error").show(),$(".cat_error").html("Category should not be blank."))}else $.ajax({type:"GET",url:baseurl+"/cancel_editcategory_ajax?spaceid="+s+"&cat_2="+o+"&cat_3="+a+"&cat_4="+r+"&cat_5="+l+"&cat_6="+c+"&action="+i,success:function(e){$(".categories").html(""),$(".categories").html(e),$(".edit-cat").show()},error:function(e){}})}function countCharEditCat(e,t){$(".letter-count").hide(),$("."+t).show();var i=e.value.length;i<=25&&$("."+t).text(i+"/25")}function deleteCategory(){$(".btn-quick-links").attr("disabled",!0);var e=$('input[name="delete_category"]').val(),t=$(".more-categories a span").text()-parseInt(1),i=$("#edit_post_category_form"),s=new FormData(i[0]);return $(i).find('input[name="delete_category"]').val(""),$.ajax({type:"POST",url:baseurl+"/delete_category",data:s,async:!0,success:function(i){$(".btn-quick-links").attr("disabled",!1),i.result?($('a[key="'+e+'"]').parent().remove(),$(".more-categories a span").text(t),refreshFeed(),addProgressBarsection()):$(".category_error").text("Error! can't delete category, please try again.")},error:function(e,t,i){$(".btn-quick-links").attr("disabled",!1),logErrorOnPage(e,t,i,"deleteCategory")},cache:!1,contentType:!1,processData:!1}),!1}function cancel_edit_post(){var e=$(".editing_post_id").val();return $("#post_edit_"+e).html(""),$("#post_"+e).show(),$(".black-overlay").css("display","none"),!1}function get_edited_post_data(e){var t=new DOMParser,i=$("#post_"+e).find("span").eq(0).attr("style"),s=$("#post_"+e).find("a").eq(0).html(),n=$("#post_"+e).find(".category-chip-wrap input").eq(0).val(),o=$("#post_"+e).find("h4").eq(0).html(),a=t.parseFromString("<!doctype html><body>"+o,"text/html");a=a.body.textContent;var r=$("#post_"+e).find("p").eq(2).text().trim(),l=1;$("#post_"+e).find(".findmedia").each(function(t){var i=$(this).find("img").attr("media-id");if(i=i?i:$(this).find("video").attr("media-id"),""!=i){var s=$(this).clone(),n=s;file_orig_name="",$("#post_"+e).find("input[name=file_name]").length?(file_orig_name=$("#post_"+e).find("input[name=file_name]").val(),$("#post_edit_"+e).find(".edit_media_div").append("<div class='upload-content post_categories edit_media_div_container' style=''><span class='close'><img src="+baseurl+"/images/ic_deleteBlue.svg id='' class='edit_file_del' fileid='"+i+"' onclick='close_preview_edit(this)'></span><div class='upload-text upload-attachment-box'><h3> <img src="+baseurl+"/images/ic_IMAGE.svg alt=''><span class='upload_file_name'>"+file_orig_name+" </span></h3><p></p></div></div>")):$("#post_edit_"+e).find(".edit_media_div").append("<div class='upload-content post_categories edit_media_div_container' style=''><span class='close'><img src="+baseurl+"/images/ic_deleteBlue.svg id='' class='edit_file_del' fileid='"+i+"' onclick='close_preview_edit(this)'></span></div>"),$(n).find("video").replaceWith('<img style="margin-right: 20px;" src="'+baseurl+'/images/ic_VIDEO.svg" viewfile="'+i+'" id="view_file" media-id="2"><span style="display: inline-block; overflow-wrap: break-word; width: 86%;">'+$("#post_"+e).find("input[name=file_orignal_name]").val()+"</span>"),$("#post_edit_"+e).find(".edit_media_div").find(".edit_media_div_container").eq(t).append(n),$("#post_edit_"+e).find(".edit_media_div").find(".edit_media_div_container").find(".findmedia").removeClass("hidden"),$(".remove_all_trigger").show()}l++,$("#post_edit_"+e).find(".upload-attachment-box:not(:first)").remove()}),$(".edit_post_form").find(".editing_post_id").val(e),$(".edit_post_form").find("span").eq(0).attr({style:i}),$(".edit_post_form").find("textarea.post_subject").val(a),$(".edit_post_form").find("textarea.post-description-textarea").val(r),autosize(document.querySelectorAll("textarea.t1-resize")),autosize(document.querySelectorAll("textarea.t2-resize"));var c=$("#post_"+e).find(".post_visible_user").val(),d=c.replace(" ",""),u=d.split(",").length-1;$(".visibility_alert_count").val(u),$("#visibilty_count").val(u);var p=0;return $("#post_edit_"+e).find(".edit-post-checkbox").each(function(e){var t=$(this).val();c.indexOf(t)>-1||c.toLowerCase().indexOf("all")>-1?($(this).parent("label").addClass("active"),$(this).prop("checked","checked"),p=p):($(this).parent("label").removeClass("active"),$(this).prop("checked",""))}),c.indexOf("All")>=0||$("#post_edit_"+e).find(".edit-post-checkbox").length==c.split(",").length-1?($("#post_edit_"+e).find(".edit_selection_visibility").text("Everyone"),$("#post_edit_"+e).find(".hidden_edit_everyone_box").val("true"),$("#post_edit_"+e).find(".select_all_visibility_edt").attr("checked","checked"),$("#post_edit_"+e).find(".select_all_visibility_edt").parent().addClass("active")):($("#post_edit_"+e).find(".hidden_edit_everyone_box").val("false"),$("#post_edit_"+e).find(".select_all_visibility_edt").checked=!1,$("#post_edit_"+e).find(".select_all_visibility_edt").parent().removeClass("active"),$("#post_edit_"+e).find(".edit_selection_visibility").text(u+" Member(s)")),u==p&&($(".select_all_visibility_edit").prop("checked","checked"),$(".select_all_visibility_edit").parent().addClass("active"),$(".select_all_visibility_edit").parent().text("Everyone"),$(".hidden_edit_everyone_box").val("true")),$("#post_edit_"+e).find(".cat_id_edtt").each(function(e){var t=$(this).val();n==t&&($(this).parent().parent().parent().addClass("active"),$(".category_heading").text($(this).attr("catgoryname")),$(".editcategory").val(n))}),$(".main_post_ta2").trigger("paste"),$("#post_edit_"+e).find(".url_embed_trigger").css("display","none"),{profile_image:i,usrename:s,category:n,subject:a,body:r,visibility:c}}function d_edig(){$("#upload").trigger("click")}function readURL_edtt(e,t,i){$(".upload_file_name_edtt").html(t);var s=t.substr(t.lastIndexOf(".")+1);if(("png"==s||"gif"==s||"jpg"==s||"jpeg"==s)&&e.files&&e.files[0]){var n=new FileReader;$(".post_categories_file_edt"+i).show(),$(".post_categories_edit"+i).show(),$("#post_button"+i).show(),n.onload=function(e){$("#blah_edit"+i).show(),$("#blah_edit"+i).attr("src",e.target.result).height("auto")},n.readAsDataURL(e.files[0]),$(".upload_file_name_edtt").parent().find("img").attr("src","../images/ic_IMAGE.svg"),$(".upload_file_name_edtt").html(t)}}function preview_before_upload_edita(e,t){$("#"+t+" .post_categories_file_temp_edit").remove(),$("#"+t+" .post_file_edtt").each(function(e){var i="image";$(this)[0].files[0].type.indexOf("image")>=0&&(i="image"),$(this)[0].files[0].type.indexOf("video")>=0&&(i="video");var s=$("#"+t+" .post_categories_file_edt").eq(0).clone();file_ext=$(this)[0].files[0].name.split(".");var n=file_ext.pop();file_ext=file_ext.join("."),s.find(".upload_file_name_edtt").html(file_ext.toString()),"video"==i&&s.find("img").eq(1).attr("src","../images/ic_VIDEO.svg"),"image"==i&&s.find("img").eq(1).attr("src","../images/ic_IMAGE.svg"),"ppt"!=n&&"pptx"!=n||s.find("img").eq(1).attr("src","../images/ic_PWERPOINT.svg"),"csv"!=n&&"xls"!=n&&"xlsx"!=n||s.find("img").eq(1).attr("src","../images/ic_EXCEL.svg"),"pdf"==n&&s.find("img").eq(1).attr("src","../images/ic_PDF.svg"),"doc"!=n&&"docx"!=n||s.find("img").eq(1).attr("src","../images/ic_WORD.svg"),s.find("img").eq(2).hide(),s.find("img").eq(0).attr("id",e),s.removeClass("post_categories_file_edt"),s.addClass("post_categories_file_temp_edit"),$("#"+t+" .post_categories_file_edt").after(s),$("#"+t+" .post_categories_file_edt").hide(),s.show()})}function readURL_edit(e,t,i,s){$("#"+s+" .upload_file_name_edtt").html(t);var n=t.substr(t.lastIndexOf(".")+1);if("png"==n||"gif"==n||"jpg"==n||"jpeg"==n){if(e.files&&e.files[0]){var o=new FileReader;$(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),o.onload=function(e){$("#blah"+i).show(),$("#blah"+i).attr("src",e.target.result).height("auto")},o.readAsDataURL(e.files[0]),$("#"+s+" .upload_file_name_edtt").parent().find("img").attr("src","../images/ic_IMAGE.svg"),$("#"+s+" .upload_file_name_edtt").html(t)}}else"pdf"==n?($(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$("#"+s+" .upload_file_name_edtt").parent().find("img").attr("src","../images/ic_PDF.svg"),$("#"+s+" .upload_file_name_edtt").html(t)):"mp4"==n||"mov"==n.toLowerCase()||"mp3"==n||"avi"==n||"mkv"==n?($(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$("#"+s+" .upload_file_name_edtt").parent().find("img").attr("src","../images/ic_VIDEO.svg"),$("#"+s+" .upload_file_name_edtt").html(t)):"doc"==n||"docs"==n||"docx"==n?($(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$("#"+s+" .upload_file_name_edtt").parent().find("img").attr("src","../images/ic_WORD.svg"),$("#"+s+" .upload_file_name_edtt").html(t)):"xlsx"==n?($(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$("#"+s+" .upload_file_name_edtt").parent().find("img").attr("src","../images/ic_EXCEL.svg"),$("#"+s+" .upload_file_name_edtt").html(t)):"xls"==n?($(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$("#"+s+" .upload_file_name_edtt").parent().find("img").attr("src","../images/ic_EXCEL.svg"),$("#"+s+" .upload_file_name_edtt").html(t)):"csv"==n?($(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$("#"+s+" .upload_file_name_edtt").parent().find("img").attr("src","../images/ic_EXCEL.svg"),$("#"+s+" .upload_file_name_edtt").html(t)):"ppt"!=n&&"pptx"!=n||($(".post_categories_maincontent"+i).show(),$(".post_categories_file"+i).show(),$(".post_categories"+i).show(),$("#post_button"+i).show(),$("#"+s+" .upload_file_name_edtt").parent().find("img").attr("src","../images/ic_PWERPOINT.svg"),$("#"+s+" .upload_file_name_edtt").html(t));return!1}function textAreaAdjust(e){e.style.height="1px",e.style.height=25+e.scrollHeight+"px"}function selectComp(e){$(".sub_comp_input").val(e),$("#suggesstion-box").hide()}function upload_feed_file_error(){$("button.post_btn").prop("disabled",!1)}function upload_executive_file_error(){$(".save_executive_btn").prop("disabled",!1),$(".onboarding_save_executive_btn").prop("disabled",!1)}function upload_executive_file(){return $(".upload-preview-wrap .s3_running_process:visible").length+$(".upload-preview-wrap .executive_file_s3:visible").length+$(".upload-preview-wrap .remove_executive_file:visible").length>=2?($(".file_upload_error").text("You can upload a maximum of 2 files to the executive summary. Please remove an existing file."),0):(direct_upload_s3_data.push({storage:"s3_executive",progress_element_class:"s3_progress",form_field_class:"executive_aws_files_data",done_callback:"executive_file_preview",error_callback:"upload_executive_file_error",allowed_extension:["pdf","docx","ppt","pptx","mp4","doc","xls","xlsx","csv","mov","MOV"],progress_bar_ele:".upload-preview-wrap"}),void $("#upload_s3_file").trigger("click"))}function executive_file_preview(e){html='<div class="executive_file_s3 pdf_list_file"><span class="link-input-icon"><img src="'+baseurl+'/images/ic_link.svg"></span><span>'+e.originalName+'</span><a id="'+e.uid+'" class="remove_executive_s3_file" href="#!"><img src="'+baseurl+'/images/ic_highlight_remove.svg" alt="" id="" class=""></a></div>',$(".upload-preview-wrap").append(html),$("."+e.uid).remove(),$(".s3_running_process").length||($(".save_executive_btn").prop("disabled",!1),$(".onboarding_save_executive_btn").prop("disabled",!1)),$(".upload-preview-wrap").find(".remove_executive_file").length+$(".upload-preview-wrap").find(".remove_executive_s3_file").length>=2&&($("span.fileupload-new").show(),$("i.fa-upload").show()),($(".upload-preview-wrap").find(".remove_executive_file:visible").length>=2||$(".upload-preview-wrap").find(".executive_file_s3:visible").length>=2)&&$(".upload_doc_col").hide(),1==$(".upload-preview-wrap").find(".remove_executive_file:visible").length&&1==$(".upload-preview-wrap").find(".executive_file_s3:visible").length&&$(".upload_doc_col").hide()}function make_form_post_ready(e){$(".body").trigger("click"),$(e).parent().parent().removeClass("post-sbj"),$(".post_categories_maincontent").show(),$("#save_post_btn_new").show(),$(".post_categories").show(),$(".black-overlay").show(),$("#tour2").addClass("highlight"),$(".subject_class").show(),$(".subject_text").show(),$(".post_subject").css("padding-top","5px"),$(".post_subject").attr("placeholder","Add a subject")}function reset_addpost_upload_section(){return $(".post_categories_file").hide(),$(".post_categories_file_temp").remove(),$(".post_categories_file_edt").hide(),$(".post_categories_file_temp_edit").remove(),$(".post_file").each(function(){"upload"==$(this).attr("id")?$(this).hide():$(this).remove()}),$(".post_file_edtt").each(function(){"upload_edtt"==$(this).attr("id")?$(this).hide():$(this).remove()}),del_old_files="",$(".edit_file_del").each(function(e){$(this).trigger("click")}),$(".remove-all").hide(),!0}function reset_form_post_ready(e){$(".post_show_hidden").val(0),$(".post-wrap").remove(),$(".body").trigger("click"),$(e).parent().parent().addClass("post-sbj"),$(".post_categories_maincontent").hide(),$("#save_post_btn_new").hide(),$(".post_categories").hide(),$(".black-overlay").hide(),$("#tour2").removeClass("highlight"),$(".subject_class").hide(),$(".subject_text").hide(),$(".post_subject").css("padding-top","5px"),$(".post_subject").attr("placeholder",""),$(".add_post_form").find(".form-submit-loader").hide(),$(".url_embed_trigger").trigger("click"),$(".remove_all_trigger").trigger("click"),$('input[name="uploaded_file_aws"]').val(""),uploaded_file_aws=new Array,filesUploaded=[],$(document).trigger("scroll"),$(".category_drop_share").hide(),$(".category_drop").show(),$(".visibilty-drop-wrap-share").hide(),$(".visibilty-drop-wrap").show(),$(".alert-drop-wrap-share").hide(),$(".alert-drop-wrap").show(),$(".share-drop-wrap").hide(),$(".post_categories_maincontent").removeClass("share-box"),$(".category-drop").multiselect("rebuild"),$("ul.visibilty-drop").find('input[type="checkbox"]').each(function(){$(this).attr("checked",!1),$(this).parent().removeClass("active")}),$("ul.visibilty-drop").find('input[name="visibility[]"]').each(function(){$(this).attr("checked","checked"),$(this).parent().addClass("active")}),$(".select_all_visibility").attr("checked","checked"),$(".select_all_visibility").parent().addClass("active"),$("span.selection_visibility").html("Everyone"),$("ul.alert-drop").find('input[name="alert[]"]').each(function(){$(this).attr("checked","checked"),$(this).parent().addClass("active")}),$(".select_all_alert").attr("checked","checked"),$(".select_all_alert").parent().addClass("active"),$("span.selection_alert").html("Everyone"),$("ul.multishare").find('input[name="share[]"]').each(function(){$(this).attr("checked",!1),$(this).parent().removeClass("active")}),$(".multiselect-all").attr("checked",!1),$(".select_all_alert").parent().removeClass("active"),$(".choose_share").html("Choose"),$(".post_subject").attr("placeholder","Click here to add text, files, links etc.")}function add_attachment_post(e){$("#upload").trigger("click")}function prepareViewerURL(e){return["pdf"].indexOf(e.file_ext)>-1?url=baseurl+"/pdf_viewer/web/viewer.html?file="+e.file_url:["ppt","pptx","doc","docx"].indexOf(e.file_ext)>-1?url="https://view.officeapps.live.com/op/embed.aspx?src="+e.file_url+"&wdAr=1.3333333333333333":url=e.file_url,url}function postsLoadedSuccessfully(){}function getSuggeCount(e){var t=e.length;$(".subButton").attr("disabled",!1),$(".subButton").removeClass("disabled"),$(".suggCount").text(t+"/500")}function getCommCount(e){var t=e.length;$(".subButton").attr("disabled",!1),$(".subButton").removeClass("disabled"),$(".commCount").text(t+"/500")}function loadEditPostTemplate(){$.ajax({type:"GET",url:baseurl+"/get_edit_post_template/"+session_space_id,success:function(e){$(".edit_popup_skull").html(e)}})}function convertVideo(e){$.ajax({type:"GET",dataType:"JSON",url:baseurl+"/convert_mov_video?image_name="+e,success:function(e){e.result}})}function runTour(){var e=Array();$.each(user_wise_tour[logged_in_user_role],function(){e.push(tour_guide[this])}),$(function(){var t=($(window).width(),new Tour({storage:!1,onShown:function(e){$(".categories-wrap").attr("style","background: #fff none repeat scroll 0 0;border-radius: 6px;padding: 20px;"),$(".tour-backdrop").after('<div class="sss tour-backdrop" style="background: transparent none repeat scroll 0% 0%; z-index: 1102;"></div>')},onHidden:function(e){$(".categories-wrap").attr("style",""),$("div.sss").remove()}}));t.addSteps(e),navigator.userAgent.toLowerCase().indexOf("mobile")>=0||(t.init(),t.start())})}function validateCategoryData(e){$(e).find("input.category_value").each(function(){$(this).val().trim().length?($(this).removeClass("has-error"),$(this).siblings(".category_error").html("")):($(this).addClass("has-error"),$(this).siblings(".category_error").html("This field is required"))})}function saveCategoryRequest(e){var t,i=[];$(".edit-categories .tour-category-list").each(function(){var e=$(this).find(".category_value").val();i.push(e)});for(var i=i.sort(),s=[],n=0;n<i.length-1;n++)i[n+1]==i[n]&&s.push(i[n]);return s.length>0?($(".category_error_duplicacy").fadeIn(400).html("Duplicate category exist.").delay(3e3).fadeOut(400),!1):(t={space_id:session_space_id,categories:e},$.ajax({type:"POST",data:t,url:baseurl+"/save_categories",beforeSend:function(){$("#welcome_tour .form-submit-loader").removeClass("hidden")},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},error:function(e,t,i){errorOnPage(e,t,i)},complete:function(){addProgressBarsection(),$("#welcome_tour .form-submit-loader").addClass("hidden"),$(".category_step").delay(1e4).removeClass("wc-step-uncomplete"),category_flag=!0}}),!0)}function saveCategory(e){if(!e.find(".edit-categories").length)return!0;if(validateCategoryData(e),$(e).find(".has-error").length)return!1;var t=$("form.category_form").serialize();return saveCategoryRequest(t)}function checkCategory(e){return!e.find(".edit-categories").length||($(e).find("input.category_value").each(function(){$(this).val().trim().length?($(this).removeClass("has-error"),$(this).siblings(".category_error").html("")):($(this).addClass("has-error"),$(this).siblings(".category_error").html("This field is required"))}),!$(e).find(".has-error").length)}function addTwitterFeedInput(){var e=$("#onboarding_twitter_handles .add-handles"),t=e.closest("div.twitter-handle-wrap").find("div.twitter-handle").length;if(t>=3)return $(e).hide(),!1;var i=e.closest(".twitter-handle-wrap").find(".twitter-handle:last").clone(),s=$(i).find('input[name="twitter_handles[]"]');$(s).val(""),$(i).find("p.error").remove(),$(s).attr("id","twitter_handle_"+t),$(i).find("span.link-input-icon p").html(t+1),$("#onboarding_twitter_handles .twitter-handle-wrap-column").append(i);var n=e.closest("div.twitter-handle-wrap").find("div.twitter-handle").length;n>=3&&e.hide()}function toggleAddTwitterFeedButton(){var e=$("a.add-twitter-feed.add-handles"),t=$(".welcome_twitter_feed_modal .modal-body .twitter-handle-wrap").find("input.twitter-feed-input");t.length>=3?$(e).hide():$(e).show()}function updateTourStep(e){return!!e&&void $.ajax({type:"GET",url:baseurl+"/update_tour_step/"+session_space_id+"/"+(parseInt(e)+1),error:function(e,t,i){errorOnPage(e,t,i)}})}function runOnBoardingTour(e){e=!!e&&e,share_setup_steps<=10||e?$(".tour-trigger").trigger("click"):isMobileDevice()&&share_setup_steps<=10&&runTour()}function saveDomainRequest(e,t){var i=$("."+e),s=$('meta[name="csrf-token"]').attr("content"),n={crossDomain:!0,url:baseurl+"/clientshare/"+session_space_id,method:"put",headers:{"cache-control":"no-cache","X-CSRF-TOKEN":s},data:{metadata:{rule:$(i).serializeArray()},domain_restriction:!0,onboarding_domain_flag:!0,_method:"put"}};$("#welcome_tour .form-submit-loader").removeClass("hidden"),$.ajax(n).done(function(e){$.each(e.message,function(e,t){e=e.split("."),input=$(i).find('input[name="rule[]"]').eq(e[0]),input.parent().find(".error-msg").remove(),input.after('<span class="error-msg text-left">'+t+"</span>"),input.addClass("has-error")}),401!=e.code&&updateNextStep(t),addProgressBarsection(),$("#welcome_tour .form-submit-loader").addClass("hidden")})}function retrictDomin(e,t){$.ajax({type:"POST",data:{data:{domain_restriction:t},space_id:session_space_id},url:baseurl+"/restict_domain",beforeSend:function(){$("#welcome_tour .form-submit-loader").removeClass("hidden")},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(t){updateNextStep(e),addProgressBarsection()},error:function(e,t,i){errorOnPage(e,t,i)},complete:function(){$("#welcome_tour .form-submit-loader").addClass("hidden")}})}function saveDomain(e){return!e.find("form.save-domain").length||void($(".restrict-domain-check").prop("checked")?saveDomainRequest("save-domain",e):retrictDomin(e,!1))}function updateNextStep(e){e.addClass("hidden"),e.next($(".welcome-cs-popup")).removeClass("hidden"),$(".banner-image-error").text(""),$("#banner-image, #edit-banner-image").val(""),updateTourStep(e.attr("data-step"))}function addCategory(e){category_layout=$(e).closest(".welcome-tour-categorie-col").find(".tour-category-list"),category_layout_clone=category_layout.eq(2).clone(),category_layout_clone.find("input").val(""),category_layout_clone.find("input").attr("name","category_"+random()),category_layout_clone.find(".category-count").html(0),category_layout_clone.addClass("tour-category-list-new-add"),category_layout_clone.append('<span class="wc-categories-delete"><img src="'+baseurl+'/images/ic_deleteBlue.svg"></span>'),$(".tour-category-list").eq(category_layout.length-1).after(category_layout_clone)}function displayPanel(){return pending_steps=$(".wc-step-done.wc-step-uncomplete"),!!pending_steps.length&&($(".finish-setup-alert").find("span").html(pending_steps.length),$(".finish-setup-alert").parent().show(),void triggerPendingOnboardingSteps())}function addProgressBarsection(e){e||(e="default"),$.ajax({type:"GET",url:baseurl+"/get_share_profile_status?space_id="+session_space_id,success:function(t){if(t.data.space_admin&&$(".btn-invite-back").remove(),t.data.progress==parseInt(100)||t.data.space_users)return $("#save_post_btn_new").text("Post"),$(".community-locked-column").remove(),$(".community-unlocked-column").removeClass("hidden"),$(".user-profile-status-col, .finish-setup-alert").remove(),!1;if(t.result){var i=(new DOMParser,$("#progress-bar-section").html()),s=Handlebars.compile(i);t.baseurl=baseurl,t.data.category&&t.data.category_flag||category_flag||share_setup_steps>=5?t.data.category=!0:t.data.category=!1;var n=s(t);$(window).width()>=767?$(".user-profile-status-show").html(n):$(".user-profile-status-show-mobile").html(n),t.data.space_admin_data.length>0&&($(".admin-invite-result-box").removeClass("hidden"),appendSpaceUserInInviteAdminScreen(t.data.space_admin_data)),$(".community-locked-column").removeClass("hidden"),$(".community-unlocked-column").addClass("hidden"),$(".cdev").circlos(),"add_post"==e&&t.data.posts_count<5&&$(".add_post_trigger").trigger("click"),4==t.data.posts_count&&$("#save_post_btn_new").text("Finish"),5==t.data.posts_count&&$("#save_post_btn_new").text("Post"),displayPanel()}},error:function(e,t,i){errorOnPage(e,t,i)}})}function showOnboardingPopup(e){$("div.welcome-cs-popup").addClass("hidden"),e<10?($('div.welcome-cs-popup[data-step="'+e+'"]').removeClass("hidden"),runOnBoardingTour(!0)):$(".add_post_trigger").trigger("click")}function sendOnboardingQuickLinks(e){var t=0,s=$(e).closest(".quick_links_form"),n=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/,o=s.find(".quick_links_error");o.text("");var a=s.find('.hyperlink[name="hyperlink[]"]'),r=s.find('.link_name[name="link_name[]"]');for(i=0;i<a.length;i++){if(""!=a[i].value.trim()&&""!=r[i].value.trim()&&t++,""!=a[i].value.trim()&&""==r[i].value.trim())return o.text("Please enter link name."),!1;if(""==a[i].value.trim()&&""!=r[i].value.trim())return o.text("Please add hyperlink."),!1;if(""!=a[i].value.trim()&&!n.test(a[i].value.trim()))return o.text("Please add correct hyperlink."),!1}var l=$("#twitter_handle_2").val();("undefined"!=typeof l&&l.length<2||""==l)&&$("#twitter_handle_2").closest(".twitter-input-col").find(".remove-handle").trigger("click"),s.find(".btn-quick-links-button").attr("disabled",!0),s.submit()}function validateAdminInviteEmail(e){$(".admin-invite-error").remove(),$(".admin-invite-box .twitter-feed-input").removeClass("has-error");var t=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,i=validate_flag=!1;return $(".admin-invite-box .twitter-input-col input").each(function(e,s){var n=$(this).val();n.trim()&&(i=!0),""==n.trim()||t.test(n.trim())||($(this).addClass("has-error"),$(this).parent().append('<span class="admin-invite-error">Please enter a correct email format.</span>'),validate_flag=!0,setTimeout(function(){$(".edit-admin-invite").find(".admin-invite-error").remove(),$(".admin-invite-box .twitter-feed-input").removeClass("has-error")},4e3))}),i?!validate_flag:""!=$(".admin-invite-result-box").html().trim()?(current_step=$(e).closest(".welcome-cs-popup"),updateNextStep(current_step),!1):($(".edit-admin-invite").append('<span class="admin-invite-error">Please enter at least one email address.</span>'),setTimeout(function(){$(".edit-admin-invite").find(".admin-invite-error").remove()},3e3),!1)}function appendSpaceUserInInviteAdminScreen(e){var t="";$.each(e,function(i,s){t+='<div class="onboarding-invite-status">',t+="<p>"+e[i].user.email+"</p>",0==e[i].metadata.invitation_code&&(t+='<p class="invite-result">Pending</p></div>'),1==e[i].metadata.invitation_code&&"undefined"!=typeof e[i].metadata.user_profile&&""!=e[i].metadata.user_profil&&(t+='<p class="invite-result">Accepted</p></div>')}),$(".admin-invite-result-box").html(t),$(".admin-invite-box .twitter-input-col").not(":first").remove()}!function(e){"use strict";var t=function(t,i,s){this.$element=e(t),this.$items=void 0,
this.options=e.extend(!0,{},e.fn.suggest.defaults,s,this.$element.data(),this.$element.data("options")),this.key=i,this.isShown=!1,this.query="",this._queryPos=[],this._keyPos=-1,this.$dropdown=e("<div />",{"class":"dropdown suggest "+this.options.dropdownClass,html:e("<ul />",{"class":"dropdown-menu",role:"menu"}),"data-key":this.key}),this.load()};t.prototype={__setListener:function(){return this.$element.on("suggest.show",e.proxy(this.options.onshow,this)).on("suggest.select",e.proxy(this.options.onselect,this)).on("suggest.lookup",e.proxy(this.options.onlookup,this)).on("keyup",e.proxy(this.__keyup,this)),this},__getCaretPos:function(t){var i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],s=!(null==window.mozInnerScreenX),n=function(t,n,o){var a=document.createElement("div");a.id="input-textarea-caret-position-mirror-div",document.body.appendChild(a);var r=a.style,l=window.getComputedStyle?getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap","INPUT"!==t.nodeName&&(r.wordWrap="break-word"),r.position="absolute",r.visibility="hidden",e.each(i,function(e,t){r[t]=l[t]}),s?(r.width=parseInt(l.width)-2+"px",t.scrollHeight>parseInt(l.height)&&(r.overflowY="scroll")):r.overflow="hidden",a.textContent=t.value.substring(0,n),"INPUT"===t.nodeName&&(a.textContent=a.textContent.replace(/\s/g," "));var c=document.createElement("span");c.textContent=t.value.substring(n)||".",a.appendChild(c);var d={top:c.offsetTop+parseInt(l.borderTopWidth),left:c.offsetLeft+parseInt(l.borderLeftWidth)};return document.body.removeChild(a),d};return n(this.$element.get(0),t)},__keyup:function(t){var i=[38,40,37,39,17,18,9,16,20,91,93,36,35,45,33,34,144,112,113,114,115,116,117,118,119,120,121,122,123,145,19];switch(t.keyCode){case 27:return void this.hide();case 13:return!0}if(e.inArray(t.keyCode,i)!==-1)return!0;for(var s=this.$element,n=s.val(),o=this.__getSelection(s.get(0)).start,a=o;a>=0;a--){var r=e.trim(n.substring(a-1,a));if(!r){this.hide();break}if(r===this.key&&""==e.trim(n.substring(a-2,a-1))){this.query=n.substring(a,o),this._queryPos=[a,o],this._keyPos=a,this.lookup(this.query);break}}},__getVisibleItems:function(){return this.$items?this.$items.not(".hidden"):e()},__build:function(){var t=this.$dropdown,i=this,s=function(e){i.hide()};t.on("click","li:has(a)",function(t){t.preventDefault(),i.__select(e(this).index()),i.$element.focus()}).on("mouseover","li:has(a)",function(e){i.$element.off("blur",s)}).on("mouseout","li:has(a)",function(e){i.$element.on("blur",s)}),this.$element.before(t).on("blur",s).on("keydown",function(t){var s;if(i.isShown)switch(t.keyCode){case 13:return s=i.__getVisibleItems(),s.each(function(t){e(this).is(".active")&&i.__select(e(this).index())}),!1;case 40:return s=i.__getVisibleItems(),!s.last().is(".active")&&(s.each(function(t){var i=e(this),n=s.eq(t+1);if(i.is(".active"))return n.is(".hidden")||(i.removeClass("active"),n.addClass("active")),!1}),!1);case 38:return s=i.__getVisibleItems(),!s.first().is(".active")&&(s.each(function(t){var i=e(this),n=s.eq(t-1);if(i.is(".active"))return n.is(".hidden")||(i.removeClass("active"),n.addClass("active")),!1}),!1)}})},__mapItem:function(t){var i={text:"",value:""};return!(this.options.map&&(t=this.options.map(t),!t))&&(t instanceof Object?(i.text=t.text||"",i.value=t.value||""):(i.text=t,i.value=t),e("<li />",{"data-value":i.value}).html(e("<a />",{href:"#",html:i.text})))},__select:function(t){var i=this.$element,s=i.get(0),n=i.val(),o=this.get(t),a=this._keyPos+o.value.length+1;if(i.val(n.slice(0,this._keyPos)+o.value+" "+n.slice(this.__getSelection(s).start)),s.setSelectionRange)s.setSelectionRange(a,a);else if(s.createTextRange){var r=s.createTextRange();r.collapse(!0),r.moveEnd("character",a),r.moveStart("character",a),r.select()}i.trigger(e.extend({type:"suggest.select"},this),o),this.hide()},__getSelection:function(e){var t,i,s,n,o,a,r=0,l=0;return e.focus(),"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd?(r=e.selectionStart,l=e.selectionEnd):(s=document.selection.createRange(),s&&s.parentElement()===e&&(t=e.value,o=t.length,i=t.replace(/\r\n/g,"\n"),n=e.createTextRange(),n.moveToBookmark(s.getBookmark()),a=e.createTextRange(),a.collapse(!1),n.compareEndPoints("StartToEnd",a)>-1?r=l=o:(r=-n.moveStart("character",-o),r+=i.slice(0,r).split("\n").length-1,n.compareEndPoints("EndToEnd",a)>-1?l=o:(l=-n.moveEnd("character",-o),l+=i.slice(0,l).split("\n").length-1)),r-=t.substring(0,r).split("\r\n").length-1,l-=t.substring(0,l).split("\r\n").length-1)),{start:r,end:l}},__buildItems:function(e){var t=this.$dropdown.find(".dropdown-menu");if(t.empty(),e&&e instanceof Array)for(var i in e){var s=this.__mapItem(e[i]);s&&t.append(s)}return t.find("li:has(a)")},__lookup:function(t,i){this.$element.trigger(e.extend({type:"suggest.lookup"},this),[t,i]);i.eq(0).addClass("active");i&&i.length?this.show():this.hide()},__filterData:function(t,i){var s=this.options;return this.$items.addClass("hidden"),this.$items.filter(function(i){if(""===t)return i<s.filter.limit;var n=e(this),o=n.find("a:first").text();return s.filter.casesensitive||(o=o.toLowerCase(),t=t.toLowerCase()),o.indexOf(t)!=-1}).slice(0,s.filter.limit).removeClass("hidden active"),this.__getVisibleItems()},get:function(e){if(this.$items){var t=this.$items.eq(e);return{text:t.children("a:first").text(),value:t.attr("data-value"),index:e,$element:t}}},lookup:function(e){var t,i=(this.options,this),s=function(t){i._keyPos!==-1&&(i.$items||(i.$items=i.__buildItems(t)),i.__lookup(e,i.__filterData(e,t)))};"function"==typeof this.options.data?(this.$items=void 0,t=this.options.data(e,s)):t=this.options.data,t&&"function"==typeof t.promise?t.done(s):t&&s.call(this,t)},load:function(){this.__setListener(),this.__build()},hide:function(){this.$dropdown.removeClass("open"),this.isShown=!1,this.$items&&this.$items.removeClass("active"),this._keyPos=-1},show:function(){var t,i=this.$element,s=this.$dropdown.find(".dropdown-menu"),n=i.get(0),o=this.options,a={top:"auto",bottom:"auto",left:"auto",right:"auto"};if(!this.isShown){if(this.$dropdown.addClass("open"),o.position!==!1){if(t=this.__getCaretPos(this._keyPos),"string"==typeof o.position)switch(o.position){case"bottom":a.top=i.outerHeight()-parseFloat(s.css("margin-top")),a.left=0,a.right=0;break;case"top":a.top=-(s.outerHeight(!0)+parseFloat(s.css("margin-top"))),a.left=0,a.right=0;break;case"caret":a.top=t.top-n.scrollTop,a.left=t.left-n.scrollLeft}else a=e.extend(a,"function"==typeof o.position?o.position(n,t):o.position);s.css(a)}this.isShown=!0,i.trigger(e.extend({type:"suggest.show"},this))}}};var i=e.fn.suggest;e.fn.suggest=function(i){var s=arguments[1],n=arguments[2],o=function(i,s){var n={};return e.each(s,function(e,s){var o=e.toString().charAt(0);n[o]=new t(i,o,"object"==typeof s&&s)}),n};return this.each(function(){var t=this,a=e(this),r=a.data("suggest"),l={};if("string"==typeof i)if(1==i.length){if(s)if("string"==typeof s){if(i in r&&"undefined"!=typeof r[i][s])return r[i][s].call(r[i],n);console.error(i+" is not a suggest")}else l[i]=e.isArray(s)||"function"==typeof s?{data:s}:s,r&&i in r?r[i].options=e.extend({},r[i].options,l[i]):r=e.extend(r,o(this,l)),a.data("suggest",r)}else console.error("you're not initializing suggest properly. arg1 should have length == 1");else r?r&&(e.each(i,function(t,i){t in r==!1?l[t]=i:r[t].options=e.extend({},r[t].options,i)}),a.data("suggest",e.extend(r,o(t,l)))):a.data("suggest",o(this,i))})},e.fn.suggest.defaults={data:[],map:void 0,filter:{casesensitive:!1,limit:5},dropdownClass:"",position:"caret",onshow:function(e){},onselect:function(e,t){},onlookup:function(e,t){}},e.fn.suggest.Constructor=t,e.fn.suggest.noConflict=function(){return e.fn.suggest=i,this}}(jQuery),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return vs.apply(null,arguments)}function t(e){vs=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function n(e){var t;for(t in e)return!1;return!0}function o(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var i,s=[];for(i=0;i<e.length;++i)s.push(t(e[i],i));return s}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var i in t)c(t,i)&&(e[i]=t[i]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,i,s){return vt(e,t,i,s,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(e){return null==e._pf&&(e._pf=p()),e._pf}function f(e){if(null==e._isValid){var t=h(e),i=$s.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function m(e){var t=u(NaN);return null!=e?d(h(t),e):h(t).userInvalidated=!0,t}function _(e,t){var i,s,n;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=h(t)),o(t._locale)||(e._locale=t._locale),ys.length>0)for(i=0;i<ys.length;i++)s=ys[i],n=t[s],o(n)||(e[s]=n);return e}function g(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ws===!1&&(ws=!0,e.updateOffset(this),ws=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function $(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=b(t)),i}function y(e,t,i){var s,n=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(s=0;s<n;s++)(i&&e[s]!==t[s]||!i&&$(e[s])!==$(t[s]))&&a++;return a+o}function w(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function k(t,i){var s=!0;return d(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),s){for(var n,o=[],a=0;a<arguments.length;a++){if(n="","object"==typeof arguments[a]){n+="\n["+a+"] ";for(var r in arguments[0])n+=r+": "+arguments[0][r]+", ";n=n.slice(0,-2)}else n=arguments[a];o.push(n)}w(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),s=!1}return i.apply(this,arguments)},i)}function x(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),ks[t]||(w(i),ks[t]=!0)}function S(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e){var t,i;for(i in e)t=e[i],S(t)?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(e,t){var i,n=d({},e);for(i in t)c(t,i)&&(s(e[i])&&s(t[i])?(n[i]={},d(n[i],e[i]),d(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)c(e,i)&&!c(t,i)&&s(e[i])&&(n[i]=d({},n[i]));return n}function O(e){null!=e&&this.set(e)}function T(e,t,i){var s=this._calendar[e]||this._calendar.sameElse;return S(s)?s.call(t,i):s}function D(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function E(){return this._invalidDate}function M(e){return this._ordinal.replace("%d",e)}function A(e,t,i,s){var n=this._relativeTime[i];return S(n)?n(e,t,i,s):n.replace(/%d/i,e)}function I(e,t){var i=this._relativeTime[e>0?"future":"past"];return S(i)?i(t):i.replace(/%s/i,t)}function j(e,t){var i=e.toLowerCase();As[i]=As[i+"s"]=As[t]=e}function L(e){return"string"==typeof e?As[e]||As[e.toLowerCase()]:void 0}function H(e){var t,i,s={};for(i in e)c(e,i)&&(t=L(i),t&&(s[t]=e[i]));return s}function N(e,t){Is[e]=t}function R(e){var t=[];for(var i in e)t.push({unit:i,priority:Is[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}function F(t,i){return function(s){return null!=s?(B(this,t,s),e.updateOffset(this,i),this):Y(this,t)}}function Y(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function B(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function V(e){return e=L(e),S(this[e])?this[e]():this}function W(e,t){if("object"==typeof e){e=H(e);for(var i=R(e),s=0;s<i.length;s++)this[i[s].unit](e[i[s].unit])}else if(e=L(e),S(this[e]))return this[e](t);return this}function U(e,t,i){var s=""+Math.abs(e),n=t-s.length,o=e>=0;return(o?i?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+s}function G(e,t,i,s){var n=s;"string"==typeof s&&(n=function(){return this[s]()}),e&&(Ns[e]=n),t&&(Ns[t[0]]=function(){return U(n.apply(this,arguments),t[1],t[2])}),i&&(Ns[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,i,s=e.match(js);for(t=0,i=s.length;t<i;t++)Ns[s[t]]?s[t]=Ns[s[t]]:s[t]=q(s[t]);return function(t){var n,o="";for(n=0;n<i;n++)o+=S(s[n])?s[n].call(t,e):s[n];return o}}function J(e,t){return e.isValid()?(t=Z(t,e.localeData()),Hs[t]=Hs[t]||z(t),Hs[t](e)):e.localeData().invalidDate()}function Z(e,t){function i(e){return t.longDateFormat(e)||e}var s=5;for(Ls.lastIndex=0;s>=0&&Ls.test(e);)e=e.replace(Ls,i),Ls.lastIndex=0,s-=1;return e}function K(e,t,i){sn[e]=S(t)?t:function(e,s){return e&&i?i:t}}function X(e,t){return c(sn,e)?sn[e](t._strict,t._locale):new RegExp(Q(e))}function Q(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,s,n){return t||i||s||n}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var i,s=t;for("string"==typeof e&&(e=[e]),a(t)&&(s=function(e,i){i[t]=$(e)}),i=0;i<e.length;i++)nn[e[i]]=s}function ie(e,t){te(e,function(e,i,s,n){s._w=s._w||{},t(e,s._w,s,n)})}function se(e,t,i){null!=t&&c(nn,e)&&nn[e](t,i._a,i,e)}function ne(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||mn).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone}function ae(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[mn.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function re(e,t,i){var s,n,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)o=u([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===t?(n=fn.call(this._shortMonthsParse,a),n!==-1?n:null):(n=fn.call(this._longMonthsParse,a),n!==-1?n:null):"MMM"===t?(n=fn.call(this._shortMonthsParse,a),n!==-1?n:(n=fn.call(this._longMonthsParse,a),n!==-1?n:null)):(n=fn.call(this._longMonthsParse,a),n!==-1?n:(n=fn.call(this._shortMonthsParse,a),n!==-1?n:null))}function le(e,t,i){var s,n,o;if(this._monthsParseExact)return re.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(n=u([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[s]||(o="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[s]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(i&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!i&&this._monthsParse[s].test(e))return s}}function ce(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=$(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return i=Math.min(e.date(),ne(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function de(t){return null!=t?(ce(this,t),e.updateOffset(this,!0),this):Y(this,"Month")}function ue(){return ne(this.year(),this.month())}function pe(e){return this._monthsParseExact?(c(this,"_monthsRegex")||fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=vn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function he(e){return this._monthsParseExact?(c(this,"_monthsRegex")||fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=bn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fe(){function e(e,t){return t.length-e.length}var t,i,s=[],n=[],o=[];for(t=0;t<12;t++)i=u([2e3,t]),s.push(this.monthsShort(i,"")),n.push(this.months(i,"")),o.push(this.months(i,"")),o.push(this.monthsShort(i,""));for(s.sort(e),n.sort(e),o.sort(e),t=0;t<12;t++)s[t]=ee(s[t]),n[t]=ee(n[t]);for(t=0;t<24;t++)o[t]=ee(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function me(e){return _e(e)?366:365}function _e(e){return e%4===0&&e%100!==0||e%400===0}function ge(){return _e(this.year())}function ve(e,t,i,s,n,o,a){var r=new Date(e,t,i,s,n,o,a);return e<100&&e>=0&&isFinite(r.getFullYear())&&r.setFullYear(e),r}function be(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function $e(e,t,i){var s=7+t-i,n=(7+be(e,0,s).getUTCDay()-t)%7;return-n+s-1}function ye(e,t,i,s,n){var o,a,r=(7+i-s)%7,l=$e(e,s,n),c=1+7*(t-1)+r+l;return c<=0?(o=e-1,a=me(o)+c):c>me(e)?(o=e+1,a=c-me(e)):(o=e,a=c),{year:o,dayOfYear:a}}function we(e,t,i){var s,n,o=$e(e.year(),t,i),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(n=e.year()-1,s=a+ke(n,t,i)):a>ke(e.year(),t,i)?(s=a-ke(e.year(),t,i),n=e.year()+1):(n=e.year(),s=a),{week:s,year:n}}function ke(e,t,i){var s=$e(e,t,i),n=$e(e+1,t,i);return(me(e)-s+n)/7}function xe(e){return we(e,this._week.dow,this._week.doy).week}function Se(){return this._week.dow}function Ce(){return this._week.doy}function Pe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Oe(e){var t=we(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Te(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function De(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ee(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone}function Me(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ae(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ie(e,t,i){var s,n,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)o=u([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===t?(n=fn.call(this._weekdaysParse,a),n!==-1?n:null):"ddd"===t?(n=fn.call(this._shortWeekdaysParse,a),n!==-1?n:null):(n=fn.call(this._minWeekdaysParse,a),n!==-1?n:null):"dddd"===t?(n=fn.call(this._weekdaysParse,a),n!==-1?n:(n=fn.call(this._shortWeekdaysParse,a),n!==-1?n:(n=fn.call(this._minWeekdaysParse,a),n!==-1?n:null))):"ddd"===t?(n=fn.call(this._shortWeekdaysParse,a),n!==-1?n:(n=fn.call(this._weekdaysParse,a),n!==-1?n:(n=fn.call(this._minWeekdaysParse,a),n!==-1?n:null))):(n=fn.call(this._minWeekdaysParse,a),n!==-1?n:(n=fn.call(this._weekdaysParse,a),n!==-1?n:(n=fn.call(this._shortWeekdaysParse,a),n!==-1?n:null)))}function je(e,t,i){var s,n,o;if(this._weekdaysParseExact)return Ie.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(n=u([2e3,1]).day(s),i&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(n,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(n,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(n,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(o="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[s]=new RegExp(o.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(i&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(i&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!i&&this._weekdaysParse[s].test(e))return s}}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Te(e,this.localeData()),this.add(e-t,"d")):t}function He(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ne(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=De(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Re(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Sn),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fe(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Cn),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ye(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Pn),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Be(){function e(e,t){return t.length-e.length}var t,i,s,n,o,a=[],r=[],l=[],c=[];for(t=0;t<7;t++)i=u([2e3,1]).day(t),s=this.weekdaysMin(i,""),n=this.weekdaysShort(i,""),o=this.weekdays(i,""),a.push(s),r.push(n),l.push(o),c.push(s),c.push(n),c.push(o);for(a.sort(e),r.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)r[t]=ee(r[t]),l[t]=ee(l[t]),c[t]=ee(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ve(){return this.hours()%12||12}function We(){return this.hours()||24}function Ue(e,t){G(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ge(e,t){return t._meridiemParse}function qe(e){return"p"===(e+"").toLowerCase().charAt(0)}function ze(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function Je(e){return e?e.toLowerCase().replace("_","-"):e}function Ze(e){for(var t,i,s,n,o=0;o<e.length;){for(n=Je(e[o]).split("-"),t=n.length,i=Je(e[o+1]),i=i?i.split("-"):null;t>0;){if(s=Ke(n.slice(0,t).join("-")))return s;if(i&&i.length>=t&&y(n,i,!0)>=t-1)break;t--}o++}return null}function Ke(e){var t=null;if(!Mn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=On._abbr,require("./locale/"+e),Xe(t)}catch(e){}return Mn[e]}function Xe(e,t){var i;return e&&(i=o(t)?tt(e):Qe(e,t),i&&(On=i)),On._abbr}function Qe(e,t){if(null!==t){var i=En;if(t.abbr=e,null!=Mn[e])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Mn[e]._config;else if(null!=t.parentLocale){if(null==Mn[t.parentLocale])return An[t.parentLocale]||(An[t.parentLocale]=[]),An[t.parentLocale].push({name:e,config:t}),null;i=Mn[t.parentLocale]._config}return Mn[e]=new O(P(i,t)),An[e]&&An[e].forEach(function(e){Qe(e.name,e.config)}),Xe(e),Mn[e]}return delete Mn[e],null}function et(e,t){if(null!=t){var i,s=En;null!=Mn[e]&&(s=Mn[e]._config),t=P(s,t),i=new O(t),i.parentLocale=Mn[e],Mn[e]=i,Xe(e)}else null!=Mn[e]&&(null!=Mn[e].parentLocale?Mn[e]=Mn[e].parentLocale:null!=Mn[e]&&delete Mn[e]);return Mn[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return On;if(!i(e)){if(t=Ke(e))return t;e=[e]}return Ze(e)}function it(){return Cs(Mn)}function st(e){var t,i=e._a;return i&&h(e).overflow===-2&&(t=i[an]<0||i[an]>11?an:i[rn]<1||i[rn]>ne(i[on],i[an])?rn:i[ln]<0||i[ln]>24||24===i[ln]&&(0!==i[cn]||0!==i[dn]||0!==i[un])?ln:i[cn]<0||i[cn]>59?cn:i[dn]<0||i[dn]>59?dn:i[un]<0||i[un]>999?un:-1,h(e)._overflowDayOfYear&&(t<on||t>rn)&&(t=rn),h(e)._overflowWeeks&&t===-1&&(t=pn),h(e)._overflowWeekday&&t===-1&&(t=hn),h(e).overflow=t),e}function nt(e){var t,i,s,n,o,a,r=e._i,l=In.exec(r)||jn.exec(r);if(l){for(h(e).iso=!0,t=0,i=Hn.length;t<i;t++)if(Hn[t][1].exec(l[1])){n=Hn[t][0],s=Hn[t][2]!==!1;break}if(null==n)return void(e._isValid=!1);if(l[3]){for(t=0,i=Nn.length;t<i;t++)if(Nn[t][1].exec(l[3])){o=(l[2]||" ")+Nn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!s&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Ln.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=n+(o||"")+(a||""),ut(e)}else e._isValid=!1}function ot(e){var t,i,s,n,o,a,r,l,c={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},d="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),i=Fn.exec(t)){if(s=i[1]?"ddd"+(5===i[1].length?", ":" "):"",n="D MMM "+(i[2].length>10?"YYYY ":"YY "),o="HH:mm"+(i[4]?":ss":""),i[1]){var u=new Date(i[2]),p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][u.getDay()];if(i[1].substr(0,3)!==p)return h(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(i[5].length){case 2:0===l?r=" +0000":(l=d.indexOf(i[5][1].toUpperCase())-12,r=(l<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:r=c[i[5]];break;default:r=c[" GMT"]}i[5]=r,e._i=i.splice(1).join(""),a=" ZZ",e._f=s+n+o+a,ut(e),h(e).rfc2822=!0}else e._isValid=!1}function at(t){var i=Rn.exec(t._i);return null!==i?void(t._d=new Date((+i[1]))):(nt(t),void(t._isValid===!1&&(delete t._isValid,ot(t),t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t)))))}function rt(e,t,i){return null!=e?e:null!=t?t:i}function lt(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function ct(e){var t,i,s,n,o=[];if(!e._d){for(s=lt(e),e._w&&null==e._a[rn]&&null==e._a[an]&&dt(e),null!=e._dayOfYear&&(n=rt(e._a[on],s[on]),(e._dayOfYear>me(n)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),i=be(n,0,e._dayOfYear),e._a[an]=i.getUTCMonth(),e._a[rn]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=s[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ln]&&0===e._a[cn]&&0===e._a[dn]&&0===e._a[un]&&(e._nextDay=!0,e._a[ln]=0),e._d=(e._useUTC?be:ve).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ln]=24)}}function dt(e){var t,i,s,n,o,a,r,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,i=rt(t.GG,e._a[on],we(bt(),1,4).year),s=rt(t.W,1),n=rt(t.E,1),(n<1||n>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=we(bt(),o,a);i=rt(t.gg,e._a[on],c.year),s=rt(t.w,c.week),null!=t.d?(n=t.d,(n<0||n>6)&&(l=!0)):null!=t.e?(n=t.e+o,(t.e<0||t.e>6)&&(l=!0)):n=o}s<1||s>ke(i,o,a)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(r=ye(i,s,n,o,a),e._a[on]=r.year,e._dayOfYear=r.dayOfYear)}function ut(t){if(t._f===e.ISO_8601)return void nt(t);if(t._f===e.RFC_2822)return void ot(t);t._a=[],h(t).empty=!0;var i,s,n,o,a,r=""+t._i,l=r.length,c=0;for(n=Z(t._f,t._locale).match(js)||[],i=0;i<n.length;i++)o=n[i],s=(r.match(X(o,t))||[])[0],s&&(a=r.substr(0,r.indexOf(s)),a.length>0&&h(t).unusedInput.push(a),r=r.slice(r.indexOf(s)+s.length),c+=s.length),Ns[o]?(s?h(t).empty=!1:h(t).unusedTokens.push(o),se(o,s,t)):t._strict&&!s&&h(t).unusedTokens.push(o);h(t).charsLeftOver=l-c,r.length>0&&h(t).unusedInput.push(r),t._a[ln]<=12&&h(t).bigHour===!0&&t._a[ln]>0&&(h(t).bigHour=void 0),h(t).parsedDateParts=t._a.slice(0),h(t).meridiem=t._meridiem,t._a[ln]=pt(t._locale,t._a[ln],t._meridiem),ct(t),st(t)}function pt(e,t,i){var s;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(s=e.isPM(i),s&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function ht(e){var t,i,s,n,o;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(n=0;n<e._f.length;n++)o=0,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[n],ut(t),f(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==s||o<s)&&(s=o,i=t));d(e,i||t)}function ft(e){if(!e._d){var t=H(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ct(e)}}function mt(e){var t=new g(st(_t(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function _t(e){var t=e._i,s=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===s&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new g(st(t)):(r(t)?e._d=t:i(s)?ht(e):s?ut(e):gt(e),f(e)||(e._d=null),e))}function gt(t){var n=t._i;o(n)?t._d=new Date(e.now()):r(n)?t._d=new Date(n.valueOf()):"string"==typeof n?at(t):i(n)?(t._a=l(n.slice(0),function(e){return parseInt(e,10)}),ct(t)):s(n)?ft(t):a(n)?t._d=new Date(n):e.createFromInputFallback(t)}function vt(e,t,o,a,r){var l={};return o!==!0&&o!==!1||(a=o,o=void 0),(s(e)&&n(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=o,l._i=e,l._f=t,l._strict=a,mt(l)}function bt(e,t,i,s){return vt(e,t,i,s,!1)}function $t(e,t){var s,n;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return bt();for(s=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](s)||(s=t[n]);return s}function yt(){var e=[].slice.call(arguments,0);return $t("isBefore",e)}function wt(){var e=[].slice.call(arguments,0);return $t("isAfter",e)}function kt(e){for(var t in e)if(Wn.indexOf(t)===-1||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,s=0;s<Wn.length;++s)if(e[Wn[s]]){if(i)return!1;parseFloat(e[Wn[s]])!==$(e[Wn[s]])&&(i=!0)}return!0}function xt(){return this._isValid}function St(){return Wt(NaN)}function Ct(e){var t=H(e),i=t.year||0,s=t.quarter||0,n=t.month||0,o=t.week||0,a=t.day||0,r=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=kt(t),
this._milliseconds=+d+1e3*c+6e4*l+1e3*r*60*60,this._days=+a+7*o,this._months=+n+3*s+12*i,this._data={},this._locale=tt(),this._bubble()}function Pt(e){return e instanceof Ct}function Ot(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Tt(e,t){G(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+U(~~(e/60),2)+t+U(~~e%60,2)})}function Dt(e,t){var i=(t||"").match(e);if(null===i)return null;var s=i[i.length-1]||[],n=(s+"").match(Un)||["-",0,0],o=+(60*n[1])+$(n[2]);return 0===o?0:"+"===n[0]?o:-o}function Et(t,i){var s,n;return i._isUTC?(s=i.clone(),n=(v(t)||r(t)?t.valueOf():bt(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+n),e.updateOffset(s,!1),s):bt(t).local()}function Mt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function At(t,i,s){var n,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Dt(Qs,t),null===t)return this}else Math.abs(t)<16&&!s&&(t=60*t);return!this._isUTC&&i&&(n=Mt(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==t&&(!i||this._changeInProgress?Jt(this,Wt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Mt(this)}function It(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function jt(e){return this.utcOffset(0,e)}function Lt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Mt(this),"m")),this}function Ht(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Dt(Xs,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Nt(e){return!!this.isValid()&&(e=e?bt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Rt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ft(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(_(e,this),e=_t(e),e._a){var t=e._isUTC?u(e._a):bt(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Yt(){return!!this.isValid()&&!this._isUTC}function Bt(){return!!this.isValid()&&this._isUTC}function Vt(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Wt(e,t){var i,s,n,o=e,r=null;return Pt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(o={},t?o[t]=e:o.milliseconds=e):(r=Gn.exec(e))?(i="-"===r[1]?-1:1,o={y:0,d:$(r[rn])*i,h:$(r[ln])*i,m:$(r[cn])*i,s:$(r[dn])*i,ms:$(Ot(1e3*r[un]))*i}):(r=qn.exec(e))?(i="-"===r[1]?-1:1,o={y:Ut(r[2],i),M:Ut(r[3],i),w:Ut(r[4],i),d:Ut(r[5],i),h:Ut(r[6],i),m:Ut(r[7],i),s:Ut(r[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(n=qt(bt(o.from),bt(o.to)),o={},o.ms=n.milliseconds,o.M=n.months),s=new Ct(o),Pt(e)&&c(e,"_locale")&&(s._locale=e._locale),s}function Ut(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Gt(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function qt(e,t){var i;return e.isValid()&&t.isValid()?(t=Et(t,e),e.isBefore(t)?i=Gt(e,t):(i=Gt(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function zt(e,t){return function(i,s){var n,o;return null===s||isNaN(+s)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=i,i=s,s=o),i="string"==typeof i?+i:i,n=Wt(i,s),Jt(this,n,e),this}}function Jt(t,i,s,n){var o=i._milliseconds,a=Ot(i._days),r=Ot(i._months);t.isValid()&&(n=null==n||n,o&&t._d.setTime(t._d.valueOf()+o*s),a&&B(t,"Date",Y(t,"Date")+a*s),r&&ce(t,Y(t,"Month")+r*s),n&&e.updateOffset(t,a||r))}function Zt(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function Kt(t,i){var s=t||bt(),n=Et(s,this).startOf("day"),o=e.calendarFormat(this,n)||"sameElse",a=i&&(S(i[o])?i[o].call(this,s):i[o]);return this.format(a||this.localeData().calendar(o,this,bt(s)))}function Xt(){return new g(this)}function Qt(e,t){var i=v(e)?e:bt(e);return!(!this.isValid()||!i.isValid())&&(t=L(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function ei(e,t){var i=v(e)?e:bt(e);return!(!this.isValid()||!i.isValid())&&(t=L(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function ti(e,t,i,s){return s=s||"()",("("===s[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===s[1]?this.isBefore(t,i):!this.isAfter(t,i))}function ii(e,t){var i,s=v(e)?e:bt(e);return!(!this.isValid()||!s.isValid())&&(t=L(t||"millisecond"),"millisecond"===t?this.valueOf()===s.valueOf():(i=s.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function si(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function ni(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function oi(e,t,i){var s,n,o,a;return this.isValid()?(s=Et(e,this),s.isValid()?(n=6e4*(s.utcOffset()-this.utcOffset()),t=L(t),"year"===t||"month"===t||"quarter"===t?(a=ai(this,s),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-s,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-n)/864e5:"week"===t?(o-n)/6048e5:o),i?a:b(a)):NaN):NaN}function ai(e,t){var i,s,n=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(n,"months");return t-o<0?(i=e.clone().add(n-1,"months"),s=(t-o)/(o-i)):(i=e.clone().add(n+1,"months"),s=(t-o)/(i-o)),-(n+s)||0}function ri(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function li(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?J(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):S(Date.prototype.toISOString)?this.toDate().toISOString():J(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ci(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(i+s+n+o)}function di(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=J(this,t);return this.localeData().postformat(i)}function ui(e,t){return this.isValid()&&(v(e)&&e.isValid()||bt(e).isValid())?Wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pi(e){return this.from(bt(),e)}function hi(e,t){return this.isValid()&&(v(e)&&e.isValid()||bt(e).isValid())?Wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fi(e){return this.to(bt(),e)}function mi(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function _i(){return this._locale}function gi(e){switch(e=L(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function vi(e){return e=L(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function bi(){return this._d.valueOf()-6e4*(this._offset||0)}function $i(){return Math.floor(this.valueOf()/1e3)}function yi(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function ki(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xi(){return this.isValid()?this.toISOString():null}function Si(){return f(this)}function Ci(){return d({},h(this))}function Pi(){return h(this).overflow}function Oi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ti(e,t){G(0,[e,e.length],0,t)}function Di(e){return Ii.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ei(e){return Ii.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Mi(){return ke(this.year(),1,4)}function Ai(){var e=this.localeData()._week;return ke(this.year(),e.dow,e.doy)}function Ii(e,t,i,s,n){var o;return null==e?we(this,s,n).year:(o=ke(e,s,n),t>o&&(t=o),ji.call(this,e,t,i,s,n))}function ji(e,t,i,s,n){var o=ye(e,t,i,s,n),a=be(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Li(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Hi(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Ni(e,t){t[un]=$(1e3*("0."+e))}function Ri(){return this._isUTC?"UTC":""}function Fi(){return this._isUTC?"Coordinated Universal Time":""}function Yi(e){return bt(1e3*e)}function Bi(){return bt.apply(null,arguments).parseZone()}function Vi(e){return e}function Wi(e,t,i,s){var n=tt(),o=u().set(s,t);return n[i](o,e)}function Ui(e,t,i){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return Wi(e,t,i,"month");var s,n=[];for(s=0;s<12;s++)n[s]=Wi(e,s,i,"month");return n}function Gi(e,t,i,s){"boolean"==typeof e?(a(t)&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,a(t)&&(i=t,t=void 0),t=t||"");var n=tt(),o=e?n._week.dow:0;if(null!=i)return Wi(t,(i+o)%7,s,"day");var r,l=[];for(r=0;r<7;r++)l[r]=Wi(t,(r+o)%7,s,"day");return l}function qi(e,t){return Ui(e,t,"months")}function zi(e,t){return Ui(e,t,"monthsShort")}function Ji(e,t,i){return Gi(e,t,i,"weekdays")}function Zi(e,t,i){return Gi(e,t,i,"weekdaysShort")}function Ki(e,t,i){return Gi(e,t,i,"weekdaysMin")}function Xi(){var e=this._data;return this._milliseconds=no(this._milliseconds),this._days=no(this._days),this._months=no(this._months),e.milliseconds=no(e.milliseconds),e.seconds=no(e.seconds),e.minutes=no(e.minutes),e.hours=no(e.hours),e.months=no(e.months),e.years=no(e.years),this}function Qi(e,t,i,s){var n=Wt(t,i);return e._milliseconds+=s*n._milliseconds,e._days+=s*n._days,e._months+=s*n._months,e._bubble()}function es(e,t){return Qi(this,e,t,1)}function ts(e,t){return Qi(this,e,t,-1)}function is(e){return e<0?Math.floor(e):Math.ceil(e)}function ss(){var e,t,i,s,n,o=this._milliseconds,a=this._days,r=this._months,l=this._data;return o>=0&&a>=0&&r>=0||o<=0&&a<=0&&r<=0||(o+=864e5*is(os(r)+a),a=0,r=0),l.milliseconds=o%1e3,e=b(o/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,i=b(t/60),l.hours=i%24,a+=b(i/24),n=b(ns(a)),r+=n,a-=is(os(n)),s=b(r/12),r%=12,l.days=a,l.months=r,l.years=s,this}function ns(e){return 4800*e/146097}function os(e){return 146097*e/4800}function as(e){if(!this.isValid())return NaN;var t,i,s=this._milliseconds;if(e=L(e),"month"===e||"year"===e)return t=this._days+s/864e5,i=this._months+ns(t),"month"===e?i:i/12;switch(t=this._days+Math.round(os(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}}function rs(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*$(this._months/12):NaN}function ls(e){return function(){return this.as(e)}}function cs(e){return e=L(e),this.isValid()?this[e+"s"]():NaN}function ds(e){return function(){return this.isValid()?this._data[e]:NaN}}function us(){return b(this.days()/7)}function ps(e,t,i,s,n){return n.relativeTime(t||1,!!i,e,s)}function hs(e,t,i){var s=Wt(e).abs(),n=yo(s.as("s")),o=yo(s.as("m")),a=yo(s.as("h")),r=yo(s.as("d")),l=yo(s.as("M")),c=yo(s.as("y")),d=n<=wo.ss&&["s",n]||n<wo.s&&["ss",n]||o<=1&&["m"]||o<wo.m&&["mm",o]||a<=1&&["h"]||a<wo.h&&["hh",a]||r<=1&&["d"]||r<wo.d&&["dd",r]||l<=1&&["M"]||l<wo.M&&["MM",l]||c<=1&&["y"]||["yy",c];return d[2]=t,d[3]=+e>0,d[4]=i,ps.apply(null,d)}function fs(e){return void 0===e?yo:"function"==typeof e&&(yo=e,!0)}function ms(e,t){return void 0!==wo[e]&&(void 0===t?wo[e]:(wo[e]=t,"s"===e&&(wo.ss=t-1),!0))}function _s(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),i=hs(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function gs(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,s=ko(this._milliseconds)/1e3,n=ko(this._days),o=ko(this._months);e=b(s/60),t=b(e/60),s%=60,e%=60,i=b(o/12),o%=12;var a=i,r=o,l=n,c=t,d=e,u=s,p=this.asSeconds();return p?(p<0?"-":"")+"P"+(a?a+"Y":"")+(r?r+"M":"")+(l?l+"D":"")+(c||d||u?"T":"")+(c?c+"H":"")+(d?d+"M":"")+(u?u+"S":""):"P0D"}var vs,bs;bs=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,s=0;s<i;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var $s=bs,ys=e.momentProperties=[],ws=!1,ks={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var xs;xs=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)c(e,t)&&i.push(t);return i};var Ss,Cs=xs,Ps={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Os={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ts="Invalid date",Ds="%d",Es=/\d{1,2}/,Ms={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},As={},Is={},js=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ls=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hs={},Ns={},Rs=/\d/,Fs=/\d\d/,Ys=/\d{3}/,Bs=/\d{4}/,Vs=/[+-]?\d{6}/,Ws=/\d\d?/,Us=/\d\d\d\d?/,Gs=/\d\d\d\d\d\d?/,qs=/\d{1,3}/,zs=/\d{1,4}/,Js=/[+-]?\d{1,6}/,Zs=/\d+/,Ks=/[+-]?\d+/,Xs=/Z|[+-]\d\d:?\d\d/gi,Qs=/Z|[+-]\d\d(?::?\d\d)?/gi,en=/[+-]?\d+(\.\d{1,3})?/,tn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,sn={},nn={},on=0,an=1,rn=2,ln=3,cn=4,dn=5,un=6,pn=7,hn=8;Ss=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var fn=Ss;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),G("MMMM",0,0,function(e){return this.localeData().months(this,e)}),j("month","M"),N("month",8),K("M",Ws),K("MM",Ws,Fs),K("MMM",function(e,t){return t.monthsShortRegex(e)}),K("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[an]=$(e)-1}),te(["MMM","MMMM"],function(e,t,i,s){var n=i._locale.monthsParse(e,s,i._strict);null!=n?t[an]=n:h(i).invalidMonth=e});var mn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_n="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vn=tn,bn=tn;G("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),j("year","y"),N("year",1),K("Y",Ks),K("YY",Ws,Fs),K("YYYY",zs,Bs),K("YYYYY",Js,Vs),K("YYYYYY",Js,Vs),te(["YYYYY","YYYYYY"],on),te("YYYY",function(t,i){i[on]=2===t.length?e.parseTwoDigitYear(t):$(t)}),te("YY",function(t,i){i[on]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[on]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return $(e)+($(e)>68?1900:2e3)};var $n=F("FullYear",!0);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),N("week",5),N("isoWeek",5),K("w",Ws),K("ww",Ws,Fs),K("W",Ws),K("WW",Ws,Fs),ie(["w","ww","W","WW"],function(e,t,i,s){t[s.substr(0,1)]=$(e)});var yn={dow:0,doy:6};G("d",0,"do","day"),G("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),G("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),G("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),K("d",Ws),K("e",Ws),K("E",Ws),K("dd",function(e,t){return t.weekdaysMinRegex(e)}),K("ddd",function(e,t){return t.weekdaysShortRegex(e)}),K("dddd",function(e,t){return t.weekdaysRegex(e)}),ie(["dd","ddd","dddd"],function(e,t,i,s){var n=i._locale.weekdaysParse(e,s,i._strict);null!=n?t.d=n:h(i).invalidWeekday=e}),ie(["d","e","E"],function(e,t,i,s){t[s]=$(e)});var wn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),kn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Sn=tn,Cn=tn,Pn=tn;G("H",["HH",2],0,"hour"),G("h",["hh",2],0,Ve),G("k",["kk",2],0,We),G("hmm",0,0,function(){return""+Ve.apply(this)+U(this.minutes(),2)}),G("hmmss",0,0,function(){return""+Ve.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),Ue("a",!0),Ue("A",!1),j("hour","h"),N("hour",13),K("a",Ge),K("A",Ge),K("H",Ws),K("h",Ws),K("k",Ws),K("HH",Ws,Fs),K("hh",Ws,Fs),K("kk",Ws,Fs),K("hmm",Us),K("hmmss",Gs),K("Hmm",Us),K("Hmmss",Gs),te(["H","HH"],ln),te(["k","kk"],function(e,t,i){var s=$(e);t[ln]=24===s?0:s}),te(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),te(["h","hh"],function(e,t,i){t[ln]=$(e),h(i).bigHour=!0}),te("hmm",function(e,t,i){var s=e.length-2;t[ln]=$(e.substr(0,s)),t[cn]=$(e.substr(s)),h(i).bigHour=!0}),te("hmmss",function(e,t,i){var s=e.length-4,n=e.length-2;t[ln]=$(e.substr(0,s)),t[cn]=$(e.substr(s,2)),t[dn]=$(e.substr(n)),h(i).bigHour=!0}),te("Hmm",function(e,t,i){var s=e.length-2;t[ln]=$(e.substr(0,s)),t[cn]=$(e.substr(s))}),te("Hmmss",function(e,t,i){var s=e.length-4,n=e.length-2;t[ln]=$(e.substr(0,s)),t[cn]=$(e.substr(s,2)),t[dn]=$(e.substr(n))});var On,Tn=/[ap]\.?m?\.?/i,Dn=F("Hours",!0),En={calendar:Ps,longDateFormat:Os,invalidDate:Ts,ordinal:Ds,dayOfMonthOrdinalParse:Es,relativeTime:Ms,months:_n,monthsShort:gn,week:yn,weekdays:wn,weekdaysMin:xn,weekdaysShort:kn,meridiemParse:Tn},Mn={},An={},In=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ln=/Z|[+-]\d\d(?::?\d\d)?/,Hn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Nn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Rn=/^\/?Date\((\-?\d+)/i,Fn=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Yn=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Bn=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Vn=function(){return Date.now?Date.now():+new Date},Wn=["year","quarter","month","week","day","hour","minute","second","millisecond"];Tt("Z",":"),Tt("ZZ",""),K("Z",Qs),K("ZZ",Qs),te(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Dt(Qs,e)});var Un=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Gn=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,qn=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Wt.fn=Ct.prototype,Wt.invalid=St;var zn=zt(1,"add"),Jn=zt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Zn=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ti("gggg","weekYear"),Ti("ggggg","weekYear"),Ti("GGGG","isoWeekYear"),Ti("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),K("G",Ks),K("g",Ks),K("GG",Ws,Fs),K("gg",Ws,Fs),K("GGGG",zs,Bs),K("gggg",zs,Bs),K("GGGGG",Js,Vs),K("ggggg",Js,Vs),ie(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,s){t[s.substr(0,2)]=$(e)}),ie(["gg","GG"],function(t,i,s,n){i[n]=e.parseTwoDigitYear(t)}),G("Q",0,"Qo","quarter"),j("quarter","Q"),N("quarter",7),K("Q",Rs),te("Q",function(e,t){t[an]=3*($(e)-1)}),G("D",["DD",2],"Do","date"),j("date","D"),N("date",9),K("D",Ws),K("DD",Ws,Fs),K("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),te(["D","DD"],rn),te("Do",function(e,t){t[rn]=$(e.match(Ws)[0],10)});var Kn=F("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),N("dayOfYear",4),K("DDD",qs),K("DDDD",Ys),te(["DDD","DDDD"],function(e,t,i){i._dayOfYear=$(e)}),G("m",["mm",2],0,"minute"),j("minute","m"),N("minute",14),K("m",Ws),K("mm",Ws,Fs),te(["m","mm"],cn);var Xn=F("Minutes",!1);G("s",["ss",2],0,"second"),j("second","s"),N("second",15),K("s",Ws),K("ss",Ws,Fs),te(["s","ss"],dn);var Qn=F("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),j("millisecond","ms"),N("millisecond",16),K("S",qs,Rs),K("SS",qs,Fs),K("SSS",qs,Ys);var eo;for(eo="SSSS";eo.length<=9;eo+="S")K(eo,Zs);for(eo="S";eo.length<=9;eo+="S")te(eo,Ni);var to=F("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var io=g.prototype;io.add=zn,io.calendar=Kt,io.clone=Xt,io.diff=oi,io.endOf=vi,io.format=di,io.from=ui,io.fromNow=pi,io.to=hi,io.toNow=fi,io.get=V,io.invalidAt=Pi,io.isAfter=Qt,io.isBefore=ei,io.isBetween=ti,io.isSame=ii,io.isSameOrAfter=si,io.isSameOrBefore=ni,io.isValid=Si,io.lang=Zn,io.locale=mi,io.localeData=_i,io.max=Bn,io.min=Yn,io.parsingFlags=Ci,io.set=W,io.startOf=gi,io.subtract=Jn,io.toArray=wi,io.toObject=ki,io.toDate=yi,io.toISOString=li,io.inspect=ci,io.toJSON=xi,io.toString=ri,io.unix=$i,io.valueOf=bi,io.creationData=Oi,io.year=$n,io.isLeapYear=ge,io.weekYear=Di,io.isoWeekYear=Ei,io.quarter=io.quarters=Li,io.month=de,io.daysInMonth=ue,io.week=io.weeks=Pe,io.isoWeek=io.isoWeeks=Oe,io.weeksInYear=Ai,io.isoWeeksInYear=Mi,io.date=Kn,io.day=io.days=Le,io.weekday=He,io.isoWeekday=Ne,io.dayOfYear=Hi,io.hour=io.hours=Dn,io.minute=io.minutes=Xn,io.second=io.seconds=Qn,io.millisecond=io.milliseconds=to,io.utcOffset=At,io.utc=jt,io.local=Lt,io.parseZone=Ht,io.hasAlignedHourOffset=Nt,io.isDST=Rt,io.isLocal=Yt,io.isUtcOffset=Bt,io.isUtc=Vt,io.isUTC=Vt,io.zoneAbbr=Ri,io.zoneName=Fi,io.dates=k("dates accessor is deprecated. Use date instead.",Kn),io.months=k("months accessor is deprecated. Use month instead",de),io.years=k("years accessor is deprecated. Use year instead",$n),io.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",It),io.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ft);var so=O.prototype;so.calendar=T,so.longDateFormat=D,so.invalidDate=E,so.ordinal=M,so.preparse=Vi,so.postformat=Vi,so.relativeTime=A,so.pastFuture=I,so.set=C,so.months=oe,so.monthsShort=ae,so.monthsParse=le,so.monthsRegex=he,so.monthsShortRegex=pe,so.week=xe,so.firstDayOfYear=Ce,so.firstDayOfWeek=Se,so.weekdays=Ee,so.weekdaysMin=Ae,so.weekdaysShort=Me,so.weekdaysParse=je,so.weekdaysRegex=Re,so.weekdaysShortRegex=Fe,so.weekdaysMinRegex=Ye,so.isPM=qe,so.meridiem=ze,Xe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===$(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),e.lang=k("moment.lang is deprecated. Use moment.locale instead.",Xe),e.langData=k("moment.langData is deprecated. Use moment.localeData instead.",tt);var no=Math.abs,oo=ls("ms"),ao=ls("s"),ro=ls("m"),lo=ls("h"),co=ls("d"),uo=ls("w"),po=ls("M"),ho=ls("y"),fo=ds("milliseconds"),mo=ds("seconds"),_o=ds("minutes"),go=ds("hours"),vo=ds("days"),bo=ds("months"),$o=ds("years"),yo=Math.round,wo={ss:44,s:45,m:45,h:22,d:26,M:11},ko=Math.abs,xo=Ct.prototype;return xo.isValid=xt,xo.abs=Xi,xo.add=es,xo.subtract=ts,xo.as=as,xo.asMilliseconds=oo,xo.asSeconds=ao,xo.asMinutes=ro,xo.asHours=lo,xo.asDays=co,xo.asWeeks=uo,xo.asMonths=po,xo.asYears=ho,xo.valueOf=rs,xo._bubble=ss,xo.get=cs,xo.milliseconds=fo,xo.seconds=mo,xo.minutes=_o,xo.hours=go,xo.days=vo,xo.weeks=us,xo.months=bo,xo.years=$o,xo.humanize=_s,xo.toISOString=gs,xo.toString=gs,xo.toJSON=gs,xo.locale=mi,xo.localeData=_i,xo.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",gs),xo.lang=Zn,G("X",0,0,"unix"),G("x",0,0,"valueOf"),K("x",Ks),K("X",en),te("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,i){i._d=new Date($(e))}),e.version="2.18.1",t(bt),e.fn=io,e.min=yt,e.max=wt,e.now=Vn,e.utc=u,e.unix=Yi,e.months=qi,e.isDate=r,e.locale=Xe,e.invalid=m,e.duration=Wt,e.isMoment=v,e.weekdays=Ji,e.parseZone=Bi,e.localeData=tt,e.isDuration=Pt,e.monthsShort=zi,e.weekdaysMin=Ki,e.defineLocale=Qe,e.updateLocale=et,e.locales=it,e.weekdaysShort=Zi,e.normalizeUnits=L,e.relativeTimeRounding=fs,e.relativeTimeThreshold=ms,e.calendarFormat=Zt,e.prototype=io,e}),!function(e){"use strict";function t(e,t){for(var i=0;i<e.length;++i)t(e[i],i)}function i(t,i){this.$select=e(t),this.$select.attr("data-placeholder")&&(i.nonSelectedText=this.$select.data("placeholder")),this.options=this.mergeOptions(e.extend({},i,this.$select.data())),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=e.proxy(this.options.onChange,this),this.options.onSelectAll=e.proxy(this.options.onSelectAll,this),this.options.onDeselectAll=e.proxy(this.options.onDeselectAll,this),this.options.onDropdownShow=e.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=e.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=e.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=e.proxy(this.options.onDropdownHidden,this),this.options.onInitialized=e.proxy(this.options.onInitialized,this),this.options.onFiltering=e.proxy(this.options.onFiltering,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.disableIfEmpty&&e("option",this.$select).length<=0&&this.disable(),this.$select.wrap('<span class="hide-native-select" id="native_'+this.$select.attr("class")+'">').after(this.$container),this.options.onInitialized(this.$select,this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions","enable","disable"],init:function(t,i,s,n,o){var a=e(t),r=ko.toJS(i());if(a.multiselect(r),s.has("options")){var l=s.get("options");ko.isObservable(l)&&ko.computed({read:function(){l(),setTimeout(function(){var e=a.data("multiselect");e&&e.updateOriginalOptions(),a.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:t})}if(s.has("value")){var c=s.get("value");ko.isObservable(c)&&ko.computed({read:function(){c(),setTimeout(function(){a.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(s.has("selectedOptions")){var d=s.get("selectedOptions");ko.isObservable(d)&&ko.computed({read:function(){d(),setTimeout(function(){a.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0})}var u=function(e){setTimeout(function(){e?a.multiselect("enable"):a.multiselect("disable")})};if(s.has("enable")){var p=s.get("enable");ko.isObservable(p)?ko.computed({read:function(){u(p())},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0}):u(p)}if(s.has("disable")){var h=s.get("disable");ko.isObservable(h)?ko.computed({read:function(){u(!h())},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0}):u(!h)}ko.utils.domNodeDisposal.addDisposeCallback(t,function(){a.multiselect("destroy")})},update:function(t,i,s,n,o){var a=e(t),r=ko.toJS(i());a.multiselect("setOptions",r),a.multiselect("rebuild")}}),i.prototype={defaults:{buttonText:function(t,i){if(this.disabledText.length>0&&(i.prop("disabled")||0==t.length&&this.disableIfEmpty))return this.disabledText;if(0===t.length)return this.nonSelectedText;if(this.allSelectedText&&t.length===e("option",e(i)).length&&1!==e("option",e(i)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText:this.allSelectedText;if(t.length>this.numberDisplayed)return t.length+" "+this.nSelectedText;var s="",n=this.delimiterText;return t.each(function(){var t=void 0!==e(this).attr("label")?e(this).attr("label"):e(this).text();s+=t+n}),s.substr(0,s.length-this.delimiterText.length)},buttonTitle:function(t,i){if(0===t.length)return this.nonSelectedText;var s="",n=this.delimiterText;return t.each(function(){var t=void 0!==e(this).attr("label")?e(this).attr("label"):e(this).text();s+=t+n}),s.substr(0,s.length-this.delimiterText.length)},checkboxName:function(e){return!1},optionLabel:function(t){return e(t).attr("label")||e(t).text()},injectElement:function(e){},optionClass:function(t){return e(t).attr("class")||""},onChange:function(e,t){},onDropdownShow:function(e){},onDropdownHide:function(e){},onDropdownShown:function(e){},onDropdownHidden:function(e){},onSelectAll:function(){},onDeselectAll:function(){},onInitialized:function(e,t){},onFiltering:function(e){},enableHTML:!1,buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',
dropRight:!1,dropUp:!1,selectedClass:"active",maxHeight:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:"Everyone",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,selectAllJustVisible:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableFullValueFiltering:!1,enableClickableOptGroups:!1,enableCollapsibleOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"Person",allSelectedText:"Everyone",numberDisplayed:-1,disableIfEmpty:!1,disabledText:"",delimiterText:", ",templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:i,buildContainer:function(){this.$container=e(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=e(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:"100%",overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var t=this.$select.attr("tabindex");t&&this.$button.attr("tabindex",t),this.$container.prepend(this.$button)},buildDropdown:function(){if(this.$ul=e(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.options.dropUp){var t=Math.min(this.options.maxHeight,26*e('option[data-role!="divider"]',this.$select).length+19*e('option[data-role="divider"]',this.$select).length+(this.options.includeSelectAllOption?26:0)+(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering?44:0)),i=t+34;this.$ul.css({"max-height":t+"px","overflow-y":"auto","overflow-x":"hidden","margin-top":"-"+i+"px"})}this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(e.proxy(function(t,i){var s=e(i),n=s.prop("tagName").toLowerCase();s.prop("value")!==this.options.selectAllValue&&("optgroup"===n?this.createOptgroup(i):"option"===n&&("divider"===s.data("role")?this.createDivider():this.createOptionValue(i)))},this)),e("li:not(.multiselect-group) input",this.$ul).on("change",e.proxy(function(t){var i=e(t.target),s=i.prop("checked")||!1;if(s){var n=[];e(".visibility_drop li a label input:checked").each(function(t){n.push(e(this).val())});var o=n.toString();o.indexOf("multiselect-all")>-1&&(n=[],e(".visibility_drop li a label input").each(function(t){n.push(e(this).val())})),e("#alert_drop").val(n),e("#alert_drop").multiselect("refresh")}else{var a=[];e(".visibility_drop li a label input:checked").each(function(t){a.push(e(this).val())}),console.log(a+"visibility_drop"),e("#alert_drop").val(a),e("#alert_drop").multiselect("refresh")}var r=i.val()===this.options.selectAllValue;this.options.selectedClass&&(s?i.closest("li").addClass(this.options.selectedClass):i.closest("li").removeClass(this.options.selectedClass));var l=i.val(),c=this.getOptionByValue(l),d=e("option",this.$select).not(c),u=e("input",this.$container).not(i);if(r?s?this.selectAll(this.options.selectAllJustVisible):this.deselectAll(this.options.selectAllJustVisible):(s?(c.prop("selected",!0),this.options.multiple?c.prop("selected",!0):(this.options.selectedClass&&e(u).closest("li").removeClass(this.options.selectedClass),e(u).prop("checked",!1),d.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&d.closest("a").css("outline","")):c.prop("selected",!1),this.options.onChange(c,s),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()),this.$select.change(),this.updateButtonText(),this.options.preventInputChangeEvent)return!1},this)),e("li a",this.$ul).on("mousedown",function(e){if(e.shiftKey)return!1}),e("li a",this.$ul).on("touchstart click",e.proxy(function(t){t.stopPropagation();var i=e(t.target);if(t.shiftKey&&this.options.multiple){i.is("label")&&(t.preventDefault(),i=i.find("input"),i.prop("checked",!i.prop("checked")));var s=i.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==i){var n=i.closest("li").index(),o=this.lastToggledInput.closest("li").index();if(n>o){var a=o;o=n,n=a}++o;var r=this.$ul.find("li").slice(n,o).find("input");r.prop("checked",s),this.options.selectedClass&&r.closest("li").toggleClass(this.options.selectedClass,s);for(var l=0,c=r.length;l<c;l++){var d=e(r[l]),u=this.getOptionByValue(d.val());u.prop("selected",s)}}i.trigger("change")}i.is("input")&&!i.closest("li").is(".multiselect-item")&&(this.lastToggledInput=i),i.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",e.proxy(function(t){if(!e('input[type="text"]',this.$container).is(":focus"))if(9===t.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var i=e(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!i.length)return;var s=i.index(i.filter(":focus"));38===t.keyCode&&s>0?s--:40===t.keyCode&&s<i.length-1?s++:~s||(s=0);var n=i.eq(s);if(n.focus(),32===t.keyCode||13===t.keyCode){var o=n.find("input");o.prop("checked",!o.prop("checked")),o.change()}t.stopPropagation(),t.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&e("li.multiselect-group input",this.$ul).on("change",e.proxy(function(t){t.stopPropagation();var i=e(t.target),s=i.prop("checked")||!1,n=e(t.target).closest("li"),o=n.nextUntil("li.multiselect-group").not(".multiselect-filter-hidden").not(".disabled"),a=o.find("input"),r=[];e.each(a,e.proxy(function(t,i){var n=e(i).val(),o=this.getOptionByValue(n);s?(e(i).prop("checked",!0),e(i).closest("li").addClass(this.options.selectedClass),o.prop("selected",!0)):(e(i).prop("checked",!1),e(i).closest("li").removeClass(this.options.selectedClass),o.prop("selected",!1)),r.push(this.getOptionByValue(n))},this)),this.options.onChange(r,s),this.updateButtonText(),this.updateSelectAll()},this)),this.options.enableCollapsibleOptGroups&&this.options.multiple&&(e("li.multiselect-group .caret-container",this.$ul).on("click",e.proxy(function(t){var i=e(t.target).closest("li"),s=i.nextUntil("li.multiselect-group").not(".multiselect-filter-hidden"),n=!0;s.each(function(){n=n&&e(this).is(":visible")}),n?s.hide().addClass("multiselect-collapsible-hidden"):s.show().removeClass("multiselect-collapsible-hidden")},this)),e("li.multiselect-all",this.$ul).css("background","#f3f3f3").css("border-bottom","1px solid #eaeaea"),e("li.multiselect-all > a > label.checkbox",this.$ul).css("padding","3px 20px 3px 35px"),e("li.multiselect-group > a > input",this.$ul).css("margin","4px 0px 5px -20px"))},createOptionValue:function(t){var i=e(t);i.is(":selected")&&i.prop("selected",!0);var s=this.options.optionLabel(t),n=this.options.injectElement(t),o=this.options.optionClass(t),a=i.val(),r=this.options.multiple?"checkbox":"radio",l=e(this.options.templates.li),c=e("label",l);c.addClass(r),l.addClass(o),this.options.enableHTML?c.html(" "+s):c.text(" "+s);var d=e("<input/>").attr("type",r),u=this.options.checkboxName(i);u&&d.attr("name",u),c.prepend(d),c.append(n);var p=i.prop("selected")||!1;d.val(a),a===this.options.selectAllValue&&(l.addClass("multiselect-item multiselect-all"),d.parent().parent().addClass("multiselect-all")),c.attr("title",i.attr("title")),this.$ul.append(l),i.is(":disabled")&&d.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),d.prop("checked",p),p&&this.options.selectedClass&&d.closest("li").addClass(this.options.selectedClass)},createDivider:function(t){var i=e(this.options.templates.divider);this.$ul.append(i)},createOptgroup:function(t){var i=e(t).attr("label"),s=e(t).attr("value"),n=e('<li class="multiselect-item multiselect-group"><a href="javascript:void(0);"><label><b></b></label></a></li>'),o=this.options.optionClass(t);n.addClass(o),this.options.enableHTML?e("label b",n).html(" "+i):e("label b",n).text(" "+i),this.options.enableCollapsibleOptGroups&&this.options.multiple&&e("a",n).append('<span class="caret-container"><b class="caret"></b></span>'),this.options.enableClickableOptGroups&&this.options.multiple&&e("a label",n).prepend('<input type="checkbox" value="'+s+'"/>'),e(t).is(":disabled")&&n.addClass("disabled"),this.$ul.append(n),e("option",t).each(e.proxy(function(e,t){this.createOptionValue(t)},this))},buildSelectAll:function(){"number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString());var t=this.hasSelectAll();if(!t&&this.options.includeSelectAllOption&&this.options.multiple&&e("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(e(this.options.templates.divider));var i=e(this.options.templates.li);e("label",i).addClass("checkbox"),this.options.enableHTML?e("label",i).html(" "+this.options.selectAllText):e("label",i).text(" "+this.options.selectAllText),this.options.selectAllName?e("label",i).prepend('<input type="checkbox" name="'+this.options.selectAllName+'" />'):e("label",i).prepend('<input type="checkbox" />');var s=e("input",i);s.val(this.options.selectAllValue),i.addClass("multiselect-item multiselect-all"),s.parent().parent().addClass("multiselect-all"),this.$ul.prepend(i),s.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var t=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=t){if(this.$filter=e(this.options.templates.filter),e("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var i=e(this.options.templates.filterClearBtn);i.on("click",e.proxy(function(t){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),e("li",this.$ul).show().removeClass("multiselect-filter-hidden"),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},this)),this.$filter.find(".input-group").append(i)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(e){e.stopPropagation()}).on("input keydown",e.proxy(function(t){13===t.which&&t.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(e.proxy(function(){if(this.query!==t.target.value){this.query=t.target.value;var i,s;e.each(e("li",this.$ul),e.proxy(function(t,n){var o=e("input",n).length>0?e("input",n).val():"",a=e("label",n).text(),r="";if("text"===this.options.filterBehavior?r=a:"value"===this.options.filterBehavior?r=o:"both"===this.options.filterBehavior&&(r=a+"\n"+o),o!==this.options.selectAllValue&&a){var l=!1;if(this.options.enableCaseInsensitiveFiltering&&(r=r.toLowerCase(),this.query=this.query.toLowerCase()),this.options.enableFullValueFiltering&&"both"!==this.options.filterBehavior){var c=r.trim().substring(0,this.query.length);this.query.indexOf(c)>-1&&(l=!0)}else r.indexOf(this.query)>-1&&(l=!0);e(n).toggle(l).toggleClass("multiselect-filter-hidden",!l),e(n).hasClass("multiselect-group")?(i=n,s=l):(l&&e(i).show().removeClass("multiselect-filter-hidden"),!l&&s&&e(n).show().removeClass("multiselect-filter-hidden"))}},this))}this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.onFiltering(t.target)},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){var t=e.map(e("li input",this.$ul),e);e("option",this.$select).each(e.proxy(function(i,s){for(var n,o=e(s),a=o.val(),r=t.length;0<r--;)if(a===(n=t[r]).val()){o.is(":selected")?(n.prop("checked",!0),this.options.selectedClass&&n.closest("li").addClass(this.options.selectedClass)):(n.prop("checked",!1),this.options.selectedClass&&n.closest("li").removeClass(this.options.selectedClass)),o.is(":disabled")?n.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):n.prop("disabled",!1).closest("li").removeClass("disabled");break}},this)),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},select:function(t,i){e.isArray(t)||(t=[t]);for(var s=0;s<t.length;s++){var n=t[s];if(null!==n&&void 0!==n){var o=this.getOptionByValue(n),a=this.getInputByValue(n);void 0!==o&&void 0!==a&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&a.closest("li").addClass(this.options.selectedClass),a.prop("checked",!0),o.prop("selected",!0),i&&this.options.onChange(o,!0))}}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},deselect:function(t,i){e.isArray(t)||(t=[t]);for(var s=0;s<t.length;s++){var n=t[s];if(null!==n&&void 0!==n){var o=this.getOptionByValue(n),a=this.getInputByValue(n);void 0!==o&&void 0!==a&&(this.options.selectedClass&&a.closest("li").removeClass(this.options.selectedClass),a.prop("checked",!1),o.prop("selected",!1),i&&this.options.onChange(o,!1))}}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},selectAll:function(t,i){var t="undefined"==typeof t||t,s=e("li:not(.divider):not(.disabled):not(.multiselect-group)",this.$ul),n=e("li:not(.divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)",this.$ul).filter(":visible");t?(e("input:enabled",n).prop("checked",!0),n.addClass(this.options.selectedClass),e("input:enabled",n).each(e.proxy(function(t,i){var s=e(i).val(),n=this.getOptionByValue(s);e(n).prop("selected",!0)},this))):(e("input:enabled",s).prop("checked",!0),s.addClass(this.options.selectedClass),e("input:enabled",s).each(e.proxy(function(t,i){var s=e(i).val(),n=this.getOptionByValue(s);e(n).prop("selected",!0)},this))),e('li input[value="'+this.options.selectAllValue+'"]').prop("checked",!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),i&&this.options.onSelectAll()},deselectAll:function(t,i){var t="undefined"==typeof t||t,s=e("li:not(.divider):not(.disabled):not(.multiselect-group)",this.$ul),n=e("li:not(.divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)",this.$ul).filter(":visible");t?(e('input[type="checkbox"]:enabled',n).prop("checked",!1),n.removeClass(this.options.selectedClass),e('input[type="checkbox"]:enabled',n).each(e.proxy(function(t,i){var s=e(i).val(),n=this.getOptionByValue(s);e(n).prop("selected",!1)},this))):(e('input[type="checkbox"]:enabled',s).prop("checked",!1),s.removeClass(this.options.selectedClass),e('input[type="checkbox"]:enabled',s).each(e.proxy(function(t,i){var s=e(i).val(),n=this.getOptionByValue(s);e(n).prop("selected",!1)},this))),e('li input[value="'+this.options.selectAllValue+'"]').prop("checked",!1),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),i&&this.options.onDeselectAll()},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.disableIfEmpty&&e("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(i){var s=0,n=this.$select.empty();e.each(i,function(i,o){var a;if(e.isArray(o.children))s++,a=e("<optgroup/>").attr({label:o.label||"Group "+s,disabled:!!o.disabled}),t(o.children,function(t){var i={value:t.value,label:t.label||t.value,title:t.title,selected:!!t.selected,disabled:!!t.disabled};for(var s in t.attributes)i["data-"+s]=t.attributes[s];a.append(e("<option/>").attr(i))});else{var r={value:o.value,label:o.label||o.value,title:o.title,"class":o["class"],selected:!!o.selected,disabled:!!o.disabled};for(var l in o.attributes)r["data-"+l]=o.attributes[l];a=e("<option/>").attr(r),a.text(o.label||o.value)}n.append(a)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(e){this.options=this.mergeOptions(e)},mergeOptions:function(t){return e.extend(!0,{},this.defaults,this.options,t)},hasSelectAll:function(){return e("li.multiselect-all",this.$ul).length>0},updateOptGroups:function(){var t=e("li.multiselect-group",this.$ul);t.each(function(){var t=e(this).nextUntil("li.multiselect-group").not(".multiselect-filter-hidden").not(".disabled"),i=!0;t.each(function(){var t=e("input",this);t.prop("checked")||(i=!1)}),e("input",this).prop("checked",i)})},updateSelectAll:function(t){if(this.hasSelectAll()){var i=e("li:not(.multiselect-item):not(.multiselect-filter-hidden):not(.multiselect-group):not(.disabled) input:enabled",this.$ul),s=i.length,n=i.filter(":checked").length,o=e("li.multiselect-all",this.$ul),a=o.find("input");n>0&&n===s?(a.prop("checked",!0),o.addClass(this.options.selectedClass),this.options.onSelectAll()):(a.prop("checked",!1),o.removeClass(this.options.selectedClass),0===n&&(t||this.options.onDeselectAll()))}},updateButtonText:function(){var t=this.getSelected();this.options.enableHTML?e(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(t,this.$select)):e(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(t,this.$select)),e(".multiselect",this.$container).attr("title",this.options.buttonTitle(t,this.$select))},getSelected:function(){return e("option",this.$select).filter(":selected")},getOptionByValue:function(t){for(var i=e("option",this.$select),s=t.toString(),n=0;n<i.length;n+=1){var o=i[n];if(o.value===s)return e(o)}},getInputByValue:function(t){for(var i=e("li input",this.$ul),s=t.toString(),n=0;n<i.length;n+=1){var o=i[n];if(o.value===s)return e(o)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(e,t,i){var s=Array.prototype.slice.call(arguments,3);return setTimeout(function(){e.apply(i||window,s)},t)},setAllSelectedText:function(e){this.options.allSelectedText=e,this.updateButtonText()}},e.fn.multiselect=function(t,s,n){return this.each(function(){var o=e(this).data("multiselect"),a="object"==typeof t&&t;o||(o=new i(this,a),e(this).data("multiselect",o)),"string"==typeof t&&(o[t](s,n),"destroy"===t&&e(this).data("multiselect",!1))})},e.fn.multiselect.Constructor=i,e(function(){e("select[data-role=multiselect]").multiselect()})}(window.jQuery),!function(e,t){return"function"==typeof define&&define.amd?define(["jquery"],function(i){return e.Tour=t(i)}):"object"==typeof exports?module.exports=t(require("jQuery")):e.Tour=t(e.jQuery)}(window,function(e){var t,i;return i=window.document,t=function(){function t(t){var i;try{i=window.localStorage}catch(s){i=!1}this._options=e.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:i,debug:!1,backdrop:!1,backdropContainer:"body",backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-title"></h3> <div class="popover-content"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-default" data-role="prev">&laquo; Prev</button> <button class="btn btn-sm btn-default" data-role="next">Next &raquo;</button> <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause</button> </div> <button class="btn btn-sm btn-default" data-role="end">End tour</button> </div> </div>',afterSetState:function(){},afterGetState:function(){},afterRemoveState:function(){},onStart:function(){},onEnd:function(){},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNext:function(){},onPrev:function(){},onPause:function(){},onResume:function(){},onRedirectError:function(){}},t),this._force=!1,this._inited=!1,this._current=null,this.backdrop={overlay:null,$element:null,$background:null,backgroundShown:!1,overlayElementShown:!1}}return t.prototype.addSteps=function(e){var t,i,s;for(i=0,s=e.length;s>i;i++)t=e[i],this.addStep(t);return this},t.prototype.addStep=function(e){return this._options.steps.push(e),this},t.prototype.getStep=function(t){return null!=this._options.steps[t]?e.extend({id:"step-"+t,path:"",host:"",placement:"right",title:"",content:"<p></p>",next:t===this._options.steps.length-1?-1:t+1,prev:t-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropContainer:this._options.backdropContainer,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,reflexElement:this._options.steps[t].element,backdropElement:this._options.steps[t].element,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume,onRedirectError:this._options.onRedirectError},this._options.steps[t]):void 0},t.prototype.init=function(e){return this._force=e,this.ended()?(this._debug("Tour ended, init prevented."),this):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),this._onResize(function(e){return function(){return e.showStep(e._current)}}(this)),null!==this._current&&this.showStep(this._current),this._inited=!0,this)},t.prototype.start=function(e){var t;return null==e&&(e=!1),this._inited||this.init(e),null===this._current&&(t=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(t,this.showStep,0)),this},t.prototype.next=function(){var e;return e=this.hideStep(this._current,this._current+1),this._callOnPromiseDone(e,this._showNextStep)},t.prototype.prev=function(){var e;return e=this.hideStep(this._current,this._current-1),this._callOnPromiseDone(e,this._showPrevStep)},t.prototype.goTo=function(e){var t;return t=this.hideStep(this._current,e),this._callOnPromiseDone(t,this.showStep,e)},t.prototype.end=function(){var t,s;return t=function(t){return function(){return e(i).off("click.tour-"+t._options.name),e(i).off("keyup.tour-"+t._options.name),e(window).off("resize.tour-"+t._options.name),t._setState("end","yes"),t._inited=!1,t._force=!1,t._clearTimer(),null!=t._options.onEnd?t._options.onEnd(t):void 0}}(this),s=this.hideStep(this._current),this._callOnPromiseDone(s,t)},t.prototype.ended=function(){return!this._force&&!!this._getState("end")},t.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this._removeState("redirect_to"),this.start()},t.prototype.pause=function(){var e;return e=this.getStep(this._current),e&&e.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,window.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=e.onPause?e.onPause(this,this._duration):void 0):this},t.prototype.resume=function(){var e;return e=this.getStep(this._current),e&&e.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||e.duration,this._timer=window.setTimeout(function(e){return function(){return e._isLast()?e.next():e.end()}}(this),this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=e.onResume&&this._duration!==e.duration?e.onResume(this,this._duration):void 0):this},t.prototype.hideStep=function(t,i){var s,n,o,a;return(a=this.getStep(t))?(this._clearTimer(),o=this._makePromise(null!=a.onHide?a.onHide(this,t):void 0),n=function(s){return function(){var n,o;return n=e(a.element),n.data("bs.popover")||n.data("popover")||(n=e("body")),n.popover("destroy").removeClass("tour-"+s._options.name+"-element tour-"+s._options.name+"-"+t+"-element").removeData("bs.popover").focus(),a.reflex&&e(a.reflexElement).removeClass("tour-step-element-reflex").off(""+s._reflexEvent(a.reflex)+".tour-"+s._options.name),a.backdrop&&(o=null!=i&&s.getStep(i),o&&o.backdrop&&o.backdropElement===a.backdropElement||s._hideBackdrop()),null!=a.onHidden?a.onHidden(s):void 0}}(this),s=a.delay.hide||a.delay,"[object Number]"==={}.toString.call(s)&&s>0?(this._debug("Wait "+s+" milliseconds to hide the step "+(this._current+1)),window.setTimeout(function(e){return function(){return e._callOnPromiseDone(o,n)}}(this),s)):this._callOnPromiseDone(o,n),o):void 0},t.prototype.showStep=function(e){var t,s,n,o,a,r;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(r=this.getStep(e),r&&(a=e<this._current,s=this._makePromise(null!=r.onShow?r.onShow(this,e):void 0),this.setCurrentStep(e),t=function(){switch({}.toString.call(r.path)){case"[object Function]":return r.path();case"[object String]":return this._options.basePath+r.path;default:return r.path}}.call(this),!r.redirect||!this._isRedirect(r.host,t,i.location)||(this._redirect(r,e,t),this._isJustPathHashDifferent(r.host,t,i.location)))?(o=function(t){return function(){var i;if(t._isOrphan(r)){if(r.orphan===!1)return t._debug("Skip the orphan step "+(t._current+1)+".\nOrphan option is false and the element does not exist or is hidden."),void(a?t._showPrevStep():t._showNextStep());t._debug("Show the orphan step "+(t._current+1)+". Orphans option is true.")}return r.backdrop&&t._showBackdrop(r),i=function(){return t.getCurrentStep()!==e||t.ended()?void 0:(null!=r.element&&r.backdrop&&t._showOverlayElement(r,!0),t._showPopover(r,e),null!=r.onShown&&r.onShown(t),t._debug("Step "+(t._current+1)+" of "+t._options.steps.length))},r.autoscroll?t._scrollIntoView(r,i):i(),r.duration?t.resume():void 0}}(this),n=r.delay.show||r.delay,"[object Number]"==={}.toString.call(n)&&n>0?(this._debug("Wait "+n+" milliseconds to show the step "+(this._current+1)),window.setTimeout(function(e){return function(){return e._callOnPromiseDone(s,o)}}(this),n)):this._callOnPromiseDone(s,o),s):void 0)},t.prototype.getCurrentStep=function(){return this._current},t.prototype.setCurrentStep=function(e){return null!=e?(this._current=e,this._setState("current_step",e)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)),this},t.prototype.redraw=function(){return this._showOverlayElement(this.getStep(this.getCurrentStep()).element,!0)},t.prototype._setState=function(e,t){var i,s;if(this._options.storage){s=""+this._options.name+"_"+e;try{this._options.storage.setItem(s,t)}catch(n){i=n,i.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(s,t)}return null==this._state&&(this._state={}),this._state[e]=t},t.prototype._removeState=function(e){var t;return this._options.storage?(t=""+this._options.name+"_"+e,this._options.storage.removeItem(t),this._options.afterRemoveState(t)):null!=this._state?delete this._state[e]:void 0},t.prototype._getState=function(e){var t,i;return this._options.storage?(t=""+this._options.name+"_"+e,i=this._options.storage.getItem(t)):null!=this._state&&(i=this._state[e]),(void 0===i||"null"===i)&&(i=null),this._options.afterGetState(e,i),i},t.prototype._showNextStep=function(){var e,t,i;return i=this.getStep(this._current),t=function(e){return function(){return e.showStep(i.next)}}(this),e=this._makePromise(null!=i.onNext?i.onNext(this):void 0),this._callOnPromiseDone(e,t)},t.prototype._showPrevStep=function(){var e,t,i;return i=this.getStep(this._current),t=function(e){return function(){return e.showStep(i.prev)}}(this),e=this._makePromise(null!=i.onPrev?i.onPrev(this):void 0),this._callOnPromiseDone(e,t)},t.prototype._debug=function(e){return this._options.debug?window.console.log("Bootstrap Tour '"+this._options.name+"' | "+e):void 0},t.prototype._isRedirect=function(e,t,i){var s;return!(null==e||""===e||!("[object RegExp]"==={}.toString.call(e)&&!e.test(i.origin)||"[object String]"==={}.toString.call(e)&&this._isHostDifferent(e,i)))||(s=[i.pathname,i.search,i.hash].join(""),null!=t&&""!==t&&("[object RegExp]"==={}.toString.call(t)&&!t.test(s)||"[object String]"==={}.toString.call(t)&&this._isPathDifferent(t,s)))},t.prototype._isHostDifferent=function(e,t){switch({}.toString.call(e)){case"[object RegExp]":return!e.test(t.origin);case"[object String]":return this._getProtocol(e)!==this._getProtocol(t.href)||this._getHost(e)!==this._getHost(t.href);default:return!0}},t.prototype._isPathDifferent=function(e,t){return this._getPath(e)!==this._getPath(t)||!this._equal(this._getQuery(e),this._getQuery(t))||!this._equal(this._getHash(e),this._getHash(t))},t.prototype._isJustPathHashDifferent=function(e,t,i){var s;return(null==e||""===e||!this._isHostDifferent(e,i))&&(s=[i.pathname,i.search,i.hash].join(""),"[object String]"==={}.toString.call(t)&&(this._getPath(t)===this._getPath(s)&&this._equal(this._getQuery(t),this._getQuery(s))&&!this._equal(this._getHash(t),this._getHash(s))))},t.prototype._redirect=function(t,s,n){var o;return e.isFunction(t.redirect)?t.redirect.call(this,n):(o="[object String]"==={}.toString.call(t.host)?""+t.host+n:n,this._debug("Redirect to "+o),this._getState("redirect_to")!==""+s?(this._setState("redirect_to",""+s),i.location.href=o):(this._debug("Error redirection loop to "+n),this._removeState("redirect_to"),null!=t.onRedirectError?t.onRedirectError(this):void 0))},t.prototype._isOrphan=function(t){return null==t.element||!e(t.element).length||e(t.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==e(t.element)[0].namespaceURI},t.prototype._isLast=function(){return this._current<this._options.steps.length-1},t.prototype._showPopover=function(t,i){var s,n,o,a,r;return e(".tour-"+this._options.name).remove(),a=e.extend({},this._options),o=this._isOrphan(t),t.template=this._template(t,i),o&&(t.element="body",t.placement="top"),s=e(t.element),s.addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+i+"-element"),t.options&&e.extend(a,t.options),t.reflex&&!o&&e(t.reflexElement).addClass("tour-step-element-reflex").off(""+this._reflexEvent(t.reflex)+".tour-"+this._options.name).on(""+this._reflexEvent(t.reflex)+".tour-"+this._options.name,function(e){return function(){return e._isLast()?e.next():e.end();
}}(this)),r=t.smartPlacement===!0&&-1===t.placement.search(/auto/i),s.popover({placement:r?"auto "+t.placement:t.placement,trigger:"manual",title:t.title,content:t.content,html:!0,animation:t.animation,container:t.container,template:t.template,selector:t.element}).popover("show"),n=s.data("bs.popover")?s.data("bs.popover").tip():s.data("popover").tip(),n.attr("id",t.id),this._focus(n,s,t.next<0),this._reposition(n,t),o?this._center(n):void 0},t.prototype._template=function(t,i){var s,n,o,a,r,l;return l=t.template,this._isOrphan(t)&&"[object Boolean]"!=={}.toString.call(t.orphan)&&(l=t.orphan),r=e(e.isFunction(l)?l(i,t):l),s=r.find(".popover-navigation"),o=s.find('[data-role="prev"]'),n=s.find('[data-role="next"]'),a=s.find('[data-role="pause-resume"]'),this._isOrphan(t)&&r.addClass("orphan"),r.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+i),t.reflex&&r.addClass("tour-"+this._options.name+"-reflex"),t.prev<0&&o.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),t.next<0&&n.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),t.duration||a.remove(),r.clone().wrap("<div>").parent().html()},t.prototype._reflexEvent=function(e){return"[object Boolean]"==={}.toString.call(e)?"click":e},t.prototype._focus=function(e,t,i){var s,n;return n=i?"end":"next",s=e.find("[data-role='"+n+"']"),t.on("shown.bs.popover",function(){return s.focus()})},t.prototype._reposition=function(t,s){var n,o,a,r,l,c,d;if(r=t[0].offsetWidth,o=t[0].offsetHeight,d=t.offset(),l=d.left,c=d.top,n=e(i).outerHeight()-d.top-t.outerHeight(),0>n&&(d.top=d.top+n),a=e("html").outerWidth()-d.left-t.outerWidth(),0>a&&(d.left=d.left+a),d.top<0&&(d.top=0),d.left<0&&(d.left=0),t.offset(d),"bottom"===s.placement||"top"===s.placement){if(l!==d.left)return this._replaceArrow(t,2*(d.left-l),r,"left")}else if(c!==d.top)return this._replaceArrow(t,2*(d.top-c),o,"top")},t.prototype._center=function(t){return t.css("top",e(window).outerHeight()/2-t.outerHeight()/2)},t.prototype._replaceArrow=function(e,t,i,s){return e.find(".arrow").css(s,t?50*(1-t/i)+"%":"")},t.prototype._scrollIntoView=function(t,i){var s,n,o,a,r,l,c;if(s=e(t.element),!s.length)return i();switch(n=e(window),r=s.offset().top,a=s.outerHeight(),c=n.height(),l=0,t.placement){case"top":l=Math.max(0,r-c/2);break;case"left":case"right":l=Math.max(0,r+a/2-c/2);break;case"bottom":l=Math.max(0,r+a-c/2)}return this._debug("Scroll into view. ScrollTop: "+l+". Element offset: "+r+". Window height: "+c+"."),o=0,e("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(l)},function(e){return function(){return 2===++o?(i(),e._debug("Scroll into view.\nAnimation end element offset: "+s.offset().top+".\nWindow height: "+n.height()+".")):void 0}}(this))},t.prototype._onResize=function(t,i){return e(window).on("resize.tour-"+this._options.name,function(){return clearTimeout(i),i=setTimeout(t,100)})},t.prototype._initMouseNavigation=function(){var t;return t=this,e(i).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(e){return function(t){return t.preventDefault(),e.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(e){return function(t){return t.preventDefault(),e._current>0?e.prev():void 0}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(e){return function(t){return t.preventDefault(),e.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(i){var s;return i.preventDefault(),s=e(this),s.text(t._paused?s.data("pause-text"):s.data("resume-text")),t._paused?t.resume():t.pause()})},t.prototype._initKeyboardNavigation=function(){return this._options.keyboard?e(i).on("keyup.tour-"+this._options.name,function(e){return function(t){if(t.which)switch(t.which){case 39:return t.preventDefault(),e._isLast()?e.next():e.end();case 37:if(t.preventDefault(),e._current>0)return e.prev()}}}(this)):void 0},t.prototype._makePromise=function(t){return t&&e.isFunction(t.then)?t:null},t.prototype._callOnPromiseDone=function(e,t,i){return e?e.then(function(e){return function(){return t.call(e,i)}}(this)):t.call(this,i)},t.prototype._showBackdrop=function(t){return this.backdrop.backgroundShown?void 0:(this.backdrop=e("<div>",{"class":"tour-backdrop"}),this.backdrop.backgroundShown=!0,e(t.backdropContainer).append(this.backdrop))},t.prototype._hideBackdrop=function(){return this._hideOverlayElement(),this._hideBackground()},t.prototype._hideBackground=function(){return this.backdrop&&this.backdrop.remove?(this.backdrop.remove(),this.backdrop.overlay=null,this.backdrop.backgroundShown=!1):void 0},t.prototype._showOverlayElement=function(t,i){var s,n,o;return n=e(t.element),s=e(t.backdropElement),!n||0===n.length||this.backdrop.overlayElementShown&&!i?void 0:(this.backdrop.overlayElementShown||(this.backdrop.$element=s.addClass("tour-step-backdrop"),this.backdrop.$background=e("<div>",{"class":"tour-step-background"}),this.backdrop.$background.appendTo(t.backdropContainer),this.backdrop.overlayElementShown=!0),o={width:s.innerWidth()-20,height:s.innerHeight(),offset:s.offset()},t.backdropPadding&&(o=this._applyBackdropPadding(t.backdropPadding,o)),this.backdrop.$background.width(o.width).height(o.height).offset(o.offset))},t.prototype._hideOverlayElement=function(){return this.backdrop.overlayElementShown?(this.backdrop.$element.removeClass("tour-step-backdrop"),this.backdrop.$background.remove(),this.backdrop.$element=null,this.backdrop.$background=null,this.backdrop.overlayElementShown=!1):void 0},t.prototype._applyBackdropPadding=function(e,t){return"object"==typeof e?(null==e.top&&(e.top=0),null==e.right&&(e.right=0),null==e.bottom&&(e.bottom=0),null==e.left&&(e.left=0),t.offset.top=t.offset.top-e.top,t.offset.left=t.offset.left-e.left,t.width=t.width+e.left+e.right,t.height=t.height+e.top+e.bottom):(t.offset.top=t.offset.top-e,t.offset.left=t.offset.left-e,t.width=t.width+2*e,t.height=t.height+2*e),t},t.prototype._clearTimer=function(){return window.clearTimeout(this._timer),this._timer=null,this._duration=null},t.prototype._getProtocol=function(e){return e=e.split("://"),e.length>1?e[0]:"http"},t.prototype._getHost=function(e){return e=e.split("//"),e=e.length>1?e[1]:e[0],e.split("/")[0]},t.prototype._getPath=function(e){return e.replace(/\/?$/,"").split("?")[0].split("#")[0]},t.prototype._getQuery=function(e){return this._getParams(e,"?")},t.prototype._getHash=function(e){return this._getParams(e,"#")},t.prototype._getParams=function(e,t){var i,s,n,o,a;if(s=e.split(t),1===s.length)return{};for(s=s[1].split("&"),n={},o=0,a=s.length;a>o;o++)i=s[o],i=i.split("="),n[i[0]]=i[1]||"";return n},t.prototype._equal=function(e,t){var i,s,n,o,a,r;if("[object Object]"==={}.toString.call(e)&&"[object Object]"==={}.toString.call(t)){if(s=Object.keys(e),n=Object.keys(t),s.length!==n.length)return!1;for(i in e)if(o=e[i],!this._equal(t[i],o))return!1;return!0}if("[object Array]"==={}.toString.call(e)&&"[object Array]"==={}.toString.call(t)){if(e.length!==t.length)return!1;for(i=a=0,r=e.length;r>a;i=++a)if(o=e[i],!this._equal(o,t[i]))return!1;return!0}return e===t},t}()}),function(){function e(e,o){function a(){for(var a=-1*p;a<=p;a+=2){var c,u=d[a-1],h=d[a+1];_=(h?h.newPos:0)-a,u&&(d[a-1]=void 0);var f=u&&u.newPos+1<r,m=h&&0<=_&&_<l;if(f||m){!f||m&&u.newPos<h.newPos?(c=n(h),i(c.components,void 0,!0)):(c=u,c.newPos++,i(c.components,!0,void 0));var _=s(c,o,e,a);if(c.newPos+1>=r&&_+1>=l)return t(c.components,o,e);d[a]=c}else d[a]=void 0}p++}if(o===e)return[{value:o}];if(!o)return[{value:e,removed:!0}];if(!e)return[{value:o,added:!0}];var r=o.length,l=e.length,c=r+l,d=[{newPos:-1,components:[]}],u=s(d[0],o,e,0);if(d[0].newPos+1>=r&&u+1>=l)return[{value:o}];for(var p=1;p<=c;){var h=a();if(h)return h}}function t(e,t,i){for(var s=0,n=e.length,o=0,a=0;s<n;s++){var r=e[s];r.removed?(r.value=i.slice(a,a+r.count),a+=r.count):(r.value=t.slice(o,o+r.count),o+=r.count,r.added||(a+=r.count))}return e}function i(e,t,i){var s=e[e.length-1];s&&s.added===t&&s.removed===i?e[e.length-1]={count:s.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})}function s(e,t,i,s){for(var n=t.length,o=i.length,a=e.newPos,r=a-s,l=0;a+1<n&&r+1<o&&t[a+1]==i[r+1];)a++,r++,l++;return l&&e.components.push({count:l}),e.newPos=a,r}function n(e){return{newPos:e.newPos,components:e.components.slice(0)}}var o,a,r,l,c,d,u,p,h,f=function(e,t){return function(){return e.apply(t,arguments)}},m=function(e,t){function i(){this.constructor=e}for(var s in t)_.call(t,s)&&(e[s]=t[s]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},_={}.hasOwnProperty,g=[].slice;h="mentionsInput","object"==typeof module&&"object"==typeof module.exports?(o=require("jquery"),require("jquery-ui/ui/widgets/autocomplete")):o=window.jQuery,c={get:function(e){return{start:e[0].selectionStart,end:e[0].selectionEnd}},set:function(e,t,i){if(null==i&&(i=t),e[0].selectionStart)return e[0].selectStart=t,e[0].selectionEnd=i}},d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},u=function(e){return e.replace(/[&<>"'\/]/g,function(e){return d[e]})},p=function(e){var t;return t=/[.*+?|()\[\]{}\\$^]/g,e.replace(t,"\\$&")},o.widget("ui.areacomplete",o.ui.autocomplete,{options:o.extend({},o.ui.autocomplete.prototype.options,{matcher:"(\\b[^,]*)",suffix:""}),_create:function(){return this.overriden={select:this.options.select,focus:this.options.focus},this.options.select=o.proxy(this.selectCallback,this),this.options.focus=o.proxy(this.focusCallback,this),o.ui.autocomplete.prototype._create.call(this),this.matcher=new RegExp(this.options.matcher+"$")},selectCallback:function(e,t){var i,s,n,o;return o=this._value(),s=o.substring(0,this.start),i=o.substring(this.end),n=t.item.value+this.options.suffix,o=s+n+i,this._value(o),c.set(this.element,s.length+n.length),this.overriden.select&&(t.item.pos=this.start,this.overriden.select(e,t)),!1},focusCallback:function(){return!!this.overriden.focus&&this.overriden.focus(event,ui)},search:function(e,t){var i,s;if(!e){if(e=this._value(),s=c.get(this.element).start,e=e.substring(0,s),i=this.matcher.exec(e),!i)return"";this.start=i.index,this.end=i.index+i[0].length,this.searchTerm=i[1]}return o.ui.autocomplete.prototype.search.call(this,this.searchTerm,t)},_renderItem:function(e,t){var i,s,n;return s=o("<li>"),i=o("<a>").appendTo(s),t.image&&i.append('<img src="'+t.image+'" />'),n=new RegExp("("+p(this.searchTerm)+")","gi"),display_name=t.display_name.replace(n,"<strong>$&</strong>"),company_name=t.company_name,tag_all_user="00000000-0000-0000-0000-000000000000"==t.user_id?'<div class="tag-comment-all"></div>':"",i.append(tag_all_user+display_name+"<span>"+t.user_status+"</span><p>"+company_name+"</p>"),e.addClass("user-tagging-ul"),s.appendTo(e)}}),o.widget("ui.editablecomplete",o.ui.areacomplete,{options:o.extend({},o.ui.areacomplete.prototype.options,{showAtCaret:!1}),selectCallback:function(e,t){var i,s;return s={start:this.start,end:this.end},(!this.overriden.select||(t.item.pos=s,this.overriden.select(e,t)!==!1))&&(i=document.createTextNode(t.item.value),insertMention(i,s,this.options.suffix),this.element.change(),!1)},search:function(e,t){var i,s,n,a;if(!e){if(a=window.getSelection(),s=a.focusNode,e=s.textContent,n=a.focusOffset,e=e.substring(0,n),i=this.matcher.exec(e),search_text_length=s.textContent.length-1,("@"==s.textContent||"@"==s.textContent[search_text_length]&&" "==s.textContent[search_text_length-1]||"@"==o("div[contenteditable=true]:focus").text().trim())&&(i=this.matcher.exec(e+" ")),!i||this.start>0&&!(e.indexOf(" @")>=0))return"";this.start=i.index,this.end=i.index+i[0].length,this._setDropdownPosition(s),this.searchTerm=i[1]}return o.ui.autocomplete.prototype.search.call(this,this.searchTerm,t)},_setDropdownPosition:function(e){var t,i,s,n;if(this.options.showAtCaret)return t=document.createRange(),t.setStart(e,this.start),t.collapse(!0),n=t.getClientRects()[0],i=n.left+(window.scrollX||window.pageXOffset),s=n.top+n.height+(window.scrollY||window.pageYOffset),this.options.position.of=document,this.options.position.at="left+"+i+" top+"+s}}),a=function(){function e(e,t){this.input=e,this.options=o.extend({},this.settings,t),this.options.source||(this.options.source=this.input.data("source")||[])}return e.prototype.marker="​",e.prototype._getMatcher=function(){var e;return e="[^"+this.options.trigger+"]","["+this.options.trigger+"]("+e+"{0,20})"},e.prototype._markupMention=function(e){return"@["+e.name+"]("+e.uid+")"},e}(),l=function(t){function i(e,t){var s;this.input=e,this._updateHScroll=f(this._updateHScroll,this),this._updateVScroll=f(this._updateVScroll,this),this._updateValue=f(this._updateValue,this),this._onSelect=f(this._onSelect,this),this._addMention=f(this._addMention,this),this._updateMentions=f(this._updateMentions,this),this._update=f(this._update,this),this.settings={trigger:"@",widget:"areacomplete",suffix:"",autocomplete:{autoFocus:!0,delay:0}},i.__super__.constructor.call(this,this.input,t),this.mentions=[],this.input.addClass("input"),s=o("<div>",{"class":"mentions-input"}),s.css("display",this.input.css("display")),this.container=this.input.wrapAll(s).parent(),this.hidden=this._createHidden(),this.highlighter=this._createHighlighter(),this.highlighterContent=o("div",this.highlighter),this.input.focus(function(e){return function(){return e.highlighter.addClass("focus")}}(this)).blur(function(e){return function(){return e.highlighter.removeClass("focus")}}(this)),t=o.extend({matcher:this._getMatcher(),select:this._onSelect,suffix:this.options.suffix,source:this.options.source,appendTo:this.input.parent()},this.options.autocomplete),this.autocomplete=this.input[this.options.widget](t),this._setValue(this.input.val()),this._initEvents()}var s;return m(i,t),s=["backgroundColor","marginTop","marginBottom","marginLeft","marginRight","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderLeftWidth","borderBottomWidth","borderRightWidth","fontSize","fontStyle","fontFamily","fontWeight","lineHeight","height","boxSizing"],i.prototype._initEvents=function(){var e;return this.input.on("input."+h+" change."+h,this._update),e=this.input.prop("tagName"),"INPUT"===e?(this.input.on("focus."+h,function(e){return function(){return e.interval=setInterval(e._updateHScroll,10)}}(this)),this.input.on("blur."+h,function(e){return function(){return setTimeout(e._updateHScroll,10),clearInterval(e.interval)}}(this))):"TEXTAREA"===e?(this.input.on("scroll."+h,function(e){return function(){return setTimeout(e._updateVScroll,10)}}(this)),this.input.on("resize."+h,function(e){return function(){return setTimeout(e._updateVScroll,10)}}(this))):void 0},i.prototype._setValue=function(e){var t,i,s;for(s=0,i=/@\[([^\]]+)\]\(([^ \)]+)\)/g,this.value=e.replace(i,"$1"),this.input.val(this.value),t=i.exec(e);t;)this._addMention({name:t[1],uid:t[2],pos:t.index-s}),s+=t[2].length+5,t=i.exec(e);return this._updateValue()},i.prototype._createHidden=function(){var e;return e=o("<input>",{type:"hidden",name:this.input.attr("name")}),o.each(this.input.data(),function(t,i){return e.attr("data-"+t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),JSON.stringify(i))}),this.input.removeData(),e.appendTo(this.container),this.input.removeAttr("name"),e},i.prototype._createHighlighter=function(){var e,t,i,n,a;for(t=o("<div>",{"class":"highlighter"}),"INPUT"===this.input.prop("tagName")?t.css("whiteSpace","pre"):(t.css("whiteSpace","pre-wrap"),t.css("wordWrap","break-word")),e=o("<div>",{"class":"highlighter-content"}),t.append(e).prependTo(this.container),i=0,n=s.length;i<n;i++)a=s[i],t.css(a,this.input.css(a));return this.input.css("backgroundColor","transparent"),t},i.prototype._update=function(){return this._updateMentions(),this._updateValue()},i.prototype._updateMentions=function(){var t,i,s,n,o,a,r,l,c,d,u,p;for(p=this.input.val(),s=e(this.value,p),u=function(e){return function(t,i){var s,n,o,a,r;for(a=e.mentions,r=[],s=0,n=a.length;s<n;s++)o=a[s],o.pos>=t?r.push(o.pos+=i):r.push(void 0);return r}}(this),i=0,o=0,r=s.length;o<r;o++)t=s[o],t.added?u(i,t.count):t.removed&&u(i,-t.count),t.removed||(i+=t.count);for(d=this.mentions.slice(0),n=a=d.length-1;a>=0;n=a+=-1)l=d[n],c=p.substring(l.pos,l.pos+l.name.length),l.name!==c&&this.mentions.splice(n,1);return this.value=p},i.prototype._addMention=function(e){return this.mentions.push(e),this.mentions.sort(function(e,t){return e.pos-t.pos})},i.prototype._onSelect=function(e,t){return this._updateMentions(),this._addMention({name:t.item.value,pos:t.item.pos,uid:t.item.uid}),this._updateValue()},i.prototype._updateValue=function(){var e,t,i,s,n,o,a,r,l;for(l=this.input.val(),i=[],t=[],e=0,r=this.mentions,s=0,n=r.length;s<n;s++)o=r[s],a=l.substring(e,o.pos),i.push(u(a)),t.push(a),i.push("<strong>"+o.name+"</strong>"),t.push(this._markupMention(o)),e=o.pos+o.name.length;return a=l.substring(e),this.highlighterContent.html(i.join("")+u(a)),this.hidden.val(t.join("")+a)},i.prototype._updateVScroll=function(){var e;return e=this.input.scrollTop(),this.highlighterContent.css({top:"-"+e+"px"}),this.highlighter.height(this.input.height())},i.prototype._updateHScroll=function(){var e;return e=this.input.scrollLeft(),this.highlighterContent.css({left:"-"+e+"px"})},i.prototype._replaceWithSpaces=function(e,t){return e.replace(t,Array(t.length).join(" "))},i.prototype._cutChar=function(e,t){return e.substring(0,t)+e.substring(t+1)},i.prototype.setValue=function(){var e,t,i,s,n;for(s=1<=arguments.length?g.call(arguments,0):[],n="",e=0,t=s.length;e<t;e++)i=s[e],n+="string"==typeof i?i:this._markupMention(i);return this._setValue(n)},i.prototype.getValue=function(){return this.hidden.val()},i.prototype.getRawValue=function(){return this.input.val().replace(this.marker,"")},i.prototype.getMentions=function(){return this.mentions},i.prototype.clear=function(){return this.input.val(""),this._update()},i.prototype.destroy=function(){return this.input.areacomplete("destroy"),this.input.off("."+h).attr("name",this.hidden.attr("name")),this.container.replaceWith(this.input)},i}(a),r=function(e){function t(e,i){this.input=e,this._onSelect=f(this._onSelect,this),this._addMention=f(this._addMention,this),this.settings={trigger:"@",widget:"editablecomplete",autocomplete:{autoFocus:!0,delay:0}},t.__super__.constructor.call(this,this.input,i),i=o.extend({matcher:this._getMatcher(),suffix:this.marker,select:this._onSelect,source:this.options.source,showAtCaret:this.options.showAtCaret},this.options.autocomplete),this.autocomplete=this.input[this.options.widget](i),this._setValue(this.input.html()),this._initEvents()}var i,s;return m(t,e),t.prototype.selector="[data-mention]",s=function(e){return'<a style="text-decoration:none; color:#0D47A1" href="#!" onclick="liked_info(this);" data-id='+e.user_id+'><span class="user_tag_link">'+e.value+"</span></a>"},i=function(e,t,i){var s,n,a;a=window.getSelection(),s=a.focusNode,n=a.getRangeAt(0),n.setStart(s,t.start);var r=t.end-s.length;return 1==r?n.setEnd(s,s.length==t.end?t.end:t.end-1):n.setEnd(s,s.length==t.end?t.end:t.end),n.deleteContents(),n.insertNode(e),i?(i=document.createTextNode(i),o(i).insertAfter(e),n.setStartAfter(i)):n.setStartAfter(e),n.collapse(!0),a.removeAllRanges(),a.addRange(n),e},t.prototype._initEvents=function(){return this.input.find(this.selector).each(function(e){return function(t,i){return e._watch(i)}}(this))},t.prototype._setValue=function(e){var t;return t=/@\[([^\]]+)\]\(([^ \)]+)\)/g,e=e.replace(t,function(e){return function(t,i,n){return s({value:i,uid:n})+e.marker}}(this)),this.input.html(e)},t.prototype._addMention=function(e){var t,n;return n=o(s(e))[0],t=i(n,e.pos,this.marker),this._watch(t)},t.prototype._onSelect=function(e,t){return this._addMention(t.item),this.input.trigger("change."+h),!1},t.prototype._watch=function(e){return e.addEventListener("DOMCharacterDataModified",function(t){if(t.newValue!==t.prevValue)return o(e).remove()})},t.prototype.update=function(){return this._initValue(),this._initEvents(),this.input.focus()},t.prototype.editReady=function(e){var t=this;o(e).find("a").each(function(){t._watch(this)})},t.prototype.setValue=function(){var e,t,i,s,n;for(s=1<=arguments.length?g.call(arguments,0):[],n="",e=0,t=s.length;e<t;e++)i=s[e],n+="string"==typeof i?i:this._markupMention(i);return this._setValue(n),this._initEvents(),this.input.focus()},t.prototype.getValue=function(){var e,t;return t=this.input.clone(),e=this._markupMention,o(this.selector,t).replaceWith(function(){var t,i;return i=o(this).data("mention"),t=o(this).text(),e({name:t,uid:i})}),t.html().replace(this.marker,"")},t.prototype.getMentions=function(){var e;return e=[],o(this.selector,this.input).each(function(){return e.push({uid:o(this).data("mention"),name:o(this).text()})}),e},t.prototype.clear=function(){return this.input.html("")},t.prototype.destroy=function(){return this.input.editablecomplete("destroy"),this.input.off("."+h),this.input.html(this.getValue())},t}(a),o.fn[h]=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?g.call(arguments,1):[],i=this,this.each(function(){var s,n;if("string"==typeof t&&"_"!==t.charAt(0)){if(s=o(this).data("mentionsInput"),t in s)return i=s[t].apply(s,e)}else{if("INPUT"===(n=this.tagName)||"TEXTAREA"===n)return o(this).data("mentionsInput",new l(o(this),t));if("true"===this.contentEditable)return o(this).data("mentionsInput",new r(o(this),t))}}),i}}.call(this),$(document).on("click",".full_screen_toggle",function(){$(this).closest(".modal-dialog").toggleClass("full-width-doc"),$(this).find("i").toggleClass("fa-expand fa-compress")});var comment_post_id;$(document).on("click","div.comment-area:not(.edit-comment-area)",function(){comment_post_id!=$(this).attr("data-postid")&&(comment_post_id=$(this).attr("data-postid"),mentionsComment($(this),comment_post_id))}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(e){function t(s){if(i[s])return i[s].exports;var n=i[s]={exports:{},id:s,loaded:!1};return e[s].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function s(){var e=g();return e.compile=function(t,i){return d.compile(t,i,e)},e.precompile=function(t,i){return d.precompile(t,i,e)},e.AST=l["default"],e.Compiler=d.Compiler,e.JavaScriptCompiler=p["default"],e.Parser=c.parser,e.parse=c.parse,e}var n=i(1)["default"];t.__esModule=!0;var o=i(2),a=n(o),r=i(35),l=n(r),c=i(36),d=i(41),u=i(42),p=n(u),h=i(39),f=n(h),m=i(34),_=n(m),g=a["default"].create,v=s();v.create=s,_["default"](v),v.Visitor=f["default"],v["default"]=v,t["default"]=v,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t,i){"use strict";function s(){var e=new r.HandlebarsEnvironment;return h.extend(e,r),e.SafeString=c["default"],e.Exception=u["default"],e.Utils=h,e.escapeExpression=h.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}var n=i(3)["default"],o=i(1)["default"];t.__esModule=!0;var a=i(4),r=n(a),l=i(21),c=o(l),d=i(6),u=o(d),p=i(5),h=n(p),f=i(22),m=n(f),_=i(34),g=o(_),v=s();v.create=s,g["default"](v),v["default"]=v,t["default"]=v,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t},t.__esModule=!0},function(e,t,i){"use strict";function s(e,t,i){this.helpers=e||{},this.partials=t||{},this.decorators=i||{},l.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}var n=i(1)["default"];t.__esModule=!0,t.HandlebarsEnvironment=s;var o=i(5),a=i(6),r=n(a),l=i(10),c=i(18),d=i(20),u=n(d),p="4.0.11";t.VERSION=p;var h=7;t.COMPILER_REVISION=h;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=f;var m="[object Object]";s.prototype={constructor:s,logger:u["default"],log:u["default"].log,registerHelper:function(e,t){if(o.toString.call(e)===m){if(t)throw new r["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(o.toString.call(e)===m)o.extend(this.partials,e);else{if("undefined"==typeof t)throw new r["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(o.toString.call(e)===m){if(t)throw new r["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var _=u["default"].log;t.log=_,t.createFrame=o.createFrame,t.logger=u["default"]},function(e,t){"use strict";function i(e){return d[e]}function s(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],i)&&(e[i]=arguments[t][i]);return e}function n(e,t){for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1}function o(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return p.test(e)?e.replace(u,i):e}function a(e){return!e&&0!==e||!(!m(e)||0!==e.length)}function r(e){var t=s({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=s,t.indexOf=n,t.escapeExpression=o,t.isEmpty=a,t.createFrame=r,t.blockParams=l,t.appendContextPath=c;var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},u=/[&<>"'`=]/g,p=/[&<>"'`=]/,h=Object.prototype.toString;t.toString=h;var f=function(e){return"function"==typeof e};f(/x/)&&(t.isFunction=f=function(e){return"function"==typeof e&&"[object Function]"===h.call(e)}),t.isFunction=f;var m=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===h.call(e)};t.isArray=m},function(e,t,i){"use strict";function s(e,t){var i=t&&t.loc,a=void 0,r=void 0;i&&(a=i.start.line,r=i.start.column,e+=" - "+a+":"+r);for(var l=Error.prototype.constructor.call(this,e),c=0;c<o.length;c++)this[o[c]]=l[o[c]];Error.captureStackTrace&&Error.captureStackTrace(this,s);try{i&&(this.lineNumber=a,n?Object.defineProperty(this,"column",{value:r,enumerable:!0}):this.column=r)}catch(d){}}var n=i(7)["default"];t.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];s.prototype=new Error,t["default"]=s,e.exports=t["default"]},function(e,t,i){e.exports={"default":i(8),__esModule:!0}},function(e,t,i){var s=i(9);e.exports=function(e,t,i){return s.setDesc(e,t,i)}},function(e,t){var i=Object;e.exports={create:i.create,getProto:i.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:i.getOwnPropertyDescriptor,setDesc:i.defineProperty,setDescs:i.defineProperties,getKeys:i.keys,getNames:i.getOwnPropertyNames,getSymbols:i.getOwnPropertySymbols,each:[].forEach}},function(e,t,i){"use strict";function s(e){a["default"](e),l["default"](e),d["default"](e),p["default"](e),f["default"](e),_["default"](e),v["default"](e)}var n=i(1)["default"];t.__esModule=!0,t.registerDefaultHelpers=s;var o=i(11),a=n(o),r=i(12),l=n(r),c=i(13),d=n(c),u=i(14),p=n(u),h=i(15),f=n(h),m=i(16),_=n(m),g=i(17),v=n(g)},function(e,t,i){"use strict";t.__esModule=!0;var s=i(5);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,i){var n=i.inverse,o=i.fn;if(t===!0)return o(this);if(t===!1||null==t)return n(this);if(s.isArray(t))return t.length>0?(i.ids&&(i.ids=[i.name]),e.helpers.each(t,i)):n(this);if(i.data&&i.ids){var a=s.createFrame(i.data);a.contextPath=s.appendContextPath(i.data.contextPath,i.name),i={data:a}}return o(t,i)})},e.exports=t["default"]},function(e,t,i){"use strict";var s=i(1)["default"];t.__esModule=!0;var n=i(5),o=i(6),a=s(o);t["default"]=function(e){e.registerHelper("each",function(e,t){function i(t,i,o){c&&(c.key=t,c.index=i,c.first=0===i,c.last=!!o,d&&(c.contextPath=d+t)),l+=s(e[t],{data:c,blockParams:n.blockParams([e[t],t],[d+t,null])})}if(!t)throw new a["default"]("Must pass iterator to #each");var s=t.fn,o=t.inverse,r=0,l="",c=void 0,d=void 0;if(t.data&&t.ids&&(d=n.appendContextPath(t.data.contextPath,t.ids[0])+"."),n.isFunction(e)&&(e=e.call(this)),t.data&&(c=n.createFrame(t.data)),e&&"object"==typeof e)if(n.isArray(e))for(var u=e.length;r<u;r++)r in e&&i(r,r,r===e.length-1);else{var p=void 0;for(var h in e)e.hasOwnProperty(h)&&(void 0!==p&&i(p,r-1),p=h,r++);void 0!==p&&i(p,r-1,!0)}return 0===r&&(l=o(this)),l})},e.exports=t["default"]},function(e,t,i){"use strict";var s=i(1)["default"];t.__esModule=!0;var n=i(6),o=s(n);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},function(e,t,i){"use strict";t.__esModule=!0;var s=i(5);t["default"]=function(e){e.registerHelper("if",function(e,t){return s.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||s.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],i=arguments[arguments.length-1],s=0;s<arguments.length-1;s++)t.push(arguments[s]);var n=1;null!=i.hash.level?n=i.hash.level:i.data&&null!=i.data.level&&(n=i.data.level),t[0]=n,e.log.apply(e,t)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,i){"use strict";t.__esModule=!0;var s=i(5);t["default"]=function(e){e.registerHelper("with",function(e,t){s.isFunction(e)&&(e=e.call(this));var i=t.fn;if(s.isEmpty(e))return t.inverse(this);var n=t.data;return t.data&&t.ids&&(n=s.createFrame(t.data),n.contextPath=s.appendContextPath(t.data.contextPath,t.ids[0])),i(e,{data:n,blockParams:s.blockParams([e],[n&&n.contextPath])})})},e.exports=t["default"]},function(e,t,i){"use strict";function s(e){a["default"](e)}var n=i(1)["default"];t.__esModule=!0,t.registerDefaultDecorators=s;var o=i(19),a=n(o)},function(e,t,i){"use strict";t.__esModule=!0;var s=i(5);t["default"]=function(e){e.registerDecorator("inline",function(e,t,i,n){var o=e;return t.partials||(t.partials={},o=function(n,o){var a=i.partials;i.partials=s.extend({},a,t.partials);var r=e(n,o);return i.partials=a,r}),t.partials[n.args[0]]=n.fn,o})},e.exports=t["default"]},function(e,t,i){"use strict";t.__esModule=!0;var s=i(5),n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=s.indexOf(n.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=n.lookupLevel(e),"undefined"!=typeof console&&n.lookupLevel(n.level)<=e){var t=n.methodMap[e];console[t]||(t="log");for(var i=arguments.length,s=Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];console[t].apply(console,s)}}};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function i(e){this.string=e}t.__esModule=!0,
i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},t["default"]=i,e.exports=t["default"]},function(e,t,i){"use strict";function s(e){var t=e&&e[0]||1,i=v.COMPILER_REVISION;if(t!==i){if(t<i){var s=v.REVISION_CHANGES[i],n=v.REVISION_CHANGES[t];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+s+") or downgrade your runtime to an older version ("+n+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function n(e,t){function i(i,s,n){n.hash&&(s=m.extend({},s,n.hash),n.ids&&(n.ids[0]=!0)),i=t.VM.resolvePartial.call(this,i,s,n);var o=t.VM.invokePartial.call(this,i,s,n);if(null==o&&t.compile&&(n.partials[n.name]=t.compile(i,e.compilerOptions,t),o=n.partials[n.name](s,n)),null!=o){if(n.indent){for(var a=o.split("\n"),r=0,l=a.length;r<l&&(a[r]||r+1!==l);r++)a[r]=n.indent+a[r];o=a.join("\n")}return o}throw new g["default"]("The partial "+n.name+" could not be compiled when running in runtime-only mode")}function s(t){function i(t){return""+e.main(n,t,n.helpers,n.partials,a,l,r)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o.data;s._setup(o),!o.partial&&e.useData&&(a=c(t,a));var r=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(r=o.depths?t!=o.depths[0]?[t].concat(o.depths):o.depths:[t]),(i=d(e.main,i,n,o.depths||[],a,l))(t,o)}if(!t)throw new g["default"]("No environment passed to template");if(!e||!e.main)throw new g["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n={strict:function(e,t){if(!(t in e))throw new g["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var i=e.length,s=0;s<i;s++)if(e[s]&&null!=e[s][t])return e[s][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:m.escapeExpression,invokePartial:i,fn:function(t){var i=e[t];return i.decorator=e[t+"_d"],i},programs:[],program:function(e,t,i,s,n){var a=this.programs[e],r=this.fn(e);return t||n||s||i?a=o(this,e,r,t,i,s,n):a||(a=this.programs[e]=o(this,e,r)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var i=e||t;return e&&t&&e!==t&&(i=m.extend({},t,e)),i},nullContext:u({}),noop:t.VM.noop,compilerInfo:e.compiler};return s.isTop=!0,s._setup=function(i){i.partial?(n.helpers=i.helpers,n.partials=i.partials,n.decorators=i.decorators):(n.helpers=n.merge(i.helpers,t.helpers),e.usePartial&&(n.partials=n.merge(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(n.decorators=n.merge(i.decorators,t.decorators)))},s._child=function(t,i,s,a){if(e.useBlockParams&&!s)throw new g["default"]("must pass block params");if(e.useDepths&&!a)throw new g["default"]("must pass parent depths");return o(n,t,e[t],i,0,s,a)},s}function o(e,t,i,s,n,o,a){function r(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=a;return!a||t==a[0]||t===e.nullContext&&null===a[0]||(r=[t].concat(a)),i(e,t,e.helpers,e.partials,n.data||s,o&&[n.blockParams].concat(o),r)}return r=d(i,r,e,a,s,o),r.program=t,r.depth=a?a.length:0,r.blockParams=n||0,r}function a(e,t,i){return e?e.call||i.name||(i.name=e,e=i.partials[e]):e="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],e}function r(e,t,i){var s=i.data&&i.data["partial-block"];i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;if(i.fn&&i.fn!==l&&!function(){i.data=v.createFrame(i.data);var e=i.fn;n=i.data["partial-block"]=function(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return i.data=v.createFrame(i.data),i.data["partial-block"]=s,e(t,i)},e.partials&&(i.partials=m.extend({},i.partials,e.partials))}(),void 0===e&&n&&(e=n),void 0===e)throw new g["default"]("The partial "+i.name+" could not be found");if(e instanceof Function)return e(t,i)}function l(){return""}function c(e,t){return t&&"root"in t||(t=t?v.createFrame(t):{},t.root=e),t}function d(e,t,i,s,n,o){if(e.decorator){var a={};t=e.decorator(t,a,i,s&&s[0],n,o,s),m.extend(t,a)}return t}var u=i(23)["default"],p=i(3)["default"],h=i(1)["default"];t.__esModule=!0,t.checkRevision=s,t.template=n,t.wrapProgram=o,t.resolvePartial=a,t.invokePartial=r,t.noop=l;var f=i(5),m=p(f),_=i(6),g=h(_),v=i(4)},function(e,t,i){e.exports={"default":i(24),__esModule:!0}},function(e,t,i){i(25),e.exports=i(30).Object.seal},function(e,t,i){var s=i(26);i(27)("seal",function(e){return function(t){return e&&s(t)?e(t):t}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){var s=i(28),n=i(30),o=i(33);e.exports=function(e,t){var i=(n.Object||{})[e]||Object[e],a={};a[e]=t(i),s(s.S+s.F*o(function(){i(1)}),"Object",a)}},function(e,t,i){var s=i(29),n=i(30),o=i(31),a="prototype",r=function(e,t,i){var l,c,d,u=e&r.F,p=e&r.G,h=e&r.S,f=e&r.P,m=e&r.B,_=e&r.W,g=p?n:n[t]||(n[t]={}),v=p?s:h?s[t]:(s[t]||{})[a];p&&(i=t);for(l in i)c=!u&&v&&l in v,c&&l in g||(d=c?v[l]:i[l],g[l]=p&&"function"!=typeof v[l]?i[l]:m&&c?o(d,s):_&&v[l]==d?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(d):f&&"function"==typeof d?o(Function.call,d):d,f&&((g[a]||(g[a]={}))[l]=d))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,e.exports=r},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t){var i=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=i)},function(e,t,i){var s=i(32);e.exports=function(e,t,i){if(s(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,s){return e.call(t,i,s)};case 3:return function(i,s,n){return e.call(t,i,s,n)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){(function(i){"use strict";t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof i?i:window,s=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=s),e}},e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var i={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!i.helpers.scopedId(e)&&!e.depth}}};t["default"]=i,e.exports=t["default"]},function(e,t,i){"use strict";function s(e,t){if("Program"===e.type)return e;r["default"].yy=h,h.locInfo=function(e){return new h.SourceLocation(t&&t.srcName,e)};var i=new c["default"](t);return i.accept(r["default"].parse(e))}var n=i(1)["default"],o=i(3)["default"];t.__esModule=!0,t.parse=s;var a=i(37),r=n(a),l=i(38),c=n(l),d=i(40),u=o(d),p=i(5);t.parser=r["default"];var h={};p.extend(h,u)},function(e,t){"use strict";t.__esModule=!0;var i=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,i,s,n,o,a){var r=o.length-1;switch(n){case 1:return o[r-1];case 2:this.$=s.prepareProgram(o[r]);break;case 3:this.$=o[r];break;case 4:this.$=o[r];break;case 5:this.$=o[r];break;case 6:this.$=o[r];break;case 7:this.$=o[r];break;case 8:this.$=o[r];break;case 9:this.$={type:"CommentStatement",value:s.stripComment(o[r]),strip:s.stripFlags(o[r],o[r]),loc:s.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[r],value:o[r],loc:s.locInfo(this._$)};break;case 11:this.$=s.prepareRawBlock(o[r-2],o[r-1],o[r],this._$);break;case 12:this.$={path:o[r-3],params:o[r-2],hash:o[r-1]};break;case 13:this.$=s.prepareBlock(o[r-3],o[r-2],o[r-1],o[r],!1,this._$);break;case 14:this.$=s.prepareBlock(o[r-3],o[r-2],o[r-1],o[r],!0,this._$);break;case 15:this.$={open:o[r-5],path:o[r-4],params:o[r-3],hash:o[r-2],blockParams:o[r-1],strip:s.stripFlags(o[r-5],o[r])};break;case 16:this.$={path:o[r-4],params:o[r-3],hash:o[r-2],blockParams:o[r-1],strip:s.stripFlags(o[r-5],o[r])};break;case 17:this.$={path:o[r-4],params:o[r-3],hash:o[r-2],blockParams:o[r-1],strip:s.stripFlags(o[r-5],o[r])};break;case 18:this.$={strip:s.stripFlags(o[r-1],o[r-1]),program:o[r]};break;case 19:var l=s.prepareBlock(o[r-2],o[r-1],o[r],o[r],!1,this._$),c=s.prepareProgram([l],o[r-1].loc);c.chained=!0,this.$={strip:o[r-2].strip,program:c,chain:!0};break;case 20:this.$=o[r];break;case 21:this.$={path:o[r-1],strip:s.stripFlags(o[r-2],o[r])};break;case 22:this.$=s.prepareMustache(o[r-3],o[r-2],o[r-1],o[r-4],s.stripFlags(o[r-4],o[r]),this._$);break;case 23:this.$=s.prepareMustache(o[r-3],o[r-2],o[r-1],o[r-4],s.stripFlags(o[r-4],o[r]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[r-3],params:o[r-2],hash:o[r-1],indent:"",strip:s.stripFlags(o[r-4],o[r]),loc:s.locInfo(this._$)};break;case 25:this.$=s.preparePartialBlock(o[r-2],o[r-1],o[r],this._$);break;case 26:this.$={path:o[r-3],params:o[r-2],hash:o[r-1],strip:s.stripFlags(o[r-4],o[r])};break;case 27:this.$=o[r];break;case 28:this.$=o[r];break;case 29:this.$={type:"SubExpression",path:o[r-3],params:o[r-2],hash:o[r-1],loc:s.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[r],loc:s.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:s.id(o[r-2]),value:o[r],loc:s.locInfo(this._$)};break;case 32:this.$=s.id(o[r-1]);break;case 33:this.$=o[r];break;case 34:this.$=o[r];break;case 35:this.$={type:"StringLiteral",value:o[r],original:o[r],loc:s.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[r]),original:Number(o[r]),loc:s.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[r],original:"true"===o[r],loc:s.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:s.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:s.locInfo(this._$)};break;case 40:this.$=o[r];break;case 41:this.$=o[r];break;case 42:this.$=s.preparePath(!0,o[r],this._$);break;case 43:this.$=s.preparePath(!1,o[r],this._$);break;case 44:o[r-2].push({part:s.id(o[r]),original:o[r],separator:o[r-1]}),this.$=o[r-2];break;case 45:this.$=[{part:s.id(o[r]),original:o[r]}];break;case 46:this.$=[];break;case 47:o[r-1].push(o[r]);break;case 48:this.$=[o[r]];break;case 49:o[r-1].push(o[r]);break;case 50:this.$=[];break;case 51:o[r-1].push(o[r]);break;case 58:this.$=[];break;case 59:o[r-1].push(o[r]);break;case 64:this.$=[];break;case 65:o[r-1].push(o[r]);break;case 70:this.$=[];break;case 71:o[r-1].push(o[r]);break;case 78:this.$=[];break;case 79:o[r-1].push(o[r]);break;case 82:this.$=[];break;case 83:o[r-1].push(o[r]);break;case 86:this.$=[];break;case 87:o[r-1].push(o[r]);break;case 90:this.$=[];break;case 91:o[r-1].push(o[r]);break;case 94:this.$=[];break;case 95:o[r-1].push(o[r]);break;case 98:this.$=[o[r]];break;case 99:o[r-1].push(o[r]);break;case 100:this.$=[o[r]];break;case 101:o[r-1].push(o[r])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=i.lexer.lex()||1,"number"!=typeof e&&(e=i.symbols_[e]||e),e}var i=this,s=[0],n=[null],o=[],a=this.table,r="",l=0,c=0,d=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;o.push(u);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,f,m,_,g,v,b,$,y,w={};;){if(m=s[s.length-1],this.defaultActions[m]?_=this.defaultActions[m]:(null!==h&&"undefined"!=typeof h||(h=t()),_=a[m]&&a[m][h]),"undefined"==typeof _||!_.length||!_[0]){var k="";if(!d){y=[];for(v in a[m])this.terminals_[v]&&v>2&&y.push("'"+this.terminals_[v]+"'");k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+y.join(", ")+", got '"+(this.terminals_[h]||h)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:u,expected:y})}}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+h);switch(_[0]){case 1:s.push(h),n.push(this.lexer.yytext),o.push(this.lexer.yylloc),s.push(_[1]),h=null,f?(h=f,f=null):(c=this.lexer.yyleng,r=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,d>0&&d--);break;case 2:if(b=this.productions_[_[1]][1],w.$=n[n.length-b],w._$={first_line:o[o.length-(b||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(b||1)].first_column,last_column:o[o.length-1].last_column},p&&(w._$.range=[o[o.length-(b||1)].range[0],o[o.length-1].range[1]]),g=this.performAction.call(w,r,c,l,this.yy,_[1],n,o),"undefined"!=typeof g)return g;b&&(s=s.slice(0,-1*b*2),n=n.slice(0,-1*b),o=o.slice(0,-1*b)),s.push(this.productions_[_[1]][0]),n.push(w.$),o.push(w._$),$=a[s[s.length-2]][s[s.length-1]],s.push($);break;case 3:return!0}}return!0}},i=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var s=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===s.length?this.yylloc.first_column:0)+s[s.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,i,s,n;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(i=this._input.match(this.rules[o[a]]),!i||t&&!(i[0].length>t[0].length)||(t=i,s=a,this.options.flex));a++);return t?(n=t[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[s],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,i,s){function n(e,i){return t.yytext=t.yytext.substr(e,t.yyleng-i)}switch(i){case 0:if("\\\\"===t.yytext.slice(-2)?(n(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(n(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(t.yytext=t.yytext.substr(5,t.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:
return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=n(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=n(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},e}();return t.lexer=i,e.prototype=t,t.Parser=e,new e}();t["default"]=i,e.exports=t["default"]},function(e,t,i){"use strict";function s(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function n(e,t,i){void 0===t&&(t=e.length);var s=e[t-1],n=e[t-2];return s?"ContentStatement"===s.type?(n||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(s.original):void 0:i}function o(e,t,i){void 0===t&&(t=-1);var s=e[t+1],n=e[t+2];return s?"ContentStatement"===s.type?(n||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(s.original):void 0:i}function a(e,t,i){var s=e[null==t?0:t+1];if(s&&"ContentStatement"===s.type&&(i||!s.rightStripped)){var n=s.value;s.value=s.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),s.rightStripped=s.value!==n}}function r(e,t,i){var s=e[null==t?e.length-1:t-1];if(s&&"ContentStatement"===s.type&&(i||!s.leftStripped)){var n=s.value;return s.value=s.value.replace(i?/\s+$/:/[ \t]+$/,""),s.leftStripped=s.value!==n,s.leftStripped}}var l=i(1)["default"];t.__esModule=!0;var c=i(39),d=l(c);s.prototype=new d["default"],s.prototype.Program=function(e){var t=!this.options.ignoreStandalone,i=!this.isRootSeen;this.isRootSeen=!0;for(var s=e.body,l=0,c=s.length;l<c;l++){var d=s[l],u=this.accept(d);if(u){var p=n(s,l,i),h=o(s,l,i),f=u.openStandalone&&p,m=u.closeStandalone&&h,_=u.inlineStandalone&&p&&h;u.close&&a(s,l,!0),u.open&&r(s,l,!0),t&&_&&(a(s,l),r(s,l)&&"PartialStatement"===d.type&&(d.indent=/([ \t]+$)/.exec(s[l-1].original)[1])),t&&f&&(a((d.program||d.inverse).body),r(s,l)),t&&m&&(a(s,l),r((d.inverse||d.program).body))}}return e},s.prototype.BlockStatement=s.prototype.DecoratorBlock=s.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,i=e.program&&e.inverse,s=i,l=i;if(i&&i.chained)for(s=i.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:o(t.body),closeStandalone:n((s||t).body)};if(e.openStrip.close&&a(t.body,null,!0),i){var d=e.inverseStrip;d.open&&r(t.body,null,!0),d.close&&a(s.body,null,!0),e.closeStrip.open&&r(l.body,null,!0),!this.options.ignoreStandalone&&n(t.body)&&o(s.body)&&(r(t.body),a(s.body))}else e.closeStrip.open&&r(t.body,null,!0);return c},s.prototype.Decorator=s.prototype.MustacheStatement=function(e){return e.strip},s.prototype.PartialStatement=s.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t["default"]=s,e.exports=t["default"]},function(e,t,i){"use strict";function s(){this.parents=[]}function n(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function o(e){n.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function a(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var r=i(1)["default"];t.__esModule=!0;var l=i(6),c=r(l);s.prototype={constructor:s,mutating:!1,acceptKey:function(e,t){var i=this.accept(e[t]);if(this.mutating){if(i&&!s.prototype[i.type])throw new c["default"]('Unexpected node type "'+i.type+'" found when accepting '+t+" on "+e.type);e[t]=i}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new c["default"](e.type+" requires "+t)},acceptArray:function(e){for(var t=0,i=e.length;t<i;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,i--)},accept:function(e){if(e){if(!this[e.type])throw new c["default"]("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:t!==!1?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:n,Decorator:n,BlockStatement:o,DecoratorBlock:o,PartialStatement:a,PartialBlockStatement:function(e){a.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:n,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t["default"]=s,e.exports=t["default"]},function(e,t,i){"use strict";function s(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var i={loc:e.path.loc};throw new _["default"](e.path.original+" doesn't match "+t,i)}}function n(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function o(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e}function a(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function r(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function l(e,t,i){i=this.locInfo(i);for(var s=e?"@":"",n=[],o=0,a="",r=0,l=t.length;r<l;r++){var c=t[r].part,d=t[r].original!==c;if(s+=(t[r].separator||"")+c,d||".."!==c&&"."!==c&&"this"!==c)n.push(c);else{if(n.length>0)throw new _["default"]("Invalid path: "+s,{loc:i});".."===c&&(o++,a+="../")}}return{type:"PathExpression",data:e,depth:o,parts:n,original:s,loc:i}}function c(e,t,i,s,n,o){var a=s.charAt(3)||s.charAt(2),r="{"!==a&&"&"!==a,l=/\*/.test(s);return{type:l?"Decorator":"MustacheStatement",path:e,params:t,hash:i,escaped:r,strip:n,loc:this.locInfo(o)}}function d(e,t,i,n){s(e,i),n=this.locInfo(n);var o={type:"Program",body:t,strip:{},loc:n};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:n}}function u(e,t,i,n,o,a){n&&n.path&&s(e,n);var r=/\*/.test(e.open);t.blockParams=e.blockParams;var l=void 0,c=void 0;if(i){if(r)throw new _["default"]("Unexpected inverse block on decorator",i);i.chain&&(i.program.body[0].closeStrip=n.strip),c=i.strip,l=i.program}return o&&(o=l,l=t,t=o),{type:r?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:l,openStrip:e.strip,inverseStrip:c,closeStrip:n&&n.strip,loc:this.locInfo(a)}}function p(e,t){if(!t&&e.length){var i=e[0].loc,s=e[e.length-1].loc;i&&s&&(t={source:i.source,start:{line:i.start.line,column:i.start.column},end:{line:s.end.line,column:s.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function h(e,t,i,n){return s(e,i),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:i&&i.strip,loc:this.locInfo(n)}}var f=i(1)["default"];t.__esModule=!0,t.SourceLocation=n,t.id=o,t.stripFlags=a,t.stripComment=r,t.preparePath=l,t.prepareMustache=c,t.prepareRawBlock=d,t.prepareBlock=u,t.prepareProgram=p,t.preparePartialBlock=h;var m=i(6),_=f(m)},function(e,t,i){"use strict";function s(){}function n(e,t,i){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new d["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var s=i.parse(e,t),n=(new i.Compiler).compile(s,t);return(new i.JavaScriptCompiler).compile(n,t)}function o(e,t,i){function s(){var s=i.parse(e,t),n=(new i.Compiler).compile(s,t),o=(new i.JavaScriptCompiler).compile(n,t,void 0,!0);return i.template(o)}function n(e,t){return o||(o=s()),o.call(this,e,t)}if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new d["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=u.extend({},t),"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var o=void 0;return n._setup=function(e){return o||(o=s()),o._setup(e)},n._child=function(e,t,i,n){return o||(o=s()),o._child(e,t,i,n)},n}function a(e,t){if(e===t)return!0;if(u.isArray(e)&&u.isArray(t)&&e.length===t.length){for(var i=0;i<e.length;i++)if(!a(e[i],t[i]))return!1;return!0}}function r(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var l=i(1)["default"];t.__esModule=!0,t.Compiler=s,t.precompile=n,t.compile=o;var c=i(6),d=l(c),u=i(5),p=i(35),h=l(p),f=[].slice;s.prototype={compiler:s,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var i=0;i<t;i++){var s=this.opcodes[i],n=e.opcodes[i];if(s.opcode!==n.opcode||!a(s.args,n.args))return!1}t=this.children.length;for(var i=0;i<t;i++)if(!this.children[i].equals(e.children[i]))return!1;return!0},guid:0,compile:function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var i=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},i)for(var s in i)s in i&&(this.options.knownHelpers[s]=i[s]);return this.accept(e)},compileProgram:function(e){var t=new this.compiler,i=t.compile(e,this.options),s=this.guid++;return this.usePartial=this.usePartial||i.usePartial,this.children[s]=i,this.useDepths=this.useDepths||i.useDepths,s},accept:function(e){if(!this[e.type])throw new d["default"]("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,i=t.length,s=0;s<i;s++)this.accept(t[s]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){r(e);var t=e.program,i=e.inverse;t=t&&this.compileProgram(t),i=i&&this.compileProgram(i);var s=this.classifySexpr(e);"helper"===s?this.helperSexpr(e,t,i):"simple"===s?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,i),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),i=this.setupFullMustacheParams(e,t,void 0),s=e.path;this.useDecorators=!0,this.opcode("registerDecorator",i.length,s.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var i=e.params;if(i.length>1)throw new d["default"]("Unsupported number of partial arguments: "+i.length,e);i.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):i.push({type:"PathExpression",parts:[],depth:0}));var s=e.name.original,n="SubExpression"===e.name.type;n&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var o=e.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",n,s,o),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){r(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,i){var s=e.path,n=s.parts[0],o=null!=t||null!=i;this.opcode("getContext",s.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",i),s.strict=!0,this.accept(s),this.opcode("invokeAmbiguous",n,o)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,i){var s=this.setupFullMustacheParams(e,t,i),n=e.path,o=n.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",s.length,o);else{if(this.options.knownHelpersOnly)throw new d["default"]("You specified knownHelpersOnly, but used the unknown helper "+o,e);n.strict=!0,n.falsy=!0,this.accept(n),this.opcode("invokeHelper",s.length,n.original,h["default"].helpers.simpleId(n))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],i=h["default"].helpers.scopedId(e),s=!e.depth&&!i&&this.blockParamIndex(t);s?this.opcode("lookupBlockParam",s,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,i):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,i=0,s=t.length;for(this.opcode("pushHash");i<s;i++)this.pushParam(t[i].value);for(;i--;)this.opcode("assignToHash",t[i].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:f.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=h["default"].helpers.simpleId(e.path),i=t&&!!this.blockParamIndex(e.path.parts[0]),s=!i&&h["default"].helpers.helperExpression(e),n=!i&&(s||t);if(n&&!s){var o=e.path.parts[0],a=this.options;a.knownHelpers[o]?s=!0:a.knownHelpersOnly&&(n=!1)}return s?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t=0,i=e.length;t<i;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var i=void 0;if(!e.parts||h["default"].helpers.scopedId(e)||e.depth||(i=this.blockParamIndex(e.parts[0])),i){var s=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,s)}else t=e.original||t,t.replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,i,s){var n=e.params;return this.pushParams(n),this.opcode("pushProgram",t),this.opcode("pushProgram",i),e.hash?this.accept(e.hash):this.opcode("emptyHash",s),n},blockParamIndex:function(e){for(var t=0,i=this.options.blockParams.length;t<i;t++){var s=this.options.blockParams[t],n=s&&u.indexOf(s,e);if(s&&n>=0)return[t,n]}}}},function(e,t,i){"use strict";function s(e){this.value=e}function n(){}function o(e,t,i,s){var n=t.popStack(),o=0,a=i.length;for(e&&a--;o<a;o++)n=t.nameLookup(n,i[o],s);return e?[t.aliasable("container.strict"),"(",n,", ",t.quotedString(i[o]),")"]:n}var a=i(1)["default"];t.__esModule=!0;var r=i(4),l=i(6),c=a(l),d=i(5),u=i(43),p=a(u);n.prototype={nameLookup:function(e,t){return n.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=r.COMPILER_REVISION,t=r.REVISION_CHANGES[e];return[e,t]},appendToBuffer:function(e,t,i){return d.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:i?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(e,t,i,s){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!s,this.name=this.environment.name,this.isChild=!!i,this.context=i||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var n=e.opcodes,o=void 0,a=void 0,r=void 0,l=void 0;for(r=0,l=n.length;r<l;r++)o=n[r],this.source.currentLocation=o.loc,a=a||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new c["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),s?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var d=this.createFunctionContext(s);if(this.isChild)return d;var u={compiler:this.compilerInfo(),main:d};this.decorators&&(u.main_d=this.decorators,u.useDecorators=!0);var p=this.context,h=p.programs,f=p.decorators;for(r=0,l=h.length;r<l;r++)h[r]&&(u[r]=h[r],f[r]&&(u[r+"_d"]=f[r],u.useDecorators=!0));return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.useBlockParams&&(u.useBlockParams=!0),this.options.compat&&(u.compat=!0),s?u.compilerOptions=this.options:(u.compiler=JSON.stringify(u.compiler),this.source.currentLocation={start:{line:1,column:0}},u=this.objectLiteral(u),t.srcName?(u=u.toStringWithSourceMap({file:t.destName}),u.map=u.map&&u.map.toString()):u=u.toString()),u},preamble:function(){this.lastContext=0,this.source=new p["default"](this.options.srcName),this.decorators=new p["default"](this.options.srcName)},createFunctionContext:function(e){var t="",i=this.stackVars.concat(this.registers.list);i.length>0&&(t+=", "+i.join(", "));var s=0;for(var n in this.aliases){var o=this.aliases[n];this.aliases.hasOwnProperty(n)&&o.children&&o.referenceCount>1&&(t+=", alias"+ ++s+"="+n,o.children[0]="alias"+s)}var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var r=this.mergeSource(t);return e?(a.push(r),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",r,"}"])},mergeSource:function(e){var t=this.environment.isSimple,i=!this.forceBuffer,s=void 0,n=void 0,o=void 0,a=void 0;return this.source.each(function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,a=e):(o&&(n?o.prepend("buffer += "):s=!0,a.add(";"),o=a=void 0),n=!0,t||(i=!1))}),i?o?(o.prepend("return "),a.add(";")):n||this.source.push('return "";'):(e+=", buffer = "+(s?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(s?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(e,0,i);var s=this.popStack();i.splice(1,0,s),this.push(this.source.functionCall(t,"call",i))},ambiguousBlockValue:function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var i=this.topStack();t.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,i,s){var n=0;s||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[n++])),this.resolvePath("context",e,n,t,i)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,i){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,i)},resolvePath:function(e,t,i,s,n){var a=this;if(this.options.strict||this.options.assumeObjects)return void this.push(o(this.options.strict&&n,this,t,e));for(var r=t.length;i<r;i++)this.replaceStack(function(n){var o=a.nameLookup(n,t[i],e);return s?[" && ",o]:[" != null ? ",o," : ",n]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var i=this.nameLookup("decorators",t,"decorator"),s=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",s])," || fn;"])},invokeHelper:function(e,t,i){var s=this.popStack(),n=this.setupHelper(e,t),o=i?[n.name," || "]:"",a=["("].concat(o,s);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",n.callParams))},invokeKnownHelper:function(e,t){var i=this.setupHelper(e,t);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var i=this.popStack();this.emptyHash();var s=this.setupHelper(0,e,t),n=this.lastHelper=this.nameLookup("helpers",e,"helper"),o=["(","(helper = ",n," || ",i,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",o,s.paramsInit?["),(",s.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",s.callParams)," : helper))"])},invokePartial:function(e,t,i){var s=[],n=this.setupParams(t,1,s);e&&(t=this.popStack(),delete n.name),i&&(n.indent=JSON.stringify(i)),n.helpers="helpers",n.partials="partials",n.decorators="container.decorators",e?s.unshift(t):s.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(n.depths="depths"),n=this.objectLiteral(n),s.push(n),this.push(this.source.functionCall("container.invokePartial","",s))},assignToHash:function(e){var t=this.popStack(),i=void 0,s=void 0,n=void 0;this.trackIds&&(n=this.popStack()),this.stringParams&&(s=this.popStack(),i=this.popStack());var o=this.hash;i&&(o.contexts[e]=i),s&&(o.types[e]=s),n&&(o.ids[e]=n),o.values[e]=t},pushId:function(e,t,i){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:n,compileChildren:function(e,t){for(var i=e.children,s=void 0,n=void 0,o=0,a=i.length;o<a;o++){s=i[o],n=new this.compiler;var r=this.matchExistingProgram(s);if(null==r){this.context.programs.push("");var l=this.context.programs.length;s.index=l,s.name="program"+l,this.context.programs[l]=n.compile(s,t,this.context,!this.precompile),this.context.decorators[l]=n.decorators,this.context.environments[l]=s,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams,s.useDepths=this.useDepths,s.useBlockParams=this.useBlockParams}else s.index=r.index,s.name="program"+r.index,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams}},matchExistingProgram:function(e){for(var t=0,i=this.context.environments.length;t<i;t++){var s=this.context.environments[t];if(s&&s.equals(e))return s}},programExpression:function(e){var t=this.environment.children[e],i=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths"),"container.program("+i.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof s||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new s(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],i=void 0,n=void 0,o=void 0;if(!this.isInline())throw new c["default"]("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof s)i=[a.value],t=["(",i],o=!0;else{n=!0;var r=this.incrStack();t=["((",this.push(r)," = ",a,")"],i=this.topStack()}var l=e.call(this,i);o||this.popStack(),n&&this.stackSlot--,this.push(t.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,i=e.length;t<i;t++){var n=e[t];if(n instanceof s)this.compileStack.push(n);else{var o=this.incrStack();this.pushSource([o," = ",n,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),i=(t?this.inlineStack:this.compileStack).pop();if(!e&&i instanceof s)return i.value;if(!t){if(!this.stackSlot)throw new c["default"]("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof s?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):(t=this.aliases[e]=this.source.wrap(e),t.aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,i){var s=[],n=this.setupHelperArgs(t,e,s,i),o=this.nameLookup("helpers",t,"helper"),a=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:s,paramsInit:n,name:o,callParams:[a].concat(s)}},setupParams:function(e,t,i){var s={},n=[],o=[],a=[],r=!i,l=void 0;r&&(i=[]),s.name=this.quotedString(e),s.hash=this.popStack(),this.trackIds&&(s.hashIds=this.popStack()),this.stringParams&&(s.hashTypes=this.popStack(),s.hashContexts=this.popStack());var c=this.popStack(),d=this.popStack();(d||c)&&(s.fn=d||"container.noop",s.inverse=c||"container.noop");for(var u=t;u--;)l=this.popStack(),i[u]=l,this.trackIds&&(a[u]=this.popStack()),this.stringParams&&(o[u]=this.popStack(),n[u]=this.popStack());return r&&(s.args=this.source.generateArray(i)),this.trackIds&&(s.ids=this.source.generateArray(a)),this.stringParams&&(s.types=this.source.generateArray(o),s.contexts=this.source.generateArray(n)),this.options.data&&(s.data="data"),this.useBlockParams&&(s.blockParams="blockParams"),s},setupHelperArgs:function(e,t,i,s){var n=this.setupParams(e,t,i);return n=this.objectLiteral(n),s?(this.useRegister("options"),i.push("options"),["options=",n]):i?(i.push(n),""):n}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=n.RESERVED_WORDS={},i=0,s=e.length;i<s;i++)t[e[i]]=!0}(),n.isValidJavaScriptVariableName=function(e){return!n.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t["default"]=n,e.exports=t["default"]},function(e,t,i){"use strict";function s(e,t,i){if(o.isArray(e)){for(var s=[],n=0,a=e.length;n<a;n++)s.push(t.wrap(e[n],i));return s}return"boolean"==typeof e||"number"==typeof e?e+"":e}function n(e){this.srcFile=e,this.source=[]}t.__esModule=!0;var o=i(5),a=void 0;try{}catch(r){}a||(a=function(e,t,i,s){this.src="",s&&this.add(s)},a.prototype={add:function(e){o.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){o.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),n.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,i=this.source.length;t<i;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new a(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof a?e:(e=s(e,this,t),new a(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,i){return i=this.generateList(i),this.wrap([e,t?"."+t+"(":"(",i,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"';
},objectLiteral:function(e){var t=[];for(var i in e)if(e.hasOwnProperty(i)){var n=s(e[i],this);"undefined"!==n&&t.push([this.quotedString(i),":",n])}var o=this.generateList(t);return o.prepend("{"),o.add("}"),o},generateList:function(e){for(var t=this.empty(),i=0,n=e.length;i<n;i++)i&&t.add(","),t.add(s(e[i],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t["default"]=n,e.exports=t["default"]}])}),Handlebars.registerHelper("extention",function(e){return e=e.fn(this).split("."),e.pop()}),Handlebars.registerHelper("extention_icon",function(e){return extension_wise_img(e.fn(this))}),Handlebars.registerHelper("feedSignedUrl",function(e,t,i){return feedSignedUrl(e,t,i)}),Handlebars.registerHelper("endorse",function(e,t,i){if(e.length&&!t.length)return"You";if(e.length&&t.length)return t.length>1?"You, "+endorseUserWrap(t[0].user)+" and "+endorseUsersList(t.slice(1)):"You & "+endorseUserWrap(t[0].user);if(!e.length&&t.length)switch(t.length){case 1:return endorseUserWrap(t[0].user);case 2:return endorseUserWrap(t[0].user)+" & "+endorseUserWrap(t[1].user);case 3:return endorseUserWrap(t[0].user)+", "+endorseUserWrap(t[1].user)+" & "+endorseUserWrap(t[2].user);default:return endorseUserWrap(t[0].user)+", "+endorseUserWrap(t[1].user)+" & "+endorseUsersList(t.slice(2))}}),Handlebars.registerHelper("counter",function(e){return e+1}),Handlebars.registerHelper("compareValue",function(e,t){if(!e)return t.inverse(this);var i=e.match("youtube.com");return i?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("checkPostVisibility",function(e,t){var i=e.split(","),s=i.indexOf("All");return s!=-1?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("addLink",function(e,t,i){var s=linkify(e);if(t){var n=htmlSubstring(s,t);return n.replace(/(<br( \/)?>\s*)*$/,"")}return s}),Handlebars.registerHelper("dateFormat",function(e,t,i){return stringDateFormat(e,t)}),Handlebars.registerHelper("postDescriptionTextCheck",function(e,t,i){return e.length>t?i.fn(this):i.inverse(this)}),Handlebars.registerHelper("limitText",function(e,t,i){return limitText(e,t)}),Handlebars.registerHelper("isSingleImage",function(e,t){return!(e.length>1)&&"single-image"}),Handlebars.registerHelper("indexInfo",function(e,t,i){return e[t]}),Handlebars.registerHelper("compare",function(e,t,i){return e===t?i.fn(this):i.inverse(this)}),Handlebars.registerHelper("count",function(e,t,i){return e>t?i.fn(this):i.inverse(this)}),Handlebars.registerHelper("ifCond",function(e,t,i,s){switch(t){case"==":return e==i?s.fn(this):s.inverse(this);case"===":return e===i?s.fn(this):s.inverse(this);case"!=":return e!=i?s.fn(this):s.inverse(this);case"!==":return e!==i?s.fn(this):s.inverse(this);case"<":return e<i?s.fn(this):s.inverse(this);case"<=":return e<=i?s.fn(this):s.inverse(this);case">":return e>i?s.fn(this):s.inverse(this);case">=":return e>=i?s.fn(this):s.inverse(this);case"&&":return e&&i?s.fn(this):s.inverse(this);case"||":return e||i?s.fn(this):s.inverse(this);default:return s.inverse(this)}}),Handlebars.registerHelper("getPostUsers",function(e){if(0==space_users.length)return"Restricted";var t=e.split(",");return getUsersListHtml(t)}),Handlebars.registerHelper("commentLimit",function(e,t,i,s){return e<t+1-i?s.fn(this):s.inverse(this)}),Handlebars.registerHelper("math",function(e,t,i,s){switch(t){case"-":return e-i;case"+":return e+i;case"/":return(e/i).toFixed(2);default:return s.inverse(this)}}),Handlebars.registerHelper("minus",function(e,t,i){return e-t}),Handlebars.registerHelper("removePreviewedDocument",function(e,t,i){$(e).each(function(i){if(t.length&&this.id==t[0].id)return e.splice(i,1),!0}),this.documents=e}),Handlebars.registerHelper("escape",function(e){return e.replace(/(['"])/g,"\\$1")}),Handlebars.registerHelper("toJson",function(e){return JSON.stringify(e)}),Handlebars.registerHelper("calculateRAGColor",function(e){var t=moment(new Date),i=moment(e);if(i.isValid()&&e)var s=moment.duration(t.diff(i)),n=s.asDays();else var n=0;return n>0&&n<=7?"green":n>7&&n<=14?"yellow":"red"}),Handlebars.registerHelper("checkUserIsPostOwnerOrAdmin",function(e,t,i,s){return e||t==i?s.fn(this):s.inverse(this)}),Handlebars.registerHelper("userStatusByInvitationCode",function(e){var t="Pending";return e>0?t="Active":e<0&&(t="Cancelled"),t}),Handlebars.registerHelper("isProfileImageExist",function(e){return e?e:baseurl+"/images/dummy-avatar-img.svg"}),Handlebars.registerHelper("isMobileDevice",function(e){return isMobileDevice()?e.fn(this):e.inverse(this)});var space_category;$(document).ready(function(){getFeed(),setTimeout(function(){var e=$(".unpin_post").length;4==e&&$(".pin_post").remove()},5e3),$(document).on("click",".edit-post-dropdown .delete_post",function(){var e=$(this).attr("post_id");$(".delete_posted").attr("href",baseurl+"/delete_post/"+e)})}),path_name="clientshare";var temp_key="",feed_xhr=null,content_found=sticky_sidebar_stop=!0,post_category,single_post_data,post_null=!1,post_feed_data={is_scroll:1,offset:0,space_id:$(".space_id_hidden").val()},counter=0;$(window).bind("scroll",function(){post_feed_data.is_scroll=1,$(window).scrollTop()>=$("#load_more_post").offset().top+$("#load_more_post").outerHeight()-window.innerHeight-10&&content_found===!0&&!feed_xhr&&getFeed()}),$(".executive_show_less,.executive_show_more a").hide(),$(document).ready(function(){var e=$(".check_feedback_on_off_status").val();1==e&&$(".give-feedback-buyer").trigger("click"),single_post_id&&$(".single-post-popup .post-feed-section > iframe").remove(),feedback_flag&&$("#feedback-popup").modal("show"),feedbackPopup(),$(document).on("click","span.more-attachments",function(){$(this).closest(".post-block").find(".findmedia.hiddenable").toggleClass("hidden"),$(this).closest(".post-block").find(".more-attachments").toggleClass("hidden")}),$('[data-toggle="popover"]').popover(),$(document).on("click",".dropdown-toggle",function(){$(".popover").css("display","none","important")}),$(document).on("mouseover",".dropdown-toggle",function(){$(".visible-dropdown-view").hasClass("open")&&$(".popover").css("display","none","important")}),$(document).on("mouseover",".visible-setting",function(){$(".visible-dropdown-view").hasClass("open")&&$(".popover").css("display","none","important")}),$(document).on("click",".filter_post_category",function(){post_null=!1,post_feed_data.is_scroll=0,post_feed_data.offset=0,post_feed_data.category=$(this).attr("key"),temp_key!=$(this).attr("key")&&$(".filter-select").removeClass("category-selected filter-select").addClass("disable"),$(this).hasClass("category-selected")?($(this).removeClass("category-selected").addClass("disable"),post_feed_data.category="",temp_key=""):($(this).removeClass("disable").addClass("category-selected filter-select"),temp_key=$(this).attr("key")),sticky_sidebar_stop=!0,refreshFeed()}),$(document).on("click",".show_extra_content",function(){var e=$(this).closest(".post-description").find(".full_description");e.removeClass("hidden").show(),$(this).closest(".post-description").find(".trim_description").addClass("hidden")}),$(document).on("click",".show_less_content",function(){$(this).closest(".post-description").find(".trim_description").removeClass("hidden").show(),$(this).closest(".post-description").find(".full_description").addClass("hidden")}),$(document).on("paste",'.comment-add-section div[contenteditable="true"]',function(e){pasteAsPlainText(this,e)})}),window.addEventListener("popstate",function(){single_post_id&&"0"!==single_post_id&&getSinglePost(single_post_id)}),$(document).on("hidden.bs.modal","#single_post_modal",function(){changeUrl("Client Share",baseurl+"/clientshare/"+current_space_id),single_post_id=null}),$(document).on("hidden.bs.modal",".modal",function(){0!=single_post_id&&single_post_id&&$("body").addClass("modal-open")}),getTopPost(),$(document).on("click","img.endorse",function(){feedEndorse($(this).attr("id"),1)}),$(document).on("click","img.dendorse",function(){feedEndorse($(this).attr("id"),0)}),window.location.pathname.includes(path_name)||window.history.pushState(null,null,"/clientshare/"+current_space_id),single_post_view&&($(document).on("shown.bs.modal","#single_post_modal",function(){$(document).find("body").addClass("single-post-body")}),$(document).on("hidden.bs.modal","#single_post_modal",function(){$(document).find("body").removeClass("single-post-body")}),getSinglePost(single_post_id),customLogger({space_id:session_space_id,action:"View single post",content_type:"AppPostMedia",content_id:single_post_id,metadata:{post_id:single_post_id}},!0)),$(document).on("click",".copy-post-link",function(e){e.preventDefault(),navigator.userAgent.match(/ipad|ipod|iphone/i)?iosCopyToClipboard($(this).attr("data-href")):copyTextToClipboard($(this).attr("data-href")),$(this).closest(".dropdown-toggle").dropdown("toggle")}),$(".modal").on("shown.bs.modal",function(){$(window).trigger("resize")}),$(document).on("click",'.endorse-user [data-toggle="popover"]',function(){$(this).popover("hide")}),$(document).on("click",'.post-header-col [data-toggle="popover"]',function(){$(this).popover("hide")}),$(document).on("click","#save_post_btn_new",function(e){e.preventDefault(),$(".add_post_form").find(".form-submit-loader").show();var t=$('meta[name="csrf-token"]').attr("content"),i=$(".post_subject:visible").val(),s=$(".main_post_ta:visible").val();blocked_word=checkBlockWords(i,s,t),blocked_word&&$(".add_post_form").find(".form-submit-loader").hide(),blocked_word||($(".add_post_form").find(".form-submit-loader").show(),setTimeout(triggerAddPost,500))});var edit_post_files=new Array;$(document).on("click",".edit-single-post-data",function(){single_post_clone=$(".container-prime").clone(),single_post_clone.find(".upload-preview-wrap").html("");var e={numberDisplayed:1,includeSelectAllOption:!0,enableCaseInsensitiveFiltering:!0,buttonWidth:"100%",nonSelectedText:"NOTHING SELECTED",disabledText:"Disabled"};single_post_clone.find("select").not(".single-post-edit-visiblity-select").multiselect(e),single_post_clone.show(),single_post_clone.addClass("single-post-edit-view"),$(".single_post_content").hide();var t=/<br\s*[\/]?>/gi;single_post_clone.find("textarea.post-subject-textarea").val(single_post_data.posts[0].post_subject.replace(t,"\n")),single_post_clone.find("textarea.post-description-textarea").val(single_post_data.posts[0].post_description.replace(t,"\n")),single_post_clone.find(".single-post-edit-category-select").multiselect("select",[single_post_data.posts[0].meta_array.category]),single_post_clone.find(".single-post-edit-visiblity-select").multiselect({injectElement:function(e){return'<span class="community-member-company">'+$(e).attr("data-company")+"</span>"},numberDisplayed:1,includeSelectAllOption:!0,enableCaseInsensitiveFiltering:!0,buttonWidth:"100%",nonSelectedText:"NOTHING SELECTED",disabledText:"Disabled"}),single_post_clone.find(".single-post-edit-visiblity-select").multiselect("select",single_post_data.posts[0].visibility.split(",")),single_post_clone.find(".single-post-edit-alert-select").multiselect("selectAll",!1),single_post_clone.find(".single-post-edit-alert-select").multiselect("disable"),single_post_clone.find(".single-post-edit-alert-select").multiselect("updateButtonText"),single_post_clone.find('input[name="post[id]"]').val(single_post_data.posts[0].id),single_post_clone.find('input[name="space[id]"]').val(single_post_data.posts[0].space_id),single_post_clone.find('meta[name="csrf-token"]').attr("content",$('meta[name="csrf-token"]').attr("content")),html="",$.each(single_post_data.posts[0].post_media,function(e,t){html+='<div class="upload-content post_categories edit_media_div_container" style="">',html+='<span class="close"><img src="'+baseurl+'/images/ic_deleteBlue.svg" id="" class="edit_file_del" fileid="'+t.id+'" onclick="close_preview_edit(this)"></span>',html+='<a class="findmedia attach-link full-width" href="javascript:void(0)" onclick="">',html+='<img class="" src="'+baseurl+'/images/ic_IMAGE.svg" media-id="'+t.id+'" viewfile="">',html+='<span class="attachment-text">'+t.metadata.originalName+"</span>",html+="</a></div>"}),single_post_clone.find(".edit_media_div").html(html),$(".single_post_content").after(single_post_clone),$("#single_post_modal .single-post-repost").attr("id","single-post-repost-feed"),$("#single_post_modal .single-edit-post-checkbox").attr("for","single-post-repost-feed"),autosize(document.querySelectorAll("textarea.t1-resize")),autosize(document.querySelectorAll("textarea.t2-resize"))}),$(document).on("click",".single-post-repost",function(){$(this).prop("checked")?$(this).closest(".single-post-edit-view").find(".single-post-edit-alert-select").multiselect("enable"):$(this).closest(".single-post-edit-view").find(".single-post-edit-alert-select").multiselect("disable"),$(this).closest(".single-post-edit-view").find(".single-post-edit-alert-select").multiselect("selectAll",!1),$(this).closest(".single-post-edit-view").find(".single-post-edit-alert-select").multiselect("updateButtonText")}),$(document).on("click",".submit-edited-post",function(){form=$(this).closest("form"),form.find(".form-submit-loader").show();var e=$('meta[name="csrf-token"]').attr("content"),t=form.find("textarea.post-subject-textarea").val().trim(),i=form.find("textarea.post-description-textarea").val().trim();blocked_word=checkBlockWords(t,i,e),blocked_word?form.find(".form-submit-loader").hide():$(this).closest("form").submit()}),$(document).ready(function(){singlePostEditTemplate()});var edit_comment_triggered=!1;if($(document).on("mouseup",function(e){var t=$(".comment-edit-section"),i=$(".swal2-modal");if(0===t.has(e.target).length&&edit_comment_triggered)return!!i.has(e.target).length||(swal({html:$("#discardModalcomment .modal-content").html(),customClass:"simple-alert discard-comment",showConfirmButton:!1,animation:!1}),$(".discard_comment").attr("id",$("div.edit-comment-area").attr("id")),!1)}),$(document).on("click",".comment-show-less",function(){$(this).hasClass("show-more")?($(this).parent().find(".post-comment").css("max-height","100%"),$(this).html("Show Less"),$(this).toggleClass("show-more","show-less")):($(this).parent().find(".post-comment").css("max-height","50px"),$(this).html("Show More"),$(this).toggleClass("show-more","show-less"))}),$(document).on("click",".send_comment",function(e){var t=($(this),$(this).attr("datapostid")),i=$(this).attr("datauserid"),s=$(this).attr("commentlimit"),n=$(this).attr("spaceid"),o=$(this).parent().find(".comment-area").html(),a="false",r="false",l=$(this).parent().find(".comment-area"),c=$(this).closest(".post-block").find(".s3_running_process").length;return l.text().trim().length&&placeholderCheck(l)&&!c?(addComment({postid:t,userid:i,comment:o,commentlimit:s,morecheck:a,view_more:r,spaceid:n,attachments:window["attachment_"+t]},this),getPost(t,{comment_limit:2},"comment"),void(window["attachment_"+t]=new Array)):(l.focus(),!1)}),$(document).on("click","a.view-more-comments",function(){$(this).hide(),post_id=$(this).closest(".post-block").find('input[name="post_id"]').attr("id"),$("."+post_id+".post-block").find(".user-comment-post.hidden").removeClass("hidden").addClass("user-comment-post-show"),$("."+post_id+".post-block").find(".view-less-comments.hidden").removeClass("hidden")}),$(document).on("click","a.view-less-comments",function(){$(this).addClass("hidden"),post_id=$(this).closest(".post-block").find('input[name="post_id"]').attr("id"),$("."+post_id+".post-block").find(".user-comment-post-show").addClass("hidden").removeClass("user-comment-post-show"),$("."+post_id+".post-block").find(".view-more-comments").show()}),$(document).on("click",".discard-comment button",function(){swal.close(),$(".edit-comment-area").trigger("mouseenter").focusEnd()}),navigator.userAgent.match(/msie/i)||navigator.userAgent.match(/trident/i)){var placeholder_content="Add a comment or tag someone using @...";$(document).on("focus",".comment-area",function(){placeholder_content==$(this).text()&&$(this).html("").css("color","black"),$(this).attr("data-placeholder","")}),$(document).on("blur",".comment-area",function(){$(this).text().trim().length||$(this).html(placeholder_content).css("color","#b6b6b6")})}$(document).ready(function(){$(document).on("click",".comment-attach-delete",function(){removeCommentAttachment(this)}),$(document).on("click",".comment_attachment_trigger",function(){commentAttachment(this)}),$(document).on("click",".comment_edit_attachment_trigger",function(){commentEditAttachment(this)}),$(document).on("keyup",".comment-area",function(){$(this).text().length||($(this).html(""),$(this).mentionsInput("destroy"),mentionsComment(this,$(this).attr("data-postId")))})});var get_url_xhr=null,url_validate_var,edit_post_category_previous_state="",uploaded_file_aws=new Array,filesUploaded=[],cached_url="",s3_executive=new Array,is_mouse_inside_tour=!0,executive_summary_max_length=300,show_feedback=!1,space_users=new Array;$(".edit-post-dropdown").find("li").length<=0&&$(".edit-post-dropdown").parent().hide(),getSpaceUsers(),window.reset=function(e){e.wrap("<form>").closest("form").get(0).reset(),document.getElementById("upload_video_name").innerHTML="",e.unwrap()},$(document).on("submit",".feedback_form",function(){return $(".rating").is(":checked")?error=0:($(".rating-wrap").parent().find(".error-msg").remove(),$(".rating-wrap").after('<span class="error-msg error-body text-left rating-error" style="text-align: left;">Rating is mandatory</span>'),error=1),!error}),$(".suggesResize, .genCommResize, .commentResize").on("click change, focus",function(){autosize(document.querySelectorAll("textarea.suggesResize")),autosize(document.querySelectorAll("textarea.genCommResize")),autosize(document.querySelectorAll("textarea.commentResize"))}),$("#feedback-popup").on("shown.bs.modal",function(){});var d=new Date,month_names_array=["months","January","February","March","April","May","June","July","August","September","October","November","December"],n=month_names_array[d.getMonth()];$(document).on("click",".top_post_add_link",function(){$(".add_post_form .post_subject").trigger("click")}),$(document).ready(function(){loadEditPostTemplate(),$.ajax({type:"GET",async:!1,url:baseurl+"/get_add_post_template/"+session_space_id,success:function(response){$(".add_post_form_ajax").html(response),eval($(".add_post_form_ajax").html)}}),$(".subButton").addClass("disabled"),$(".subButton").attr("disabled",!0),$(document).on("click",".rating",function(){var e=$(this).val();parseInt(e)>=0&&($(".subButton").removeClass("disabled"),$(".subButton").attr("disabled",!1),$(".rating-error").length>0&&$(".rating-error").hide())}),$(".add_post_form").on("click",function(){make_form_post_ready($(".post_subject"))}),$(".post_subject").on("focus",function(e){make_form_post_ready($(".post_subject")),e.preventDefault()}),$(".post-button").on("click",function(){$(".post_subject").focus()}),$(document).on("click",".last-month",function(){var e=$("#curnt-month").attr("monnum"),t=$("#curnt-month").attr("yearnum");if("1"==e)var i=12,s=parseInt(t)-1;else var i=parseInt(e)-1,s=t;var n="";if($(".top_post_buyer").hasClass("active"))var n=$(".top_post_buyer").text();if($(".top_post_seller").hasClass("active"))var n=$(".top_post_seller").text();$("#curnt-month").attr("monnum",i),$("#curnt-month").attr("yearnum",s);var o=month_names_array[i];$("#curnt-month").text(o);var a=window.location.href,r=a.substring(a.lastIndexOf("/")+1);$.ajax({type:"GET",async:!1,url:baseurl+"/gettopthreepost?month="+$("#curnt-month").attr("monnum")+"&year="+$("#curnt-month").attr("yearnum")+"&company="+n+"&space_id="+r,beforeSend:function(){},success:function(e){$(".top-post-ajax-div").html(e)}})}),$(document).on("click",".next-month",function(){var e=$("#curnt-month").attr("monnum"),t=$("#curnt-month").attr("yearnum");if("12"==e)var i=1,s=parseInt(t)+1;else var i=parseInt(e)+1,s=t;var n="";if($(".top_post_buyer").hasClass("active"))var n=$(".top_post_buyer").text();if($(".top_post_seller").hasClass("active"))var n=$(".top_post_seller").text();if($(this).attr("curr_month")>=i&&$(this).attr("curr_year")>=s){$("#curnt-month").attr("monnum",i),$("#curnt-month").attr("yearnum",s);var o=month_names_array[i];$("#curnt-month").text(o)}else if($(this).attr("curr_month")<=i&&$(this).attr("curr_year")!=s){$("#curnt-month").attr("monnum",i),$("#curnt-month").attr("yearnum",s);var o=month_names_array[i];$("#curnt-month").text(o)}var a=window.location.href,r=a.substring(a.lastIndexOf("/")+1);$.ajax({type:"GET",async:!1,url:baseurl+"/gettopthreepost?month="+$("#curnt-month").attr("monnum")+"&year="+$("#curnt-month").attr("yearnum")+"&company="+n+"&space_id="+r,beforeSend:function(){},success:function(e){$(".top-post-ajax-div").html(e)}})}),$.validator.addMethod("defaultInvalid",function(e,t){return!(t.value==t.defaultValue)}),$(document).on("click",".save_executive_btn,.onboarding_save_executive_btn",function(){var e=this.id,t=$("#"+e).closest(".executive_summary_save");if(t.find(".executive-textarea-error").remove(),"onboarding_save_executive_btn"!=e){if(""==t.find(".summary_box").val().trim())return t.find(".summary_box").addClass("has-error"),t.find(".executive-textarea-col").after('<span class="error-msg executive-textarea-error text-left">Executive Summary cannot be empty</span>'),!1;if(t.find(".summary_box").val().trim().lenght>executive_summary_max_length)return t.find(".summary_box").addClass("has-error"),t.find(".executive-textarea-col").after('<span class="error-msg executive-textarea-error text-left">Executive Summary cannot be greater than '+executive_summary_max_length+" characters</span>"),!1}return t.submit(),!1}),$(document).on("submit","#executive_summary_save,#welcome_executive_summary_save",function(e){e.preventDefault();var t=$(".save_executive_btn");t.attr("disabled",!0);var i=$(this),s=new FormData(i[0]);return $.ajax({type:"post",url:baseurl+"/executive_summary_save",data:s,async:!0,beforeSend:function(){$("#welcome_tour .form-submit-loader").removeClass("hidden")},success:function(e){if($("#welcome_tour .form-submit-loader").addClass("hidden"),e.result){var s=e.executive_summary;if($(".executive_show_less").show(),$(".executive_show_more").hide(),s.length<=180)$(".executive_show_less").html(s),$(".executive_show_more").html(s);else{$(".executive_show_more").html(s+' <a href="javascript:void();" style="display: inline;">Show less</a>');var n=s.substring(0,180);$(".executive_show_less").html(n+' <a href="javascript:void();">Show more</a>')}""!=s&&$(".executive-center-insider").css("min-height","100px"),$(".summary-links .executive-link-col, .nothing-in-executive").hide(),renderExecutiveAttachments(),current_step=i.closest(".welcome-cs-popup"),updateTourStep(current_step.attr("data-step")),current_step.addClass("hidden"),current_step.next($(".welcome-cs-popup")).removeClass("hidden"),$(".add_executive_button").hide(),$("#executive_modal").modal("hide"),addProgressBarsection()}else $(".executive-textarea-col").after('<span class="error-msg executive-textarea-error text-left">'+e.error+"</span>");t.attr("disabled",!1)},error:function(e){console.log("Something went wrong.")},cache:!1,contentType:!1,processData:!1}),!1}),$(document).on("hidden.bs.modal","#executive_modal",function(){location.reload()}),$(".main_post_ta").on("change, paste input",get_preview_url),$(document).on("change,  paste input",".main_post_ta2",function(){$("#thumbcheck").val();$(this).val()?(data=$(this).val().replace(/\n/g," "),data=data.replace("#"," "),data=encodeURIComponent(data),$(this).next("span").remove(),get_url_xhr=$.ajax({type:"GET",url:baseurl+"/get_url_data?q="+data,processData:!1,contentType:!1,beforeSend:function(){null!=get_url_xhr&&(get_url_xhr.abort(),get_url_xhr=null)},success:function(e){if(0!=e){if($("#ytd_iframe").length&&"undefined"!=typeof e.metatags&&$("#ytd_iframe").attr("src")==e.metatags["twitter:player"])return 0;html='<img class="url_embed_trigger" src="'+baseurl+'/images/ic_highlight_removegray.svg"/>',html+='<div class="outer-block">',html+='<div class="inner-block">',e.metatags["twitter:player"]?(html+='<div class="thumbnail-block test iframe-content ">',html=html+'<iframe id="ytd_iframe" allowfullscreen="allowfullscreen" width="420" height="345" src='+e.metatags["twitter:player"]+"></iframe>"):(html+='<div class="thumbnail-block">',img_class=e.thumbnail_img?"thumbnail-img":"",html=html+'<img src="'+baseurl+"/file_loading?url="+e.favicon+'" class="url-favicon '+img_class+'" onerror="this.src=\'http://'+e.domain+'/favicon.ico\'; this.removeClass"thumbnail-img);">'),html+="</div>",html+='<div class="description-block "><div>';var t=e.title?e.title:e.title[0];e.full_url.search("http")<0?html=html+'<a target="_blank" href=http://'+e.full_url+" title="+t+'> <img src="https://www.google.com/s2/favicons?domain='+e.url+'"/>'+e.title+"</a>":html=html+'<a target="_blank" href='+e.full_url+" title="+e.title+'> <img src="https://www.google.com/s2/favicons?domain='+e.url+'"/>'+e.title+"</a>",e.description&&(html=html+"<p>"+e.description+"</p>"),html+="</div></div>",html+="</div></div>",$(".url_embed_div_edit").empty(),$(".url_embed_div_edit").append(html),$("input[name=url_embed_toggle]").eq(1).val(1),$("#thumbcheck").val(1)}else $(".url_embed_div_edit").empty()}})):$("#thumbcheck").val(0)}),$(document).on("click",".url_embed_trigger",function(){$("input[name=url_embed_toggle]").val(0),$(this).parent().empty()}),$(document).on("click",".remove",function(){var e=$(this).find("input").val(),t=0;for(i=1;1<postdata.length;i++)if(postdata[i].id==e){t=i;break}postdata.splice(t,1),$("#lbljson").val(JSON.stringify(postdata)),$(".second_form").prop("disabled",!0);var s=$(".imgpanel").length;1==s&&$(".second_form").prop("disabled",!0),$(this).parent().parent().parent(".imgpanel").remove();var n="";$(".mainimage").each(function(){var e=$(".imgpanel").length;if(1==e){var t=$(this).attr("value");n=t}else if(e>1){var t=$(this).attr("value");n+=t+","}});var o=n.slice(0,-1);$("#remainingimages").val(o)}),$(function(){$(".exe_summry[maxlength]").bind("input propertychange",function(){var e=$(this).attr("maxlength");$(this).val().length>e&&$(this).val($(this).val().substring(0,e))}),$(".exe_summry").keyup(function(e){for(;$(this).outerHeight()<this.scrollHeight+parseFloat($(this).css("borderTopWidth"))+parseFloat($(this).css("borderBottomWidth"));)$(this).height($(this).height()+1)})}),check_sub_comp_status_buyer=$(".buyer_info_hidden").attr("sub-comp-active"),1==check_sub_comp_status_buyer&&($(".sub_comp_div").css("display","block"),$(".sub_comp_input").attr("name","sub_comp"),$(".sub_comp_input").addClass("c_side_validation")),$(".executive-summary-preview .findmedia").on("click",function(){custom_logger({description:"view executive file",action:"view executive file"})}),$(document).on("click",".read-more-trigger",function(){0==$("#"+$(this).attr("for")).prop("checked")?$(this).find("span").hide():$(this).find("span").show()}),video_player_log_bind(),onYouTubeIframeAPIReady(),$(".add_post_form .post-visiblity-checkbox").change(function(){var e=this.checked;$(this).prop("checked",e).parent().toggleClass("active",e),label=postDropDownLabel(1,e?1:0),$(".selection_visibility").text(label.text),$(".add_post_form .visibilty-drop .visiblity-checkbox").prop("checked",e).parent().toggleClass("active",this.checked),$(".add_post_form .alert-drop .alert-checkbox").prop("checked",e).parent().toggleClass("active",this.checked).toggleClass("disable_check",!this.checked),$(".add_post_form").find(".post-alert-checkbox").parent().toggleClass("active",this.checked).toggleClass("disable_check",!this.checked),$(".select_all_alert").trigger("change")}),$(".visibilty-drop .visiblity-checkbox").change(function(){postVisiblityUser(this,$(".add_post_form"))}),$(document).on("click",".checkbox",function(){$(this).parent().parent().parent().addClass("open")}),$(document).on("click",".alert-drop .disable_check",function(){return!1}),$(".alert-drop .checkbox2").change(function(){$(this).closest(".dropdown-wrap").addClass("open"),postAlertUser($(this),this.checked,$(".add_post_form"))}),$(".select_all_alert").change(function(){$(".add_post_form .alert-drop").find("input:checkbox.checkbox2").parent().not(".disable_check").toggleClass("active",this.checked).find("input:checkbox").prop("checked",this.checked),label=postDropDownLabel($(".add_post_form .alert-drop").find("input:checkbox.checkbox2").length,$(".add_post_form .alert-drop").find("input:checkbox:checked.checkbox2").length),$(".selection_alert").text(label.text),label=postDropDownLabel($(".add_post_form .alert-drop").find("input:checkbox.checkbox2").parent().not(".disable_check").length,$(".add_post_form .alert-drop").find("input:checkbox:checked.checkbox2").length),$(".select_all_alert").parent().toggleClass("active",label.master_box_check)}),$(document).on("change",".edit_post_form .post-visiblity-checkbox",function(){var e=$(".editing_post_id").val(),t=this.checked;$(this).prop("checked",t).parent().toggleClass("active",t),label=postDropDownLabel(1,t?1:0),$(".edit_selection_visibility").text(label.text),$("#post_edit_"+e+" .visibilty-drop .visiblity-checkbox").prop("checked",t).parent().toggleClass("active",this.checked),$("#post_edit_"+e+" .alert-drop .alert-checkbox").prop("checked",t).parent().toggleClass("active",this.checked).toggleClass("disable_check",!this.checked),$("#post_edit_"+e).find(".post-alert-checkbox").prop("checked",t).parent().toggleClass("active",this.checked).toggleClass("disable_check",!this.checked),$(".edit_post_form .post-alert-checkbox").trigger("change")}),$(document).on("click",".repost",function(){var e=$(".editing_post_id").val();$("#post_edit_"+e).find(".submit_edit_post").html("Post"),$(this).parent().parent().find(".edit-alert-bx-disable").toggle(!this.checked),$(this).parent().parent().find(".edit-alert-bx").toggle(this.checked),$("#post_edit_"+e).find(".alert-drop .alert-checkbox").attr("checked",!1).parent().addClass("disable_check").removeClass("active");var t=$("#post_edit_"+e).find(".active .visiblity-checkbox").map(function(){return this.value}).get();t="input:checkbox[value='"+t.join("'],input:checkbox[value='")+"']",$("#post_edit_"+e).find(".alert-drop").find(t).attr("checked",!0).parent().addClass("active").removeClass("disable_check"),$(".edit_post_form .post-alert-checkbox").trigger("change")}),$(document).on("change",".edit-post-alert-checkbox",function(){$(this).closest(".dropdown-wrap").addClass("open"),postAlertUser($(this),this.checked,$("#post_edit_"+$(".editing_post_id").val()))}),$(document).on("change",".edit-post-checkbox",function(){postVisiblityUser(this,$("#post_edit_"+$(".editing_post_id").val()))}),$(document).on("click",".visibility_group",function(e){var t=this.checked;1==$(".add_post_form").find("input:checkbox:checked.visibility_group").length&&(postFormListReset($(".add_post_form").find(".visibilty-drop"),$(".add_post_form").find(".alert-drop")),$(this).prop("checked",!0)),$(this).closest(".visibilty-drop-wrap").addClass("open"),$(this).parent().toggleClass("active",t),$.ajax({type:"GET",dataType:"json",url:baseurl+"/get_group_members?gid="+$(this).attr("id"),success:function(e){$(e).each(function(){user_checkbox=$(".add_post_form").find(".visibilty-drop").find('input:checkbox[value="'+this.space_user.user_id+'"]'),user_checkbox.prop("checked",t),postVisiblityUser(user_checkbox,$(".add_post_form"))})}})}),$(document).on("change",".edit_post_form .post-alert-checkbox",function(){var e=$(".editing_post_id").val();$("#post_edit_"+e).find(".alert-drop").find("input:checkbox.edit-post-alert-checkbox").parent().not(".disable_check").toggleClass("active",this.checked).find("input:checkbox").prop("checked",this.checked),label=postDropDownLabel($("#post_edit_"+e).find(".alert-drop").find("input:checkbox.edit-post-alert-checkbox").length,$("#post_edit_"+e).find(".alert-drop").find("input:checkbox:checked.edit-post-alert-checkbox").length),$("#post_edit_"+e).find(".post-alert-label").text(label.text),
label=postDropDownLabel($("#post_edit_"+e).find(".alert-drop").find("input:checkbox.edit-post-alert-checkbox").parent().not(".disable_check").length,$("#post_edit_"+e).find(".alert-drop").find("input:checkbox:checked.edit-post-alert-checkbox").length),$(this).parent().toggleClass("active",this.checked)}),$(".category-drop").multiselect({numberDisplayed:1,includeSelectAllOption:!0,enableCaseInsensitiveFiltering:!0,buttonWidth:"100%",nonSelectedText:"NOTHING SELECTED"}),$(".categories-edit-drop").multiselect({numberDisplayed:1,includeSelectAllOption:!0,enableCaseInsensitiveFiltering:!0,buttonWidth:"100%",nonSelectedText:"NOTHING SELECTED"}),$(".alert-edit-drop").multiselect({numberDisplayed:1,includeSelectAllOption:!0,enableCaseInsensitiveFiltering:!0,buttonWidth:"100%",nonSelectedText:"NOTHING SELECTED"}),$(".exe_sum_video").on("click",function(e){$(".modal-dialog").hasClass("full-width-doc")&&$(".modal-dialog").removeClass("full-width-doc")}),$(".ph_number").bind("keyup paste",function(){position=this.selectionStart,this.value=this.value.replace(/[^ 0-9+(),-.]/g,""),this.selectionEnd=position}),$("#upload_link").on("click",function(e){add_attachment_post(this)}),$(".camera-icon").on("click",function(e){$("#img_show").trigger("click")}),$("#myModalInvite").on("hide.bs.modal",function(){location.reload()}),$("body").on("hidden.bs.modal",".modal",function(){$("video").trigger("pause")});var url=$("#cartoonVideo").attr("src");$("#myModal").on("hide.bs.modal",function(){$("#cartoonVideo").attr("src","")}),$("#myModal").on("show.bs.modal",function(){$("#cartoonVideo").attr("src",url)}),$(".white_box_info").on("click",function(){$(this).fadeOut("fast")}),$("textarea, input").on("change, keyup paste input",function(){$(this).removeClass("has-error"),$(this).parent().removeClass("has-error"),$(this).parent().find(".error-msg").remove()}),$("input[name=first_name]").on("keyup",function(){$(".mailbody").find("span").eq(0).show(),$(".mailbody").find("span").eq(1).html(" "+$(this).val()+",")}),$(".mailbody").on("focus",function(){$(".mail_body").get(0).selectionStart=$(".mail_body").html().length,$(".mail_body").get(0).selectionEnd=$(".mail_body").html().length,$(".mail_body").focus()}),$(document).on("click",".addendorse",function(){var e=$(this).attr("add-endorse-id"),t=$(this).attr("add-endorse-userid"),i=$(this).attr("data-honor"),s=$(this).attr("space-id"),n=$(this).attr("get-liked-by-email"),o=$(this).find("img").attr("src").lastIndexOf("/")+1,a=$(this).find("img").attr("src").substr(o);if("ic_thumb_up.svg"==a){$(this).find("img").attr("src",baseurl+"/images/ic_thumb_up_grey.svg");var r=1,l=0}if("ic_thumb_up_grey.svg"==a){$(this).find("img").attr("src",baseurl+"/images/ic_thumb_up.svg");var r=0,l=0}if(1==n){$(this).find("img").attr("src",baseurl+"/images/ic_thumb_up.svg");var r=0,l=1}$.ajax({type:"GET",url:baseurl+"/endorse?endorseid="+e+"&userid="+t+"&spaceid="+s+"&posthonor="+i+"&like_status="+r+"&liked_from_email="+l,success:function(t){$(".endorsediv_"+e).html(t)},error:function(e){custom_logger({action:"endorse post",description:e})}})}),$(document).on("click",".endorsed_popup",function(){var e=$(this).attr("endors-poup-post"),t=$(this).attr("space-id");$.ajax({type:"GET",url:baseurl+"/endorsepopup_ajax?endorseid="+e+"&spaceid="+t,success:function(e){$(".endorse_popup_modal").html(e)},error:function(e,t,i){logErrorOnPage(e,t,i,"endorsed_popup")}})}),$(document).on("click",".save_edit_visiblity",function(){var e=$(this).attr("ediitvisible"),t=$(".visiblity_update_"+e).serialize().replace(/&checkbox%5B%5D=/g,","),i=t.replace(/checkbox%5B%5D=/g,""),s=($(this).attr("allvisibleuser"),"");t.indexOf("checkboxall=1")>-1&&(i="All,"+i,i=i.replace(/checkboxall=1,/g,""),s="All");var n=$(this).attr("logedin-and-postuser");i=""!=i?n+","+i:n,$.ajax({type:"GET",dataType:"json",url:baseurl+"/edit_visibillitypopup_ajax?postid="+e+"&visibleuser="+i+"&visible_to="+s,success:function(t){mixpanelLogger({space_id:session_space_id,event_tag:"Change post visibility"},!0),"all"==t.user?($(".now_active_private"+e).hasClass("active")&&($(".now_active_private"+e).removeClass("active"),$(".now_active_public"+e).addClass("active"),$(".v_image"+e).removeClass("lock"),$(".rest-memb"+e).css("display","none")),$(".show-user"+e).attr("data-content","Everyone"),$("#post_"+e).find(".post_visible_user").val(t.user_id),$("#post_"+e).find(".post_visible_user_edit").val(t.user_id)):($(".now_active_public"+e).hasClass("active")&&($(".now_active_public"+e).removeClass("active"),$(".now_active_private"+e).addClass("active"),$(".v_image"+e).addClass("lock"),$(".rest-memb"+e).css("display","block")),$(".show-user"+e).attr("data-content",t.names),$("#post_"+e).find(".post_visible_user").val(t.user_id),$("#post_"+e).find(".post_visible_user_edit").val(t.user_id))},error:function(e){}})}),$(document).on("click",".cancel_visibility",function(){$(this).closest("form")[0].reset()}),$(document).on("click",".s-everyone",function(){var e=$(this).attr("postid"),t=$(this).attr("space-id"),i=$(this).attr("visibletousers");$.ajax({type:"GET",url:baseurl+"/edit_visibility?postid="+e+"&visibleusers="+i+"&spaceid="+t,success:function(t){$(".now_active_private"+e).hasClass("active")&&($(".now_active_private"+e).removeClass("active"),$(".now_active_public"+e).addClass("active"),$(".v_image"+e).removeClass("lock"),$(".rest-memb"+e).css("display","none")),$(".show-user"+e).attr("data-content","Everyone"),$("#post_"+e).find(".post_visible_user").val(t.user_id),$("#post_"+e).find(".post_visible_user_edit").val(t.user_id)},error:function(e){}})}),$(document).on("click","#close_post_file",function(){$(".post_categories_file").hide();var e=$("#upload");e.replaceWith(e=e.clone(!0))}),$(document).on("change","#upload",function(){var e=$(this).clone();e.removeAttr("id"),e.addClass("post_attachment_clone"),$(this).attr("id","post_file_"+($(".post_file").length-1)),$(".direct-upload").after(e),$(".post_attachment:visible").length?$(".remove_all_trigger").show():$(".remove_all_trigger").hide()}),$(document).on("change","#upload_edita",function(){var e=constants.POST_EXTENSION,t=document.getElementById("upload_edita").files[0].name;if(t=t.split("."),ext=t.pop(),t=t.join("."),e.indexOf(ext)<0)return alert("Only "+e.toString()+" extensions are allowed"),!1;if(1==$(".post_file_edita").length){t=document.getElementById("upload_edita").files[0].name;var i="";$("#blah").hide(),readURL(this,t,i),t=t.split("."),ext=t.pop(),t=t.join("."),$(".upload_file_name").html(t.toString())}else preview_before_upload_edit(this);var s=$(this).clone();$(this).attr("id","post_file_"+($(".post_file_edita").length-1)),$(this).after(s),$(".remove-all").show()}),$("textarea.comment-area").on("click",function(){autosize(document.querySelectorAll("textarea.comment-area")),$(".send_comment").attr("disabled",!1)}),$(document).on("click","#edit_post",function(e){postid=$(this).attr("editpost");var t=$(this).attr("postby"),i=$(this).attr("activeuser");return t!=i?(alert("You are not Autorize for this."),!1):($("#post_"+postid).css("display","none"),$(".black-overlay").css("display","block"),$("#editpost_"+postid).addClass("highlight").css("margin-top","9px").show(),$("select[name=selValue]").val(1),e.preventDefault(),!1)}),$.fn.focusEnd=function(){$(this).focus();var e=$("<span />").appendTo($(this)),t=e.get(0),i=null,s=null;return document.selection?(i=document.body.createTextRange(),i.moveToElementText(t),i.select()):window.getSelection&&(i=document.createRange(),i.selectNode(t),s=window.getSelection(),s.removeAllRanges(),s.addRange(i)),e.remove(),this},$(".edit_share_name").on("click",function(e){$(".share_name").hide(),$(".edit_share").show(),$(".updated_share").focusEnd()}),$(".cancel_edit_share").on("click",function(e){$(".share_name").show(),$(".edit_share").hide()}),$(document).on("click","#edit_post_button",function(){var e=$(this).attr("editpostform");$("#editpost_"+e).addClass("test").css("margin-top","9px").hide(),$(".black-overlay").css("display","none"),$("#post_"+e).show();var t=new FormData($(this).closest("form")[0]);$.ajax({type:"POST",url:baseurl+"/updatepost",data:t,processData:!1,contentType:!1,success:function(t){"undefined"!=typeof t.message&&"user_deleted"==t.message&&(window.location.href=baseurl+"/logout"),$(".change_post_"+e).html(t)},error:function(e){console.log(e)}})}),$(".edit_preview_file").on("click",function(e){var t=$(this).attr("closeid");$(".edit_preview_main"+t).hide(),$("#edit_preview_main"+t).hide(),$("input.edit_file_url").val("");var i=$("#edit_upload_"+t);i=i.val("").clone(!0)}),$(".edit_upload_link").on("click",function(e){e.preventDefault();var t=$(this).attr("editupload");$("#edit_upload_"+t+":hidden").trigger("click"),$("#edit_upload_"+t).change(function(){var e=$(this).val();readURL(this,e,t),$(".upload_file_name").html(e)})}),$(".updated_share").keypress(function(e){if(13==e.which)return!1}),$(document).on("keypress, keyup",".domain_name_inp",function(e){var t=[64,32,44,59];if($(this).val($(this).val().toLowerCase()),t.indexOf(e.which)>-1)return!1}),$(document).on("keypress",".invite_email_inp, input[name=email]",function(e){var t=[32,44,59];if(t.indexOf(e.which)>-1)return!1}),$(document).on("click","#edit_cacel_btn",function(){var e=$(this).attr("cancelid"),t=$("#file_url_"+e).attr("filepath"),i=$("#edit_post_id_"+e).attr("olddata");$("#editpost_"+e).hide(),$(".black-overlay").css("display","none"),$("#post_"+e).show(),$(".edit_preview_main"+e).show(),$("input.edit_file_url").val(t),document.getElementById("edit_post_form_"+e).reset(),$("textarea.edit_post_area"+e).text(i),$(".post_categories_file"+e).css("display","none")}),$(document).on("click","#see_community",function(){var e=$(this).attr("userid"),t=$(this).attr("spaceid");$.ajax({type:"GET",url:baseurl+"/view_community_profile?user_id="+e+"&space_id="+t,success:function(e){$(".community-mem-detail").modal("show").html(e)}})}),$("#upload_pdf_file").change(function(){var e=$(this).attr("url");if($(".post-media-data").val()>=2)return $("#upload_pdf_file").val(""),alert("You can upload a maximum of 2 files to the executive summary. Please remove an existing file."),!1;if(""!=$(".upload_pdf_hidden").val())return $("#upload_pdf_file").val(""),alert("You can upload a maximum of 2 files to the executive summary. Please remove an existing file"),!1;var t=document.getElementById("upload_pdf_file").files[0],i=t.size/1024,s=102400,n=document.getElementById("upload_pdf_file").files[0].name;i>s&&(alert("Please upload file of less than 100 mb size"),$("#upload_pdf_file").val(""));var n=document.getElementById("upload_pdf_file").files[0].name;if($(".already_uploaded_file").val()==n||$(".already_uploaded_video_file").val()==n||$(".already_uploaded_pdf_file").val()==n)return $("#upload_pdf_file").val(""),alert("You have already uploaded same file. Please choose another"),!1;$(".already_uploaded_file").val(n),readFileName(this,n),$("#upload_video_name").html("<span>"+n+"</span>").append("<a><div id='cross'><img src='"+e+"/images/ic_highlight_remove.svg' alt=''></div></a>"),$(this).hide(),$("#upload_video_file").show(),$(".upload_pdf_hidden").val("true");var o=parseInt($(".post-media-data").val())+parseInt(1);$(".post-media-data").val(o)}),$("#upload_video_file").change(function(){var e=$(this).attr("url");if(""!=$(".upload_video_hidden").val())return $("#upload_video_file").val(""),alert("You can upload a maximum of 2 files to the executive summary. Please remove an existing file"),!1;if($(".post-media-data").val()>=2)return $("#upload_video_file").val(""),alert("You can upload a maximum of 2 files to the executive summary. Please remove an existing file."),!1;var t=document.getElementById("upload_video_file").files[0],i=t.size/1024,s=102400;document.getElementById("upload_video_file").files[0].name;i>s&&(alert("Please upload file of less than 100 mb size"),$("#upload_video_file").val(""));var n=document.getElementById("upload_video_file").files[0].name;if($(".already_uploaded_file").val()==n||$(".already_uploaded_video_file").val()==n||$(".already_uploaded_pdf_file").val()==n)return $("#upload_video_file").val(""),alert("You have already uploaded same file. Please choose another"),!1;$(".already_uploaded_file").val(n),readFileName2(this,n),$("#upload_pdf_name").html("<span>"+n+"</span>").append("<a><div id='cross2' style='display: inline-block;margin-left: 10px;'><img src='"+e+"/images/ic_highlight_remove.svg' alt=''></div></a>"),$(this).hide(),$(".upload_video_hidden").val("true");var o=parseInt($(".post-media-data").val())+1;$(".post-media-data").val(o)}),$(document).on("click",".findmedia",function(e){return}),navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&$(".bkg").attr("poster",baseurl+"/images/video-poster.jpg"),$("video").on("loadstart",function(e){$(this).addClass("bkg")}),$("video").on("canplay",function(e){navigator.userAgent.match(/(iPod|iPhone|iPad)/)?$(".bkg").attr("poster",baseurl+"/images/video-poster.jpg"):($(this).removeClass("bkg"),$(this).removeAttr("poster"))}),$("video").onloadstart=function(){alert("Starting to load video")},$(".modal").on("hidden.bs.modal",function(){$(".modal-loader").show()}),$(document).on("mouseover",".get_view_user_embeded",function(){var e=$(this).find("img").attr("getViewId");return"ontouchstart"in window&&$(".viewpostsuser"+e).popover("hide"),$.ajax({type:"GET",async:!1,url:baseurl+"/view_url_embeded/"+e,beforeSend:function(){$(".viewpostsuser"+e).attr("data-content",'<img src="'+baseurl+'/images/loading_bar1.gif">'),$(".viewpostsuser"+e).popover("show")},success:function(t){""==t?$(".viewpostsuser"+e).attr("data-content","&nbsp;"):$(".viewpostsuser"+e).attr("data-content",t),$(".viewpostsuser"+e).popover("hide")},error:function(t){$(".viewpostsuser"+e).attr("data-content",""),$(".viewpostsuser"+e).popover("show")}}),!1}),$(document).on("mouseover",".get_view_user",function(){var e=$(this),t=$(this).find("img").attr("getViewId");return $.ajax({type:"GET",async:!1,url:baseurl+"/view_users_post?post_id="+t,beforeSend:function(){e.attr("data-content",'<img src="'+baseurl+'/images/loading_bar1.gif">'),e.popover("show")},success:function(t){""==t?e.attr("data-content","&nbsp;"):e.attr("data-content",t),e.popover("show")},error:function(e,t,i){logErrorOnPage(e,t,i,"view user")}}),!1}),$(document).on("click",".get_view_user_embeded",function(){var e=$(this).find("img").attr("getViewId");$(this).find("img").attr("space-id");return"ontouchstart"in window&&$(".viewpostsuser"+e).popover("hide"),$.ajax({type:"GET",async:!1,url:baseurl+"/view_url_embeded_users?post_id="+e,beforeSend:function(){},success:function(t){""==t||($(".eye_users_popup").modal("show"),$(".eye_users_popup").html(t),$(".viewpostsuser"+e).popover("hide"))},error:function(e,t,i){logErrorOnPage(e,t,i,"get_view_user_embeded")}}),!1}),$(document).on("click",".get_view_user",function(){var e=$(this).find("img").attr("getViewId"),t=$(this).find("img").attr("space-id");return $.ajax({type:"GET",async:!1,url:baseurl+"/view_eye_users_pop?post_id="+e+"&space_id="+t,success:function(t){""==t||($(".eye_users_popup").modal("show"),$(".eye_users_popup").html(t),$(".viewpostsuser"+e).popover("hide"))},error:function(e,t,i){logErrorOnPage(e,t,i,"get_view_user click")}}),!1}),$(document).on("click","#cross",function(){$(".upload_pdf_hidden").val(""),$("#already_uploaded_file").val(""),$("#upload_pdf_file").show(),$("#upload_video_file").hide(),$("#upload_video_name").empty(),$(this).hide();var e=$("#upload_pdf_file");e.replaceWith(e=e.clone(!0))}),$(document).on("click","#cross2",function(){$(".upload_video_hidden").val(""),$("#already_uploaded_file").val(""),$("#upload_pdf_file").hide(),$("#upload_video_file").show(),$("#upload_pdf_name").empty(),$(this).hide();var e=$("#upload_video_file");e.replaceWith(e=e.clone(!0))}),$(document).on("click",".delete_summary_files",function(){var e=$(this).attr("id");return data=$(".delete_summary_files_inp").val(),data.length?data=data+","+e:data=e,$(".delete_summary_files_inp").val(data),$(this).closest(".remove_executive_file").remove(),$(".upload_doc_col").show(),$("span.fileupload-new").show(),$("i.fa-upload").show(),!1}),$("#content").on("change keyup keydown paste cut","textarea",function(){$(this).height(10).height(this.scrollHeight)}).find("#exec_textarea").change(),$("#comment_input_area").on("click",function(){return make_form_post_ready(this),!1}),$(".remove_border").on("keyup",function(){$(".remove_border").removeClass("word-block-error")}),$(".remove_border1").on("keyup",function(){$(".remove_border1").removeClass("word-block-error")}),$(".post-wrap").on("touchstart",function(e){var t=e.originalEvent.targetTouches[0].target.className;$(".r1").find(".dropdown-wrap").hasClass("open")&&$(".r1").find(".dropdown-wrap").removeClass("open"),"checkbox blue_check_bx active"==t&&($(".r1").find(".dropdown-wrap").hasClass("open")||$(".r1").find(".dropdown-wrap").addClass("open")),"checkbox blue_check_bx"==t&&($(".r1").find(".dropdown-wrap").hasClass("open")||$(".r1").find(".dropdown-wrap").addClass("open"));var i=e.originalEvent.targetTouches[0].target.className;$(".r2").find(".dropdown-wrap").hasClass("open")&&$(".r2").find(".dropdown-wrap").removeClass("open"),"checkbox active"==i&&($(".r2").find(".dropdown-wrap").hasClass("open")||$(".r2").find(".dropdown-wrap").addClass("open")),"checkbox"==i&&($(".r2").find(".dropdown-wrap").hasClass("open")||$(".r2").find(".dropdown-wrap").addClass("open"))}),$("#comment_input_area").on("touchstart",function(){$(".post_categories_maincontent").show(),$("html, body").animate({scrollTop:$(".add_post_form .shareupdate-wrap").offset().top},2e3),$("#comment_input_area").focus(),$(".post_categories").show(),$(".black-overlay").show(),$("#tour2").addClass("highlight"),$(".subject_class").show(),$(".subject_text").show(),$(".post_subject").css("padding-top","5px"),$(".post_subject").attr("placeholder","Add a subject");$(".main_post_ta").val().length;return!1}),$(".post_subject").on("click change, focus",function(){autosize(document.querySelectorAll("textarea.post_subject"))});var mouse_is_inside=!1;$(".shareupdate-wrap").hover(function(){mouse_is_inside=!0},function(){mouse_is_inside=!1}),$("#group_modal").hover(function(){mouse_is_inside=!0},function(){mouse_is_inside=!1});var mouse_is_outside_navi=!1;$("#a_nav").hover(function(){mouse_is_outside_navi=!0},function(){mouse_is_outside_navi=!1}),$("#tour2").on("mouseenter",function(e){is_mouse_inside_tour=!0}),$("#tour2").on("mouseleave",function(e){is_mouse_inside_tour=!1}),$("body").mouseup(function(){!mouse_is_inside&&$(".shareupdate-wrap").length>1&&(dimlight(),!mouse_is_outside_navi&&$("#bs-example-navbar-collapse-2").hasClass("in")&&$("#bs-example-navbar-collapse-2").removeClass("in"))});var mouse_is_outside=!1;$("#user_profile").hover(function(){mouse_is_outside=!0},function(){mouse_is_outside=!1}),$("body").mouseup(function(){mouse_is_outside||$(".profile_update_form").trigger("reset")}),$(".profile_popup").on("click",function(){$leng=$(".jobtitle_admin").val().length,$leng>0&&$(".jobtitletxt").html("")}),$(document).on("click","#discard",function(){$("#tour2").removeClass("highlight"),$(".add_post_form .share-inner-wrap").addClass("post-sbj"),$("#save_post_btn_new").hide(),$(".category_drop_share").hide(),$(".category_drop").show(),$(".visibilty-drop-wrap-share").hide(),$(".visibilty-drop-wrap").show(),$(".alert-drop-wrap-share").hide(),$(".alert-drop-wrap").show(),$(".share-drop-wrap").hide(),$(".post_share").parent().removeClass("share-box"),$(".black-overlay").hide(),$(".add_post_form")[0].reset(),$("#catg_id").multiselect("refresh"),$("#visibility_drop").multiselect("refresh"),$("#alert_drop").multiselect("refresh"),$(".post_categories_maincontent").hide(),$(".post_categories").hide(),$(".subject_class").hide(),$(".subject_text").hide(),$(".error-msg").hide(),null!=get_url_xhr&&(get_url_xhr.abort(),get_url_xhr=null),$(".url_embed_div").empty(),$('input[name="uploaded_file_aws"]').val(""),uploaded_file_aws=new Array,filesUploaded=[],reset_addpost_upload_section()}),$(".black-overlay").on("touchstart",function(){dimlight()}),$(document).on("click",".checkbox1",function(){var e=$(this).attr("visibiliity-toogleall-edit-id");$(".visibility_checkbox_popup_"+e).not(this).prop("checked",this.checked),$(".save_edit_visiblity").removeClass("disabled-grey"),$(".save_edit_visiblity").attr("disabled",!1),$(".cancel_visibility").removeClass("disabled-grey"),$(".cancel_visibility").attr("disabled",!1)}),$(document).on("click",".visbility_check",function(){var e=$(this).attr("postid"),t=$("input.visibility_checkbox_popup_"+e+":checked").length,i=$(".hidden_count_visibility_"+e).val();t==i?$(".chkb1_"+e).not(this).prop("checked",this.checked):$(".chkb1_"+e).not(this).prop("checked",!1),$(".save_edit_visiblity").removeClass("disabled-grey"),$(".save_edit_visiblity").attr("disabled",!1),$(".cancel_visibility").removeClass("disabled-grey"),$(".cancel_visibility").attr("disabled",!1)}),$(document).on("click",".visibility_setting",function(){$(".modal-sm").hasClass("active_pop")&&$(".active_pop").html("");var e=$(this).attr("setting-id");$("#visibility_setting_modal").html("");var t=$(this).attr("space-id");$("#visibility_setting_modal").removeClass("add_scroll"),$.ajax({type:"GET",url:baseurl+"/endorse_setting_popup_ajax?endorseid="+e+"&spaceid="+t,success:function(e){$("#visibility_setting_modal").html(e),$("#visibility_setting_modal").addClass("add_scroll"),$(".save_edit_visiblity").addClass("disabled-grey"),$(".save_edit_visiblity").attr("disabled",!0),$(".cancel_visibility").addClass("disabled-grey"),$(".cancel_visibility").attr("disabled",!0)},error:function(e,t,i){logErrorOnPage(e,t,i,"visibility_setting - click")}})}),$("body").on("touchstart",function(e){"popover"!==$(e.target).data("toggle")&&0===$(e.target).parents(".popover.in").length&&$('[data-toggle="popover"]').popover("hide")}),$(document).on("click",".exe_pencil",function(){autosize(document.querySelectorAll("textarea.summary_box")),$('[data-toggle="popover"]').popover();var e=$(".upload-preview-wrap"),t=e.find(".remove_executive_file").length,i=e.find(".remove_executive_s3_file").length;t+i>=2&&$("span.fileupload-new,i.fa-upload").show()}),$(document).on("click",".post_emb_link",function(){parent_div=$(this).parent().closest(".post-wrap"),post_id=parent_div.attr("id"),post_id=post_id.replace("post_",""),p_id=$(this).parent().parent().attr("post-id"),$.ajax({type:"GET",url:baseurl+"/log_post_file_evnt?content_id="+post_id+"&url="+$(this).attr("href"),success:function(e){if(view_cout=$(".viewpostsuser"+p_id).children().attr("view-count"),total_count=parseInt(view_cout)+1,total_count>1)var t="views";else var t="view";$(".viewpostsuser"+p_id).find(".view_eye_content").html(total_count+" "+t),$(".viewpostsuser"+p_id).children().attr("view-count",total_count)}})}),$(document).on("click","#temp_id_trigger",function(){var e=$("#biotextarea").val().length;e<=121?$("#biotextarea").attr("rows","2"):e>121&&e<=240?$("#biotextarea").attr("rows","4"):$("#biotextarea").attr("rows","5");var t=$("#jobtitletxt").val().length;t<=121?$("#jobtitletxt").attr("rows","2"):t>121&&t<=240?$("#jobtitletxt").attr("rows","4"):$("#jobtitletxt").attr("rows","5")}),$(document).on("click",".visibility_setting_more",function(){var e=$(this).attr("setting-id");$("#visiblepopup"+e).html("");var t=$(this).attr("space-id");$.ajax({type:"GET",url:baseurl+"/visibility_popupmore_ajax?endorseid="+e+"&spaceid="+t,success:function(t){$("#visiblepopup"+e).html(t)},error:function(e,t,i){logErrorOnPage(e,t,i,"visibility_setting_more - click")}})}),$(document).on("click",".add_category",function(e){var t=new Date;$(".categories .category_edit_list").append('<li class=""><input name="category_'+t.getTime()+'" class="form-control box category_value" type="text" maxlength="25" placeholder="Start typing..." value=""><span class="cat-del-icon" onclick="$(this).parent().remove();" aria-hidden="true"></span><span class="letter-count count_cat"></span></li>')}),$(document).on("focus",".category_value",function(){$(this).siblings(".count_cat").removeClass("hidden")}),$(document).on("blur",".category_value",function(){$(this).siblings(".count_cat").addClass("hidden")}),$(document).on("keyup paste",".category_value",function(){$(this).removeClass("error, has-error"),$(this).siblings(".category_error").html(""),$(this).parent().find("p").remove(),$(this).parent().find("span.cat-del-icon").hide(),$(this).parent().find("span.count_cat").html("<span>"+$(this).val().length+"</span>/25"),0==$(this).val().length?($(this).parent().find("span.count_cat").hide(),$(this).parent().find("span.cat-del-icon").show()):($(this).parent().find("span.count_cat").show(),$(this).parent().find("span.cat-del-icon").hide())}),$(document).on("click","#edit_post_btn_new",function(e){e.preventDefault();var t="",i=$('meta[name="csrf-token"]').attr("content"),s=$(".subject_validate:visible").val(),n=$(".main_post_ta2:visible").val();return $.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:baseurl+"/matchwordsubject",data:{subject:s,body:n,_token:i},dataType:"json",async:!1,success:function(e){if(""!=e){if(e.subject){var i=e.subject.toString().replace(/\,/g,'", "');""!=i&&($(".subject_validate:visible").addClass("word-block-error"),$(".subject_validate:visible").parent().find(".error-msg").remove(),$(".subject_validate:visible").after('<span class="error-msg error-body text-left" style="text-align: left;">This post contains the following blocked word(s): "'+i+'"</br>Please remove any blocked words before adding your post</span>'),t=1)}if(e.body1){var s=e.body1.toString().replace(/\,/g,'", "');""!=s&&($(".main_post_ta2:visible").addClass("word-block-error"),$(".main_post_ta2:visible").parent().find(".error-msg").remove(),$(".main_post_ta2:visible").after('<span class="error-msg error-body text-left" style="text-align: left;">This post contains the following blocked word(s): "'+s+'"</br>Please remove any blocked words before adding your post</span>'),t=1)}}else(!$(".subject_validate:visible").val()||!$.trim($(".subject_validate:visible").val()).length>0)&&($(".subject_validate:visible").parent().find(".error-msg").remove(),$(".subject_validate:visible").after('<span class="error-msg error-body text-left" style="text-align: left;">Subject is mandatory</span>'),t=1),(!$(".main_post_ta2:visible").val()||!$.trim($(".main_post_ta2:visible").val()).length>0)&&($(".main_post_ta2:visible").parent().find(".error-msg").remove(),$(".main_post_ta2:visible").after('<span class="error-msg error-body text-left" style="text-align: left;">Body is mandatory</span>'),t=1)},error:function(t){e.preventDefault()}}),""==t?$(this).closest("form").submit():e.preventDefault(),!t&&($("input[id=upload]").remove(),$(".edit_post_form").find(".form-submit-loader").show(),!0)}),$(document).on("click",".remove_all_trigger",function(e){$(".post_categories_file").hide(),$(".post_categories_file_temp").remove(),$(".post_categories_file_edt").hide(),$(".post_categories_file_temp_edit").remove(),$(".post_file").each(function(){"upload"==$(this).attr("id")?$(this).hide():$(this).remove()}),$(".post_file_edtt").each(function(){"upload_edtt"==$(this).attr("id")?$(this).hide():$(this).remove()}),del_old_files="",$(".edit_file_del").each(function(e){$(this).trigger("click")}),$(".remove-all").hide()}),$(document).on("click",".editpost_data",function(e){edit_popup_skull_clone=$(".edit_popup_skull").find("form").clone(),edit_popup_skull_clone.addClass("edit_popup_skull_clone");var t=$(this).attr("editpost");$("#post_edit_"+t).html(edit_popup_skull_clone),get_edited_post_data(t),$("#post_"+t).hide(),$(".black-overlay").show(),$(".edit_post_form").find(".subject_text").show(),$(".edit_post_form").find(".subject_class").show(),$(".edit_post_form").find(".post_categories_maincontent").show(),e.preventDefault()}),$(document).on("click",".cat_id_edtt",function(){$(".category_heading").text($(this).attr("catgoryname")),$(".editcategory").val($(this).val())}),$(document).on("click","#edit_post_category_form .category-field-delete .delete",function(){var e=$(this).closest("li").find("input.category_value"),t=$(this).attr("data-target");$(t).find("p.confirm-text").find("span:first").html($(e).val()),$(this).closest("form").find('input[name="delete_category"]').val($(e).attr("name"))}),$(document).on("click","#category_delete_popup button.cancel",function(){$("#edit_post_category_form").find('input[name="delete_category"]').val(""),$("#category_delete_popup").on("hidden.bs.modal",function(){$(document).find("body.feed").addClass("modal-open")}),$("#modal_category").modal("show")}),$(document).on("click","#category_delete_popup button.delete",function(){$(this).closest(".category-delete-popup").modal("hide"),deleteCategory()}),$("#category_delete_popup").on("shown.bs.modal",function(){$("#modal_category").modal("hide"),$(document).find("body.feed").addClass("modal-open")}),$(document).on("change","#upload_edtt",function(){var e=constants.POST_EXTENSION,t=document.getElementById("upload_edtt").files[0].name;if(t=t.split("."),ext=t.pop(),ext=ext.toLowerCase(),t=t.join("."),e.indexOf(ext)<0)return alert("Only "+e.toString()+" extensions are allowed"),!1;var i=$(this).parent().parent().parent().parent().attr("id");if(1==$("#"+i+" .post_file_edtt").length){t=document.getElementById("upload_edtt").files[0].name;var s="";$("#blah_edit").hide(),readURL_edtt(this,t,s),t=t.split("."),ext=t.pop(),t=t.join("."),$(".upload_file_name_edtt").html(t.toString()),$("#"+i+" .post_categories_file_edt").show()}else preview_before_upload_edita(this,i);var n=$(this).clone();$(this).attr("id","post_file_d_"+($("#"+i+" .post_file_edtt").length-1)),$(this).after(n),$(".remove-all").show()}),$(document).on({mouseenter:function(){is_mouse_inside_tour=!0},mouseleave:function(){is_mouse_inside_tour=!1}},".single-cmt-wrap, .edit-comment, .save_cmt"),$(document).on("click",".editpost_data",function(){$(".navbar-header .dropdown-toggle,.navbar-header .nav-btn, .navbar-nav .nav-btn").css("pointer-events","none")}),$(document).on("click",".edit_popup_skull_clone button.post_btn",function(){$(".navbar-header .dropdown-toggle,.navbar-header .nav-btn, .navbar-nav .nav-btn").css("pointer-events","unset")}),$(document).on("click",".minimize-post",function(){var e=$(this),t=$(e).attr("attr-id"),i=$(e).attr("attr-uid");$.ajax({type:"GET",dataType:"html",url:baseurl+"/expandpost?postid="+t+"&userid="+i+"&type=true",success:function(i){var s=$("#post_"+t+" .post-feed-section").closest(".post-wrap");s.addClass("minimize"),s.find(e).removeClass("minimize-post"),s.find(e).addClass("m-collapse"),s.find(".post-description .full_description").hide(),s.find(".post-description .trim_description").hide(),s.find(".expand_view_content").hide(),s.find(e).html('<span class="dropdown-post-icon"><img src="'+baseurl+'/images/ic_unfold.svg"></span>Expand post')},error:function(e,t,i){logErrorOnPage(e,t,i,"minimize-post - click")}})}),$(document).on("click",".minimize-collapse,.m-collapse",function(){var e=$(this),t=$(e).attr("attr-id"),i=$(e).attr("attr-uid");$.ajax({type:"GET",dataType:"html",url:baseurl+"/expandpost?postid="+t+"&userid="+i+"&type=false",success:function(e){expandPost(t)},error:function(e,t,i){logErrorOnPage(e,t,i,"post minimize - click")}})}),$(document).on("change",".company_admin",function(){var e=$(".buyer_info_hidden").attr("sub-comp-active");if(1==e){var t=$(".buyer_info_hidden").attr("buyer-id"),i=$(".buyer_info_hidden").val(),s=$(this).find(":selected").val(),n=$(this).find(":selected").text();t==s&&i==n?($(".sub_comp_div").css("display","block"),$(".sub_comp_input").attr("name","sub_comp"),$(".sub_comp_input").addClass("c_side_validation")):($(".sub_comp_input").removeAttr("name"),$(".sub_comp_div").css("display","none"),$(".sub_comp_input").removeClass("c_side_validation"))}}),$(".company_admin").trigger("change"),$(document).on("keyup",".sub_comp_input",function(){var e=$(this).val();
$(".sub_comp_input .client_side_validation_msg").hide();var t=$(".hidden_sp_id").val();$.ajax({type:"GET",dataType:"html",url:baseurl+"/search_sub_comp?comp="+e.trim()+"&space_id="+t,success:function(t){$("#suggesstion-box").show(),$("#suggesstion-box").html(t),$(".sub_comp_add_list").html("Add ' "+e+" '").css("color","#0D47A1"),$(".sub_comp_input").css("background","#FFF");var i=$(".sub_comp_hid_input").length;"1"==i&&$(".sub_comp_add_list").hide()}})}),$(document).on("click",".sub_comp_add_list",function(){$("#suggesstion-box").hide()}),$(".visible_search_in").keyup(function(){var e=$(this).val().toLowerCase();$(".visibilty-drop li label").each(function(){var t=$(this).text().toLowerCase(),i=t.indexOf(e);i>=0?$(this).show():($(this).hide(),$(this).parent().css("border-bottom","none"))})}),$(".visible_search_in_groups").keyup(function(){var e=$(this).val().toLowerCase();$(".label-wrap label").each(function(){var t=$(this).text().toLowerCase(),i=t.indexOf(e);i>=0?($(this).show(),$(this).parent().css("border-bottom","1px solid #e0e0e0 ")):($(this).hide(),$(this).parent().css("border-bottom","none"))})}),$(".visible_search_in_groups_edit").keyup(function(){var e=$(this).val().toLowerCase();$(".label-wrap label").each(function(){var t=$(this).text().toLowerCase(),i=t.indexOf(e);i>=0?($(this).show(),$(this).parent().css("border-bottom","1px solid #e0e0e0 ")):($(this).hide(),$(this).parent().css("border-bottom","none"))})});var form=$(".direct-upload"),folders=["post_file"];form.fileupload({url:form.attr("action"),type:form.attr("method"),datatype:"xml",add:function(e,t){var i=t.files[0];if(constants.POST_EXTENSION.indexOf(i.name.split(".").pop().toLowerCase())<0)return alert("Wrong extension type. Please upload "+constants.POST_EXTENSION.toString()+" Files"),upload_feed_file_error(),0;window.onbeforeunload=function(){return"You have unsaved changes."},$(".post_btn").attr("disabled",!0),$(".close_trigger").css("pointer-events","none"),uid=t.files[0].uid=Date.now()+"_uid";var s=Date.now()+"."+i.name.split(".").pop();form.find('input[name="Content-Type"]').val(i.type),form.find('input[name="key"]').val((folders.length?folders.join("/")+"/":"")+s),s3_upload_xhr[uid]=t.submit();var n=i.name.split(".").pop();uploaded_file_aws_unik=uid;var o=$(".post_attachment_skull").clone();o.removeClass("post_attachment_skull"),o.addClass("post_attachment"),"mov"==n.toLowerCase()&&(o.addClass("post_attachment_mov"),o.attr("data-toggle","popover"),o.attr("data-trigger","hover"),o.attr("data-placement","bottom"),o.find(".close").after('<span class="alert"><i class="fa fa-question-circle"></i></span>'),o.attr("data-content","This file type is being converted and may take a few seconds to appear.")),o.find(".progress-bar-striped").addClass(uploaded_file_aws_unik),file_name=i.name.split("."),file_name.pop(),o.find(".upload_file_name").html(file_name.join(".")),o.find(".close_trigger").attr("id",uploaded_file_aws_unik),o.find("img").eq(1).attr("src",extension_wise_img(i.name.split(".").pop())),o.show(),$(".upload-content").eq($(".upload-content").length-2).after(o)},progress:function(e,t){uid=t.files[0].uid;var i=Math.round(t.loaded/t.total*100);$("."+uid).width(i+"%"),$("."+uid).html(i+"%"),100==i&&$("."+uid).parent().hide()},fail:function(e,t){attachment_element=$("."+uid).parent().closest(".post_attachment"),attachment_element.addClass("attachment-error"),attachment_element.find(".progress").hide(),attachment_element.find(".upload_file_name").html(attachment_element.find(".upload_file_name").html()+'<strong style="color:red"> - file upload failed</strong>'),window.onbeforeunload=null,$('.progress[data-mod="'+t.files[0].size+'"] .bar').css("width","100%").addClass("red").html(""),$(".direct-upload").fileupload("progress").loaded==$(".direct-upload").fileupload("progress").total&&$(".post_btn").attr("disabled",!1)},done:function(e,t){window.onbeforeunload=null;var i=t.files[0],s=xmlToJson(t.result.documentElement),n=s.Key,o=n.split(".")[1],a=i.type,r=s.Location;"mov"==o.toLowerCase()&&(convertVideo(n),a="video/mp4",r=r.replace(o,"mp4"),$(".post_attachment_mov").popover({trigger:"hover"})),filesUploaded.push({originalName:i.name,s3_name:n,size:i.size,url:r,mimeType:a}),$(".close_trigger").css("pointer-events","auto"),$("#uploaded").html(JSON.stringify(filesUploaded,null,2)),uploaded_file_aws.push(JSON.stringify(filesUploaded,null,2)),$('input[name="uploaded_file_aws"]').val(JSON.stringify(filesUploaded,null,2)),preview_before_upload_aws(),$(".direct-upload").fileupload("progress").loaded==$(".direct-upload").fileupload("progress").total&&$(".post_btn").attr("disabled",!1)}});var is_ios=/(iPhone)/g.test(navigator.userAgent);is_ios===!0&&($(".pro_info_member textarea#jobtitletxt").addClass("job-title-text"),$(".pro_info_member textarea#biotextarea").addClass("job-title-text")),$(document).on("click",".top_post_seller",function(){var e=$(this).text(),t=window.location.href,i=t.substring(t.lastIndexOf("/")+1);$.ajax({type:"GET",async:!1,url:baseurl+"/gettopthreepost?month="+$("#curnt-month").attr("monnum")+"&year="+$("#curnt-month").attr("yearnum")+"&company="+e+"&space_id="+i,success:function(e){$(".top-post-ajax-div").html(e),$(".t_post").removeClass("active"),$(".top_post_seller").addClass("active")}})}),$(document).on("click",".top_post_all",function(){$(".t_post").removeClass("active");var e=window.location.href,t=e.substring(e.lastIndexOf("/")+1);$.ajax({type:"GET",async:!1,url:baseurl+"/gettopthreepost?month="+$("#curnt-month").attr("monnum")+"&year="+$("#curnt-month").attr("yearnum")+"&space_id="+t,success:function(e){$(".t_post").removeClass("active"),$(".top_post_all").addClass("active"),$(".top-post-ajax-div").html(e)}})}),$(document).on("click",".top_post_buyer",function(){var e=$(this).text(),t=window.location.href,i=t.substring(t.lastIndexOf("/")+1);$.ajax({type:"GET",async:!1,url:baseurl+"/gettopthreepost?month="+$("#curnt-month").attr("monnum")+"&year="+$("#curnt-month").attr("yearnum")+"&company="+e+"&space_id="+i,success:function(e){$(".top-post-ajax-div").html(e),$(".t_post").removeClass("active"),$(".top_post_buyer").addClass("active")}})}),$(document).on("click",".remove_executive_s3_file",function(){var e=$(this).attr("id"),t=new Array;$.each(s3_executive,function(i){this.uid!=e&&(t[i]=s3_executive[i])}),$("input.deleted_executive_aws_files_data").val(JSON.stringify(s3_executive,null,2)),delete s3_executive,s3_executive=t,$("input.executive_aws_files_data").val(JSON.stringify(s3_executive,null,2)),$(this).closest(".executive_file_s3").remove(),$("span.fileupload-new").show(),$("i.fa-upload").show(),$(".upload_doc_col").show()}),$(document).on("click",".summary_cancel",function(){var e=Object.keys(s3_upload_xhr);$.each(e,function(t){s3_upload_xhr[e[t]].abort(),$("#"+e[t]).remove(),location.reload()})}),$(document).on("click",".pdf_list_file",function(e){$($(this).find("a").attr("data-target")).find("iframe").length?($($(this).find("a").attr("data-target")).find(".modal-loader").show(),$($(this).find("a").attr("data-target")).find("iframe").attr("src",$($(this).find("a").attr("data-target")).find("iframe").attr("src")),iframe_load($($(this).find("a").attr("data-target")).find("iframe"),"")):$(".modal-loader").hide()}),$(document).on("click","i.fa-expand, i.fa-compress",function(e){$(this).parent().closest(".modal").find("iframe").length?($($(this).parent().closest(".modal")).find(".modal-loader").show(),$(this).parent().closest(".modal").find("iframe").attr("src",$(this).parent().closest(".modal").find("iframe").attr("src")),iframe_load($(this).parent().closest(".modal").find("iframe"),"")):$(".modal-loader").hide()}),$(".edit_share_name").on("click",function(e){$(".share_name").hide(),$(".edit_share").show(),$(".updated_share").focusEnd()}),$(".edit_user_name").on("click",function(e){$(this).hide(),$(".user_first_last_name").hide(),$(".edit_user").show()}),$(".cancel_edit_share").on("click",function(e){$(".share_name").show(),$(".edit_share").hide()}),$(".cancel_user_name").on("click",function(e){$(".user_first_last_name").show(),$(".edit_user").hide();var t=$("#first_prev_name").val(),i=$("#last_prev_name").val();$("#first_name").val(t),$("#last_name").val(i),$(".first_name_text_error").css("display","none"),$(".last_name_text_error").css("display","none"),$(".edit_user_name").show()}),$(document).on("keyup","#first_name",function(){var e=$("#first_name").val().length;e>0&&$(".first_name_text_error").css("display","none")}),$(document).on("keyup","#last_name",function(){var e=$("#last_name").val().length;e>0&&$(".last_name_text_error").css("display","none")}),$(document).on("change","#landing_company",function(){$(this).val().length&&$(".company_admin .client_side_validation_msg").hide()}),$(document).on("keyup",".subject_validate",function(){var e=$(".subject_validate").val().length;e>0&&$(this).next("span").remove()}),"reply"==extractUrlParam(window.location.href,"action")&&$(".comment-area").focus().trigger("click")}),$(".community-unlocked-column, .community-locked-column").addClass("hidden");var category_flag=!1,tour_guide={executive:{element:".executive_col_tile",title:"Add an Executive Summary to the Client Share.",content:"Use this to share key information about your relationship. Consider uploading a welcome video of an account summary document to add detail to the Executive Summary.",backdrop:!0,backdropPadding:0,placement:"bottom",template:"<div class='popover tour'><div class='arrow'></div> <h3 class='popover-title'></h3><div class='popover-content'></div><div class='popover-navigation'><button class='tourlink' data-role='next'>GOT IT</button></div></div>"},category:{element:"#tour4",title:"Categories",content:"All posts that are added to the Client Share are given a category to help organise them. Members of the Client Share can choose to view posts according to their category.",backdrop:!0,backdropPadding:0,placement:"bottom",template:"<div class='popover tour'><div class='arrow'></div> <h3 class='popover-title'></h3><div class='popover-content'></div><div class='popover-navigation'><button class='tourlink' data-role='next'>GOT IT</button></div></div>"},post:{element:"#tour2",content:"Post something to the Client Share so members can see your content when they join. You can add text, links, documents or media. When members join the Client Share, anybody can restrict who can see their posts and set an alert to tell other members that content has been added.",backdrop:!0,backdropPadding:0,placement:"bottom",template:"<div class='popover tour'><div class='arrow'></div> <h3 class='popover-title'></h3><div class='popover-content'></div><div class='popover-navigation'><button class='tourlink' data-role='next'>GOT IT</button></div></div>"},invite:{element:"#tour3",title:"Invite Members",content:"When you are ready, you can invite members to join you on the Client Share.",backdrop:!0,backdropPadding:0,placement:"bottom",template:"<div class='popover tour'><div class='arrow'></div> <h3 class='popover-title'></h3><div class='popover-content'></div><div class='popover-navigation'><button class='tourlink endtour' data-role='end'>FINISH TOUR</button></div></div>"}},user_wise_tour={user:["category","post","invite"],admin:["executive","category","post","invite"]},triggerPendingOnboardingSteps=once(function(){$(".wc-step-uncomplete").length&&$(".wc-step-uncomplete").eq(0).parent().find("p").trigger("click")});$(document).ready(function(){addProgressBarsection(),toggleAddTwitterFeedButton(),$(".category-count").each(function(){val=$(this).closest(".tour-category-list").find(".category_value").val(),$(this).html(val.length)})}),$(document).on("click",".finish-setup-alert a",function(){pending_steps=$(".wc-step-done.wc-step-uncomplete"),step=pending_steps.eq(0).attr("data-step"),showOnboardingPopup(step)}),$(document).on("click",".admin-progress-icon a",function(){return $("div.welcome-cs-popup").addClass("hidden"),step=$(this).attr("data-step"),!("undefined"==typeof step||!step)&&void showOnboardingPopup(step)}),$(document).on("click",".wc-step-col p",function(){return $("div.welcome-cs-popup").addClass("hidden"),step=$(this).parent().find(".wc-step-done").attr("data-step"),!("undefined"==typeof step||!step)&&void showOnboardingPopup(step)}),$(document).on("click",".endtour",function(){show_feedback&&$("#feedback-popup").modal("show"),$.ajax({type:"GET",url:baseurl+"/update_showtour",success:function(e){},error:function(e,t,i){}})}),$(document).on("click",".add-admin-invite-link",function(e){var t='<div class="twitter-input-col"><input class="form-control twitter-feed-input" name="admin_invite[]" placeholder="Email address" type="text"></div>';$(".admin-invite-box").append(t)}),$(document).on("click",".btn-invite-handle",function(e){current_step=$(this).closest(".welcome-cs-popup");var t=validateAdminInviteEmail(this);if(!t)return!1;email_array=[];var i=!0;if($(".admin-invite-box .twitter-input-col input").each(function(e,t){var s=$(this).val();$.inArray(s,email_array)!==-1&&($(this).addClass("has-error"),$(this).parent().append('<span class="admin-invite-error">Email already mentioned in input.</span>'),setTimeout(function(){$(".edit-admin-invite").find(".admin-invite-error").remove(),$(".admin-invite-box .twitter-feed-input").removeClass("has-error")},4e3),i=!1),""!=s.trim()&&(email_array[e]=s)}),!i)return!1;var s=[];s[0]=$(".admin_invite_body").val();var n=$(".admin_invite_subject").val(),o={async:!0,crossDomain:!0,url:baseurl+"/invite_admin_user",method:"post",headers:{"cache-control":"no-cache","X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{share_id:session_space_id,admin_invite:email_array,user:{first_name:"",last_name:"",user_type_id:2,onboarding:!0,subject:n},mail:{body:s}}};$("#welcome_tour .form-submit-loader").removeClass("hidden"),$.ajax(o).done(function(e){$("#welcome_tour .form-submit-loader").addClass("hidden"),"undefined"!=typeof e.code&&400==e.code?($(".admin-invite-box div:nth-child("+e.key+")").find("input").addClass("has-error"),$(".admin-invite-box div:nth-child("+e.key+")").append('<span class="admin-invite-error">'+e.message+"</span>"),setTimeout(function(){$(".edit-admin-invite").find(".admin-invite-error").remove(),$(".admin-invite-box div:nth-child("+e.key+")").find("input").removeClass("has-error")},5e3)):200==e.code&&(e.space_admin.length>0&&($(".admin-invite-result-box").removeClass("hidden"),appendSpaceUserInInviteAdminScreen(e.space_admin)),$(".admin-invite-box .twitter-feed-input").val(""),updateNextStep(current_step))})}),$(document).on("click",".tour-next-step",function(e){return current_step=$(this).closest(".welcome-cs-popup"),!!saveCategory(current_step,e)&&(!!saveDomain(current_step,e)&&void updateNextStep(current_step))}),$(document).on("click",".tour-previous-step",function(){$(".tour-domain-list span.error-msg").remove(),$(".tour-domain-list input").removeClass("has-error"),current_step=$(this).closest(".welcome-cs-popup"),current_step.addClass("hidden"),current_step.prev($(".welcome-cs-popup")).removeClass("hidden")}),$(document).on("click",".add-domain",function(){domain_layout=$(this).closest(".welcome-tour-domain-col").find(".tour-domain-list"),domain_layout_clone=domain_layout.eq(0).clone(),domain_layout_clone.find("input").val(""),domain_layout_clone.find("input").removeClass("has-error"),domain_layout_clone.find("input").removeAttr("readonly"),domain_layout_clone.find("input").attr("name","rule[]"),domain_layout_clone.append('<span class="wc-domain-delete"><img src="'+baseurl+'/images/ic_deleteBlue.svg"></span>'),domain_layout_clone.find(".link-input-icon p").html(domain_layout.length+1),domain_layout_clone.find(".error-msg").remove(),$(".tour-domain-list").eq(domain_layout.length-1).after(domain_layout_clone)}),$(document).on("click",".add-tour-category",function(){addCategory(this),$(".tour-category-list").length%2!=0&&addCategory(this)}),$(document).on("click",".wc-categories-delete",function(){$(this).closest(".tour-category-list").remove()}),$(document).on("click",".wc-domain-delete",function(){$(this).closest(".tour-domain-list").remove(),$(".tour-domain-list").each(function(e){$(this).find(".link-input-icon p").html(e+1)})}),$(document).on("click",".add_post_trigger",function(){current_step=$(this).closest(".welcome-cs-popup"),updateTourStep(current_step.attr("data-step")),current_step.addClass("hidden"),current_step.prev($(".welcome-cs-popup")).removeClass("hidden"),$("#welcome_tour").modal("hide"),$(".add_post_form .post_subject").trigger("click")}),$(document).on("click","#onboarding_twitter_handles .add-handles",function(e){addTwitterFeedInput(e)}),$(document).on("click",".btn-twitter-handle",function(){$(".tour-domain-list span.error-msg").remove(),$(".tour-domain-list input").removeClass("has-error"),$(".tour-twitter-list").each(function(e){$(this).find(".twitter-input-col input").attr("id","twitter_handle_"+e)}),$("#onboarding_twitter_handles").submit()}),$(document).on("click","form#update_welcome_share_logo .onboarding_company_logo",function(){$(".twitter-input-col input").removeClass("has-error"),$(".twitter-error").remove();var e=$(".seller_twitter_name").val().trim(),t=$(".buyer_twitter_name").val().trim();e&&$("#onboarding_twitter_handles #twitter_handle_0").val(e),!e&&t&&$("#onboarding_twitter_handles #twitter_handle_0").val(t)}),$(document).on("click","form#update_welcome_share_banner .onboarding_company_logo",function(){var e=$(".seller_twitter_name").val().trim(),t=$(".buyer_twitter_name").val().trim(),i=$("#twitter_handle_2").val();e&&t&&($("#onboarding_twitter_handles .add-handles").trigger("click"),$("#onboarding_twitter_handles #twitter_handle_1").val(t),""!=$("#twitter_handle_1").val()&&"undefined"!=typeof i&&i.length<2&&$("#twitter_handle_2").val("")),("undefined"!=typeof i&&i.length<2||""==i)&&$("#twitter_handle_2").parent().find(".remove-handle").trigger("click")}),$(document).on("submit","#onboarding_twitter_handles",function(e){var t=validateInputs("welcome_twitter_feed_modal");if(!t)return!1;$(".welcome_twitter_feed_modal .twitter-feed-input").removeClass("has-error"),$(".btn-twitter-handles").attr("disabled",!0),e.preventDefault();var i=$(this),s=new FormData(i[0]);return $.ajax({type:"post",url:baseurl+"/save_twitter_feed?space_id="+session_space_id,data:s,async:!0,success:function(e){e.result?($(".btn-twitter-handles").attr("disabled",!1),current_step=i.closest(".welcome-cs-popup"),updateTourStep(current_step.attr("data-step")),current_step.addClass("hidden"),current_step.next($(".welcome-cs-popup")).removeClass("hidden"),getTwitterFeeds(),addProgressBarsection()):($(".welcome_twitter_feed_modal #twitter_handle_"+e.key).addClass("has-error"),$(".welcome_twitter_feed_modal #twitter_handle_"+e.key).closest("div.twitter-handle").append($('<p class="error twitter_links_error">'+e.error+"</p>")))},error:function(e,t,i){logErrorOnPage(e,t,i,"onboarding_twitter_handles")},cache:!1,contentType:!1,processData:!1}),!1}),$(document).on("click",".slider.round",function(){$(".slider-toggle-on-content").toggleClass("hidden"),$(".slider-toggle-off-content").toggleClass("hidden")}),$(document).on("hidden.bs.modal",".modal",function(){$(".modal:visible").length&&$(document.body).addClass("modal-open")});